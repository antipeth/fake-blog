<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title></title>
    <link rel="self" type="application/atom+xml" href="https://blog.0pt.icu/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://blog.0pt.icu"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2025-01-17T00:00:00+00:00</updated>
    <id>https://blog.0pt.icu/atom.xml</id>
    <entry xml:lang="en">
        <title>2024</title>
        <published>2025-01-17T00:00:00+00:00</published>
        <updated>2025-01-17T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/think/2024/"/>
        <id>https://blog.0pt.icu/posts/think/2024/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/think/2024/">&lt;h1 id=&quot;2024&quot;&gt;2024&lt;&#x2F;h1&gt;
&lt;h3 id=&quot;1yue&quot;&gt;1月&lt;&#x2F;h3&gt;
&lt;p&gt;可能是考试考的无聊了,我对窗口管理器产生兴趣，因为我觉得，桌面环境是冗杂的，强塞给我了许多我用不到的东西。
之前第一次听说窗口管理器这个概念,还是我从一个朋友那边听说的&lt;code&gt;dwm&lt;&#x2F;code&gt;，他将其作为c语言源码读物，并且跟我畅想自己如何在原来的基础上进行改进，比如集成ai交互功能。
在那之后,我一直使用的是&lt;code&gt;Endeavour OS&lt;&#x2F;code&gt;与&lt;code&gt;Garuda&lt;&#x2F;code&gt;这俩个&lt;code&gt;Arch Linux&lt;&#x2F;code&gt; 发行版自带的&lt;code&gt;KDE&lt;&#x2F;code&gt;桌面环境，这俩个发行版提供了一个美化过的&lt;code&gt;KDE&lt;&#x2F;code&gt;桌面，尤其是&lt;code&gt;Garuda&lt;&#x2F;code&gt;，自带的美化&lt;code&gt;KDE&lt;&#x2F;code&gt;看起来非常帅气。
&lt;code&gt;KDE&lt;&#x2F;code&gt;是令人尊敬的,好用的桌面环境，但正如之前我批判&lt;code&gt;Windows&lt;&#x2F;code&gt;的桌面比较臃肿一样，我渐渐觉得&lt;code&gt;KDE&lt;&#x2F;code&gt;也出现这种问题。当我下载&lt;code&gt;KDE&lt;&#x2F;code&gt;的时候，他总是会把&lt;code&gt;KDE&lt;&#x2F;code&gt;生态的一些软件一起捆绑安装了。
我在一次网络冲浪中偶然得知了窗口管理器,之前那位朋友说的&lt;code&gt;dwm&lt;&#x2F;code&gt;的时候，我其实压根没记住窗口管理器。当我发现这个东西利用几个快捷键，可以实现令人惊叹的窗口管理效率。
在传统桌面环境中,不仅是桌面整体冗杂，而且开一个软件，将其调整为合适的窗口，都需要鼠标去点击。而窗口管理器，能直接通过几个简单快捷键的去实现这个功能。
于是,我决定尝试一下窗口管理器。我考量了许多的窗口管理器，最后决定选用&lt;code&gt;Hyprland&lt;&#x2F;code&gt;。
后面发现使用窗口管理器,还需要与其他组件相配合，比如状态栏(&lt;code&gt;waybar&lt;&#x2F;code&gt;)，比如菜单(&lt;code&gt;rofi&lt;&#x2F;code&gt;)，顺便把一直以来的shell从&lt;code&gt;fish&lt;&#x2F;code&gt;换成&lt;code&gt;zsh&lt;&#x2F;code&gt;。而且，这些全部都是高度自定义的。自然而然的滚去写配置文件了。
配置文件配的令我痛苦,参考很多别人的配置，阅读官方文档，终于是配出了一个差强人意的Hyprland窗口管理器生态。直接在我的&lt;code&gt;Endeavour OS&lt;&#x2F;code&gt;上面把&lt;code&gt;KDE&lt;&#x2F;code&gt;卸载，安装上了&lt;code&gt;Hyprland&lt;&#x2F;code&gt;。
同时,我的建站差不多也是这个时候完成。我使用&lt;code&gt;debian12&lt;&#x2F;code&gt;作为我的服务器系统，&lt;code&gt;1panel&lt;&#x2F;code&gt;作为管理面板，&lt;code&gt;nginx&lt;&#x2F;code&gt;作为反向代理方案，建了一些有意思的东西，并用上了&lt;code&gt;cloudfront&lt;&#x2F;code&gt;的cdn。
在我另一位朋友的建议下,我进行了去&lt;code&gt;Google&lt;&#x2F;code&gt;化的工作，把所有的用&lt;code&gt;Google&lt;&#x2F;code&gt;注册的账号进行焚烧，换成&lt;code&gt;disroot&lt;&#x2F;code&gt;与&lt;code&gt;murena&lt;&#x2F;code&gt;邮箱，同时，也逃离&lt;code&gt;cloudflare&lt;&#x2F;code&gt;，把我的域名DNS迁移到&lt;code&gt;Netlify&lt;&#x2F;code&gt;上面。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;2yue&quot;&gt;2月&lt;&#x2F;h3&gt;
&lt;p&gt;在家憋&lt;code&gt;neovim&lt;&#x2F;code&gt;的配置,非常魔怔。
我对&lt;code&gt;NixOS&lt;&#x2F;code&gt;感兴趣,也是偶然听说的，秉承着每一个著名Linux的发行版，都要过去品鉴一下的想法，去了解了一下&lt;code&gt;NixOS&lt;&#x2F;code&gt;。感觉函数声明式配置整个系统是我的梦想中的安装系统的方式，果断入坑。反思了一下之前&lt;code&gt;Arch Linux&lt;&#x2F;code&gt;的使用经历，安装软件多，导致自己都不知道装了哪些东西，问题偶发，重装更是家常便饭。如果系统直接由配置文件进行设置，而且是原子性的，那我的系统会十分的安全透明，而且也是高度自定义。
经过之前配置&lt;code&gt;Hyprland&lt;&#x2F;code&gt;的痛苦经历,这次直接学聪明了，直接抄了一个别人非常完善的配置，在此基础上进行修改。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;3yue&quot;&gt;3月&lt;&#x2F;h3&gt;
&lt;p&gt;先购置了一台二手手机,进行了一波刷机。再在&lt;code&gt;Virtual Box&lt;&#x2F;code&gt;上面测试我的nixos配置。测试的差不多之后，直接把&lt;code&gt;Arch Linux&lt;&#x2F;code&gt;卸载了，换装&lt;code&gt;NixOS&lt;&#x2F;code&gt;。经过事后来看，&lt;code&gt;NixOS&lt;&#x2F;code&gt;稳定性极佳，在2024年剩下的时间里，除了某些不可抗拒的天灾人怨，&lt;code&gt;NixOS&lt;&#x2F;code&gt;一直运行良好。
从此,我的硬盘结构为一个512G的m2固态专门装一个&lt;code&gt;NixOS&lt;&#x2F;code&gt;，一个2t的m2固体拿来做&lt;code&gt;Ventoy&lt;&#x2F;code&gt;战斗盘，我的&lt;code&gt;Windows&lt;&#x2F;code&gt;封装为虚拟磁盘和linux镜像文件，都由&lt;code&gt;Ventoy&lt;&#x2F;code&gt;进行引导。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;4yue&quot;&gt;4月&lt;&#x2F;h3&gt;
&lt;p&gt;开始研究分体键盘,之前偶然从某个up主的技术视频里面，看到了他所使用的，符合人体工程学的分体键盘，在购物平台搜索无法找到，后面发现这种键盘是自己制作的。资料全部开源。我选择了最简单的&lt;code&gt;Corne&lt;&#x2F;code&gt;分体键盘作为我的入门之作。根据&lt;code&gt;corne&lt;&#x2F;code&gt;官方和别人教学视频给出的物料单，我购置了键盘的pcb板，二极管，led灯，微动开关，耳机孔，主控板，屏幕，还有电烙铁与一系列的焊接工具，自己尝试焊接制作分体键盘。
这是我第一次焊接,我预料到了我会问题频发，又买了一些练习用的pcb板和电阻以供练习。在练习的差不多后，我惊讶的发现，我的主控板的针脚多出来一对，我当时完全不知道怎么处理，只是想着确定一下针脚信号的，把多出来的一对针脚剪掉，但是我尝试了我所有的工具，无法剪断针脚，于是我把针脚用力掰弯，勉强可以焊接。但是，当我把物料都焊接到键盘pcb板的时候才发现，主控在我的摧残之下，已经坏掉了。不仅是失败了，还直接损失了百来块。
了解其他的终端编辑器,特别是&lt;code&gt;Helix&lt;&#x2F;code&gt;，我提出了这样一个观点:&quot;现代的工具应该提供开箱即用和简单化的配置，&lt;code&gt;vscode&lt;&#x2F;code&gt;就是这样一个典范&quot;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;5yue&quot;&gt;5月&lt;&#x2F;h3&gt;
&lt;p&gt;由于想尝试不同的&lt;code&gt;Linux&lt;&#x2F;code&gt;发行版,又不想在虚拟机上面体验(我觉得虚拟机有点延迟和卡顿，当时还没用上&lt;code&gt;qemu&lt;&#x2F;code&gt;，如果用上了就不会这么认为了)，我想起了&lt;code&gt;Ventoy&lt;&#x2F;code&gt;可以引导linux的虚拟磁盘。便开始制作各种linux的虚拟磁盘，这个叫做&lt;code&gt;vtoy&lt;&#x2F;code&gt;，我先后制作了:
&lt;code&gt;UOS&lt;&#x2F;code&gt;(刚开始很看好,大名鼎鼎，后面发现正常用需要激活，得花钱购买)
&lt;code&gt;Deepin&lt;&#x2F;code&gt;(&lt;code&gt;DEE&lt;&#x2F;code&gt;桌面环境非常好,基本是&lt;code&gt;UOS&lt;&#x2F;code&gt;的免费版，linux内核有点旧，我安装nvidia驱动的时候还遇到非常多的问题但后面全部制服了，应用商店看起来国产生态很不错，有些软件还是会有问题，不过都在慢慢改进，作为一个办公系统还是不错的，我后面把他当作我的b站播放器了)
&lt;code&gt;Kali Linux&lt;&#x2F;code&gt;(大名鼎鼎,但是最新镜像制作出来的&lt;code&gt;vtoy&lt;&#x2F;code&gt;用引导，进入系统会非常卡顿，会卡在加载logo大概2分钟，用旧版本的感觉又少了点什么东西，不舒服)
&lt;code&gt;Fedora&lt;&#x2F;code&gt;(我不装Nvidia闭源驱动,就能正常驱动我的显卡，感觉非常强大，这在之前无法想象)。
&lt;code&gt;Ubuntu&lt;&#x2F;code&gt;(这是我第一次用&lt;code&gt;Ubuntu&lt;&#x2F;code&gt;,没什么感觉，接外接屏幕会偶尔出现屏幕撕裂)
&lt;code&gt;Debian12&lt;&#x2F;code&gt;(这个直接跟你说&lt;code&gt;Debian12&lt;&#x2F;code&gt;不支持)
&lt;code&gt;Athena OS&lt;&#x2F;code&gt;(另一个网络安全的系统,是基于&lt;code&gt;Black Arch&lt;&#x2F;code&gt;的软件源，装的是arch的版本，这个直接无法引导)
&lt;code&gt;CachyOS&lt;&#x2F;code&gt;(一切正常)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;6-7yue&quot;&gt;6,7月&lt;&#x2F;h3&gt;
&lt;p&gt;我的另一个朋友对硬件比较专业,我叫上他再战分体键盘。经过他的指导，还有他帮助我打印pcb板，3D打印分体键盘外壳。我这回买对了主控板，直接成功做出来2副分体键盘，1副自用，1副送朋友了。
用了分体键盘,感觉非常好用。只是比较遗憾这种东西没有键盘厂家去做这样的小众产品。
继续研究Unix文化,发现了&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;，大大扩展了我的眼界。我发现我笔记本无法正常安装&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;桌面(xorg有问题，连带着wayland也有问题，以后面的视角来看，是自己太年轻了，其实是可以解决的)，于是在虚拟机和从同学那里借来的老式笔记本上面安装测试。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;8yue&quot;&gt;8月&lt;&#x2F;h3&gt;
&lt;p&gt;研究了一下ctf相关的东西。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;9yue&quot;&gt;9月&lt;&#x2F;h3&gt;
&lt;p&gt;在我的x79平台上面安装&lt;code&gt;PVE&lt;&#x2F;code&gt;,进行研究硬件直通，以此，我成功的把虚拟机里的显示信号通过显卡输出到我的显示器上面。非常高兴，我直接安装&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;，参考我之前研究的配置，配好了&lt;code&gt;Hyprland&lt;&#x2F;code&gt;,&lt;code&gt;waybar&lt;&#x2F;code&gt;,&lt;code&gt;rofi&lt;&#x2F;code&gt;,&lt;code&gt;neovim&lt;&#x2F;code&gt;等工具，用了一段时间发现，鼠标会有拖影，&lt;code&gt;Hyprland&lt;&#x2F;code&gt;会闪退。
然后,在&lt;code&gt;PVE&lt;&#x2F;code&gt;虚拟机里面安装黑苹果，特地买了显卡，结果发现无法直通视频信号，原来是虚拟借机必须启用&lt;code&gt;UEFI&lt;&#x2F;code&gt;，我x79是&lt;code&gt;Legacy Bios&lt;&#x2F;code&gt;，显卡也不支持&lt;code&gt;UEFI&lt;&#x2F;code&gt;，于是给显卡刷了支持&lt;code&gt;UEFI&lt;&#x2F;code&gt;的&lt;code&gt;vbios&lt;&#x2F;code&gt;，结果发现显卡有点问题，本来应该是免驱卡无法免驱，于是又买了一个另外型号的免驱卡，结果依然不支持&lt;code&gt;UEFI&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;10yue&quot;&gt;10月&lt;&#x2F;h3&gt;
&lt;p&gt;送了同学一个x79板u,送前成功安装了一个黑苹果，结果体验发现，有些软件无法安装，推测cpu缺少指令集了。
被黑苹果和&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;整红温了,一气之下组了一个3.4L的核显itx。然后，成功制服了我的笔记本&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;的xorg和wayland的问题。后面，给itx安装&lt;code&gt;Ventoy&lt;&#x2F;code&gt;,&lt;code&gt;黑苹果&lt;&#x2F;code&gt;和&lt;code&gt;NixOS&lt;&#x2F;code&gt;,十分喜爱。
深入了解&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;,发现之前自己被&lt;code&gt;Linux&lt;&#x2F;code&gt;下的苦难哲学所束缚，从之前的开源小将开始转变，用我的话说就是&quot;差不多得了&quot;。
认识到&lt;code&gt;Linux&lt;&#x2F;code&gt;社区有局限性。后面放弃除&lt;code&gt;NixOS&lt;&#x2F;code&gt;外的linux,转向&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;作为主力系统使用。
&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;非常完美,我几乎是无缝从&lt;code&gt;Linux&lt;&#x2F;code&gt;迁移到&lt;code&gt;FreeBSD&lt;&#x2F;code&gt;，比&lt;code&gt;Ubuntu&lt;&#x2F;code&gt;软件源多，比&lt;code&gt;Arch Linux&lt;&#x2F;code&gt;稳定，摒弃了systemd，甚至有高效的linux兼容层。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;11-12yue&quot;&gt;11,12月&lt;&#x2F;h3&gt;
&lt;p&gt;之前的&lt;code&gt;Astro&lt;&#x2F;code&gt;博客爆炸了,迁移为&lt;code&gt;zola&lt;&#x2F;code&gt;博客。
将我的服务器从&lt;code&gt;Debian12&lt;&#x2F;code&gt;全部迁移为&lt;code&gt;NixOS&lt;&#x2F;code&gt;,使用配置文件来管理我的服务器，十分高效。反代也从&lt;code&gt;nginx&lt;&#x2F;code&gt;换成更加现代的&lt;code&gt;traefik&lt;&#x2F;code&gt;，工作的十分正常和成功。
申请并配置了一手&lt;code&gt;DN42&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>ABOUT2</title>
        <published>2024-12-20T00:00:00+00:00</published>
        <updated>2024-12-20T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/about/about2/"/>
        <id>https://blog.0pt.icu/about/about2/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/about/about2/">&lt;h1 id=&quot;about1&quot;&gt;ABOUT1&lt;&#x2F;h1&gt;
&lt;p&gt;2024-12-20&lt;&#x2F;p&gt;
&lt;h1 id=&quot;about-me&quot;&gt;About Me&lt;&#x2F;h1&gt;
&lt;p&gt;Hey there, I&#x27;m a computer science student. I dig rock music, Linux, BSD, and all things intriguing.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;my-philosophy&quot;&gt;My Philosophy&lt;&#x2F;h1&gt;
&lt;p&gt;Against The Philosophy of Struggling in Linux. From the Perspective of Needs, While Maintaining Curiosity and Exploration Towards New Things.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;foundations&quot;&gt;Foundations&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt;FreeBSD&lt;&#x2F;code&gt; is my main system, and it&#x27;s outstanding. It has a vast number of packages, is secure and stable, and can last for 50 years (just kidding 😁). I will spare no words in praising FreeBSD.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;NixOS&lt;&#x2F;code&gt; is another primary system for me. It has powerful features and is reproducible. It’s the most stable Linux I’ve ever encountered, and unlike Debian, it doesn&#x27;t suffer from a lack of old packages.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Hyprland&lt;&#x2F;code&gt; is my window manager. I used &lt;code&gt;KDE&lt;&#x2F;code&gt; before, also a top-notch desktop environment with loads of ecosystem support, but I prefer &lt;code&gt;Hyprland&lt;&#x2F;code&gt; for its simplicity and customization.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Waybar&lt;&#x2F;code&gt; sits atop my screen, keeping me informed.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Nushell&lt;&#x2F;code&gt; is my shell. It’s written in Rust and comes with many modern features.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Kitty&lt;&#x2F;code&gt; is my terminal. Chose it for better image support. Also, I might throw Alacritty on my machine too.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;my-apps&quot;&gt;My Apps&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt;Yazi&lt;&#x2F;code&gt; is my terminal file manager, crafted in Rust.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Rofi&lt;&#x2F;code&gt; is my app launcher.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Brave&lt;&#x2F;code&gt; is my browser, while Firefox is my backup browser.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Neovim&lt;&#x2F;code&gt; is my text editor. Learning it and trying to make it my go-to for everything.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;BetterBird&lt;&#x2F;code&gt; is my email client, an enhanced version of Thunderbird.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Anytype&lt;&#x2F;code&gt; is my note-taking and planning software. It uses blockchain technology for surprisingly fast sync speeds and is feature-packed. Anytype for everything.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Keepassxc&lt;&#x2F;code&gt; keeps my passwords safe.&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>Docker&#x2F;NixOS使用traefik实现简单反代</title>
        <published>2024-12-20T00:00:00+00:00</published>
        <updated>2024-12-20T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/traefik-simple-guide/"/>
        <id>https://blog.0pt.icu/posts/server/traefik-simple-guide/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/traefik-simple-guide/">&lt;h1 id=&quot;docker-nixosshi-yong-traefikshi-xian-jian-dan-fan-dai&quot;&gt;Docker&#x2F;NixOS使用traefik实现简单反代&lt;&#x2F;h1&gt;
&lt;p&gt;2024-12-20
参考&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;github.com&#x2F;anandslab&#x2F;docker-traefik&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;blog.eleven-labs.com&#x2F;en&#x2F;using-traefik-as-a-reverse-proxy&#x2F;&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;github.com&#x2F;korridor&#x2F;reverse-proxy-docker-traefik&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;wiki.nixos.org&#x2F;wiki&#x2F;Traefik&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;blog.outv.im&#x2F;2022&#x2F;traefik&#x2F;#traefik-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;docker&quot;&gt;Docker&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;httpfan-dai&quot;&gt;http反代&lt;&#x2F;h3&gt;
&lt;p&gt;先是traefik&lt;&#x2F;p&gt;
&lt;p&gt;基本结构是&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;入口(entrypoints)-&amp;gt;路由(routers)-&amp;gt;服务(services)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;先解释几条配置
这个是docker启动traefik的基本配置,使用&lt;code&gt;command&lt;&#x2F;code&gt;传进去&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      - --api.insecure=true # 开启8080端口的webui界面，可以看到traefik可视化面板
&lt;&#x2F;span&gt;&lt;span&gt;      - --providers.docker=true # 开启监控docker容器
&lt;&#x2F;span&gt;&lt;span&gt;      - --providers.docker.exposedbydefault=false # 默认不自动暴露容器,隐藏此容器
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来是入口&lt;code&gt;entrypoints&lt;&#x2F;code&gt;,也使用&lt;code&gt;command&lt;&#x2F;code&gt;传进去,格式如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.&amp;lt;entrypoints-name-1&amp;gt;.address=:80
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.&amp;lt;entrypoints-name-2&amp;gt;.address=:443
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;定义监听的入口，对于反代来说，只需要监听&lt;code&gt;:80&lt;&#x2F;code&gt;和&lt;code&gt;:443&lt;&#x2F;code&gt;，也就是&lt;code&gt;http&lt;&#x2F;code&gt;和&lt;code&gt;https&lt;&#x2F;code&gt;的流量。将&amp;lt;entrypoints-name-1&#x2F;2&amp;gt;自行替换成你想要的名字，如&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.http.address=:80
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.https.address=:443
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;或者&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.web.address=:80
&lt;&#x2F;span&gt;&lt;span&gt;      - --entrypoints.websecure.address=:443
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;所以，我们先得到一个&lt;code&gt;traefik&lt;&#x2F;code&gt;容器的编排文件&lt;&#x2F;p&gt;
&lt;p&gt;docker的&lt;code&gt;traefik&lt;&#x2F;code&gt;网络需要提前创建好&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; network create&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --driver&lt;&#x2F;span&gt;&lt;span&gt; bridge traefik
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;traefik的docker-compose.yml&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;yaml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-yaml &quot;&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;version&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;3&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;services&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;reverse-proxy&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# The official v3 Traefik docker image
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;image&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;traefik:v3.2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Enables the web UI and tells Traefik to listen to docker
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;command&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;--api.insecure=true
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;--providers.docker=true
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;--providers.docker.exposedbydefault=false &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 默认不自动暴露容器,隐藏此容器
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;--entrypoints.web.address=:80            &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# HTTP 入口点
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;--entrypoints.websecure.address=:443           &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# HTTPS 入口点
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;ports&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# The HTTP port
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;80:80&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;443:443&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# The Web UI (enabled by --api.insecure=true)
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;8080:8080&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;volumes&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# So that Traefik can listen to the Docker events
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;networks&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;traefik
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;networks&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;traefik&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#73d0ff;&quot;&gt;external&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;下面启动示例syncthing
接下来，在需要启动的容器,使用labels将需要的参数传入
首先，需要启用traefik&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.enable=true&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，定义路由(routers)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.&amp;lt;routers-name-1&amp;gt;.xxxxxxx&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.tcp.routers.&amp;lt;routers-name-2&amp;gt;.xxxXXXX&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;有不同协议，因为我只反代网页界面，仅使用&lt;code&gt;http&lt;&#x2F;code&gt;协议即可
将&amp;lt;routers-name-1&#x2F;2&amp;gt;替换为你想要的路由名字，比如这里直接以&lt;code&gt;syncthing&lt;&#x2F;code&gt;命名
下面是http详细配置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.rule=Host(`sync.example.com`)&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.entrypoints=web&amp;quot; # 设置入口为web,也就是80
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;rule=Host(&lt;code&gt;sync.example.com&lt;&#x2F;code&gt;)匹配域名
entrypoints=web匹配刚才定义的监听的入口,这里先使用http,所以使用web,监听:80端口
最后，定义服务(services),由于traefik自动监控容器，会自动把容器作为服务与路由关联起来，所以什么都不需要配置，除非容器暴露了多个端口
当容器只有一个端口的时候，traefik默认把流量传给这个端口,不需要额外指定端口
但容器有多个端口映射时，traefik不知道要把流量传给哪一个端口,所以需要额外配置来指定一个端口&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.services.&amp;lt;service-name&amp;gt;.loadbalancer.server.port=8384&amp;quot; # 如果暴露了多个端口，需要指定端口
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;service-name&gt;替换为容器名字，&lt;service-name&gt;与&lt;routers-name&gt;可以重名
记得添加syncthing容器与traefik容器同属一个网络，也就是&lt;code&gt;traefik&lt;&#x2F;code&gt;这个网络之中。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;version: &amp;#39;3&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;services:
&lt;&#x2F;span&gt;&lt;span&gt;  syncthing:
&lt;&#x2F;span&gt;&lt;span&gt;    image: syncthing&#x2F;syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    container_name: syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    restart: unless-stopped
&lt;&#x2F;span&gt;&lt;span&gt;    ulimits:
&lt;&#x2F;span&gt;&lt;span&gt;      nproc: 65535
&lt;&#x2F;span&gt;&lt;span&gt;      nofile:
&lt;&#x2F;span&gt;&lt;span&gt;        soft: 65535
&lt;&#x2F;span&gt;&lt;span&gt;        hard: 65535
&lt;&#x2F;span&gt;&lt;span&gt;    volumes:
&lt;&#x2F;span&gt;&lt;span&gt;      - &#x2F;var&#x2F;syncthing:&#x2F;var&#x2F;syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    environment:
&lt;&#x2F;span&gt;&lt;span&gt;      - PUID=1000
&lt;&#x2F;span&gt;&lt;span&gt;      - PGID=1000
&lt;&#x2F;span&gt;&lt;span&gt;    ports:
&lt;&#x2F;span&gt;&lt;span&gt;      - 8384:8384 # Web UI
&lt;&#x2F;span&gt;&lt;span&gt;      - 22000:22000&#x2F;tcp # TCP file transfers
&lt;&#x2F;span&gt;&lt;span&gt;      - 22000:22000&#x2F;udp # QUIC file transfers
&lt;&#x2F;span&gt;&lt;span&gt;      - 21027:21027&#x2F;udp # Receive local discovery broadcasts
&lt;&#x2F;span&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.enable=true&amp;quot; # 启动traefik
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.rule=Host(`sync.example.com`)&amp;quot; # 匹配域名
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.entrypoints=web&amp;quot; # 设置入口为web,也就是80
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.services.syncthing.loadbalancer.server.port=8384&amp;quot; # 如果暴露了多个端口，需要指定端口
&lt;&#x2F;span&gt;&lt;span&gt;      # 下面不需要，留着仅供参考
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.http.services.syncthing.loadbalancer.server.scheme=http&amp;quot; # 明确指定 HTTP
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.docker.network=traefik&amp;quot; # 指定docker容器网络
&lt;&#x2F;span&gt;&lt;span&gt;    networks:
&lt;&#x2F;span&gt;&lt;span&gt;      - traefik
&lt;&#x2F;span&gt;&lt;span&gt;networks:
&lt;&#x2F;span&gt;&lt;span&gt;  traefik:
&lt;&#x2F;span&gt;&lt;span&gt;    external: true
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;tian-jia-tlszheng-shu&quot;&gt;添加tls证书&lt;&#x2F;h1&gt;
&lt;p&gt;traefik部分
在保留刚才的基础上
在&lt;code&gt;command&lt;&#x2F;code&gt;里面添加&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.&amp;lt;resolver-name&amp;gt;.acme.tlschallenge=true&amp;quot; # 开启证书申请
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.&amp;lt;resolver-name&amp;gt;.acme.email=yourmail@domain.com&amp;quot; # 你的邮箱
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.&amp;lt;resolver-name&amp;gt;.acme.storage=&#x2F;letsencrypt&#x2F;acme.json&amp;quot; # 自动生成的证书配置存在这个地方
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将&lt;resolver-name&gt;替换为你想要的名字，这里替换为&lt;code&gt;myresolver&lt;&#x2F;code&gt;
注意，需要添加一个储存卷来存放证书配置，以及可以把http关掉，及docker关闭:80端口,取消&lt;code&gt;entrypoints&lt;&#x2F;code&gt;的web设置
示例如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;version: &amp;#39;3&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;services:
&lt;&#x2F;span&gt;&lt;span&gt;  reverse-proxy:
&lt;&#x2F;span&gt;&lt;span&gt;    # The official v3 Traefik docker image
&lt;&#x2F;span&gt;&lt;span&gt;    image: traefik:v3.2
&lt;&#x2F;span&gt;&lt;span&gt;    # Enables the web UI and tells Traefik to listen to docker
&lt;&#x2F;span&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--api.insecure=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--providers.docker=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--providers.docker.exposedbydefault=false&amp;quot; # 默认不自动暴露容器,隐藏此容器
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--entrypoints.websecure.address=:443&amp;quot;           # HTTPS 入口点
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.tlschallenge=true&amp;quot; # 开启证书申请
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.email=your@mail.com&amp;quot; # 你的邮箱
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.storage=&#x2F;letsencrypt&#x2F;acme.json&amp;quot; # 自动生成的证书配置存在这个地方
&lt;&#x2F;span&gt;&lt;span&gt;    ports:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;443:443&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      # The Web UI (enabled by --api.insecure=true)
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;8080:8080&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    volumes:
&lt;&#x2F;span&gt;&lt;span&gt;      # So that Traefik can listen to the Docker events
&lt;&#x2F;span&gt;&lt;span&gt;      - &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock
&lt;&#x2F;span&gt;&lt;span&gt;      - &#x2F;root&#x2F;letsencrypt:&#x2F;letsencrypt # 储存证书配置
&lt;&#x2F;span&gt;&lt;span&gt;    networks:
&lt;&#x2F;span&gt;&lt;span&gt;      - traefik
&lt;&#x2F;span&gt;&lt;span&gt;    # - 下面是指定默认申请的证书，一般来说不需要这些配置，traefik会自动检测并申请tls证书
&lt;&#x2F;span&gt;&lt;span&gt;      # labels:
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.tls.stores.default.defaultgeneratedcert.resolver=myresolver&amp;quot; # 指定默认申请的resolver
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.tls.stores.default.defaultgeneratedcert.domain.main=example.org&amp;quot; # 指定主域名
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.tls.stores.default.defaultgeneratedcert.domain.sans=foo.example.org, bar.example.org&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;networks:
&lt;&#x2F;span&gt;&lt;span&gt;  traefik:
&lt;&#x2F;span&gt;&lt;span&gt;    external: true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后是syncthing
在路由配置把&lt;code&gt;entrypoints&lt;&#x2F;code&gt;改为websecure,即使用https
再在路由配置添加一个指定使用的证书resolver&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.entrypoints=websecure&amp;quot; # 设定入口为websecure也就是443
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.tls.certresolver=myresolver&amp;quot; # 指定证书申请的resolver
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;最终配置如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;version: &amp;#39;3&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;services:
&lt;&#x2F;span&gt;&lt;span&gt;  syncthing:
&lt;&#x2F;span&gt;&lt;span&gt;    image: syncthing&#x2F;syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    container_name: syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    restart: unless-stopped
&lt;&#x2F;span&gt;&lt;span&gt;    ulimits:
&lt;&#x2F;span&gt;&lt;span&gt;      nproc: 65535
&lt;&#x2F;span&gt;&lt;span&gt;      nofile:
&lt;&#x2F;span&gt;&lt;span&gt;        soft: 65535
&lt;&#x2F;span&gt;&lt;span&gt;        hard: 65535
&lt;&#x2F;span&gt;&lt;span&gt;    volumes:
&lt;&#x2F;span&gt;&lt;span&gt;      - &#x2F;var&#x2F;syncthing:&#x2F;var&#x2F;syncthing
&lt;&#x2F;span&gt;&lt;span&gt;    environment:
&lt;&#x2F;span&gt;&lt;span&gt;      - PUID=1000
&lt;&#x2F;span&gt;&lt;span&gt;      - PGID=1000
&lt;&#x2F;span&gt;&lt;span&gt;    ports:
&lt;&#x2F;span&gt;&lt;span&gt;      - 8384:8384 # Web UI
&lt;&#x2F;span&gt;&lt;span&gt;      - 22000:22000&#x2F;tcp # TCP file transfers
&lt;&#x2F;span&gt;&lt;span&gt;      - 22000:22000&#x2F;udp # QUIC file transfers
&lt;&#x2F;span&gt;&lt;span&gt;      - 21027:21027&#x2F;udp # Receive local discovery broadcasts
&lt;&#x2F;span&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.enable=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.docker.network=traefik&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      # 当容器只有一个端口的时候，traefik默认把流量传给这个端口,不需要额外指定端口
&lt;&#x2F;span&gt;&lt;span&gt;      # 但容器有多个端口映射时，traefik不知道要把流量传给哪一个端口,所以需要额外指定一个端口
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.services.syncthing.loadbalancer.server.port=8384&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.rule=Host(`sync.example.com`)&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.entrypoints=websecure&amp;quot; # 设定入口为websecure也就是443
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.syncthing.tls.certresolver=myresolver&amp;quot; # 指定证书申请的resolver
&lt;&#x2F;span&gt;&lt;span&gt;      # - 下面配置不需要，留着仅供参考
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.http.routers.syncthing.tls=true&amp;quot; # 开启tls
&lt;&#x2F;span&gt;&lt;span&gt;      # - &amp;quot;traefik.http.services.syncthing.loadbalancer.server.scheme=http&amp;quot; # 明确指定 HTTP
&lt;&#x2F;span&gt;&lt;span&gt;    networks:
&lt;&#x2F;span&gt;&lt;span&gt;      - traefik
&lt;&#x2F;span&gt;&lt;span&gt;networks:
&lt;&#x2F;span&gt;&lt;span&gt;  traefik:
&lt;&#x2F;span&gt;&lt;span&gt;    external: true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后就有tls证书了，且强制使用https&lt;&#x2F;p&gt;
&lt;p&gt;下面是官方示例配置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;docker-compose.yml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-docker-compose.yml &quot;&gt;&lt;code class=&quot;language-docker-compose.yml&quot; data-lang=&quot;docker-compose.yml&quot;&gt;&lt;span&gt;version: &amp;quot;3.3&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;services:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  traefik:
&lt;&#x2F;span&gt;&lt;span&gt;    image: &amp;quot;traefik:v3.2&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    container_name: &amp;quot;traefik&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    command:
&lt;&#x2F;span&gt;&lt;span&gt;      #- &amp;quot;--log.level=DEBUG&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--api.insecure=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--providers.docker=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--providers.docker.exposedbydefault=false&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--entryPoints.websecure.address=:443&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.tlschallenge=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      #- &amp;quot;--certificatesresolvers.myresolver.acme.caserver=https:&#x2F;&#x2F;acme-staging-v02.api.letsencrypt.org&#x2F;directory&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.email=postmaster@example.com&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;--certificatesresolvers.myresolver.acme.storage=&#x2F;letsencrypt&#x2F;acme.json&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    ports:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;443:443&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;8080:8080&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    volumes:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;.&#x2F;letsencrypt:&#x2F;letsencrypt&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;&#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock:ro&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  whoami:
&lt;&#x2F;span&gt;&lt;span&gt;    image: &amp;quot;traefik&#x2F;whoami&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    container_name: &amp;quot;simple-service&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    labels:
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.enable=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      # 因为这个容器只暴露一个80端口，所以不需要特别指定端口
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.whoami.rule=Host(`whoami.example.com`)&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.whoami.entrypoints=websecure&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      - &amp;quot;traefik.http.routers.whoami.tls.certresolver=myresolver&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;nixos&quot;&gt;NixOS&lt;&#x2F;h2&gt;
&lt;p&gt;有了docker的基础，配置较为简单，易于理解，基本是把docker的相关配置变成json的形式，直接使用nix语言进行配置
示例&lt;code&gt;traefik.nix&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;traefik.nix&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-traefik.nix &quot;&gt;&lt;code class=&quot;language-traefik.nix&quot; data-lang=&quot;traefik.nix&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  config,
&lt;&#x2F;span&gt;&lt;span&gt;  pkgs,
&lt;&#x2F;span&gt;&lt;span&gt;  host,
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}:
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  # 开启syncthing和netdata
&lt;&#x2F;span&gt;&lt;span&gt;  services = {
&lt;&#x2F;span&gt;&lt;span&gt;      syncthing = {
&lt;&#x2F;span&gt;&lt;span&gt;          enable = true;
&lt;&#x2F;span&gt;&lt;span&gt;      };
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;  services.netdata = {
&lt;&#x2F;span&gt;&lt;span&gt;    enable = true;
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;  # 开启 traefik
&lt;&#x2F;span&gt;&lt;span&gt;  services.traefik = {
&lt;&#x2F;span&gt;&lt;span&gt;    enable = true;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    # 静态配置
&lt;&#x2F;span&gt;&lt;span&gt;    staticConfigOptions = {
&lt;&#x2F;span&gt;&lt;span&gt;      # 需要日志可以添加下面的配置
&lt;&#x2F;span&gt;&lt;span&gt;      # log = {
&lt;&#x2F;span&gt;&lt;span&gt;        # level = &amp;quot;INFO&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        # filePath = &amp;quot;${config.services.traefik.dataDir}&#x2F;traefik.log&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        # format = &amp;quot;json&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;      # };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      # 定义入口，名字是websecure,仅设置:443
&lt;&#x2F;span&gt;&lt;span&gt;      entryPoints = {
&lt;&#x2F;span&gt;&lt;span&gt;        # web = {
&lt;&#x2F;span&gt;&lt;span&gt;        #   address = &amp;quot;:80&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        # };
&lt;&#x2F;span&gt;&lt;span&gt;        websecure= {
&lt;&#x2F;span&gt;&lt;span&gt;          address = &amp;quot;:443&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        # 在下面动态配置已经指定过了
&lt;&#x2F;span&gt;&lt;span&gt;	      # http.tls.certResolver = &amp;quot;myresolver&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        };
&lt;&#x2F;span&gt;&lt;span&gt;      };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      # 定义证书申请器,myresolver是我定义的证书申请器的名字，名字可以随便起
&lt;&#x2F;span&gt;&lt;span&gt;      certificatesResolvers.myresolver.acme = {
&lt;&#x2F;span&gt;&lt;span&gt;	    tlschallenge = true;
&lt;&#x2F;span&gt;&lt;span&gt;        email = &amp;quot;example@email.com&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;        storage = &amp;quot;${config.services.traefik.dataDir}&#x2F;acme.json&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;      #   httpChallenge.entryPoint = &amp;quot;web&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;      };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;      # 开启面板
&lt;&#x2F;span&gt;&lt;span&gt;      api.dashboard = true;
&lt;&#x2F;span&gt;&lt;span&gt;      # Access the Traefik dashboard on &amp;lt;Traefik IP&amp;gt;:8080 of your server
&lt;&#x2F;span&gt;&lt;span&gt;      api.insecure = true;
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    # 动态配置
&lt;&#x2F;span&gt;&lt;span&gt;    dynamicConfigOptions = {
&lt;&#x2F;span&gt;&lt;span&gt;      # 使用http协议
&lt;&#x2F;span&gt;&lt;span&gt;      http = {
&lt;&#x2F;span&gt;&lt;span&gt;        routers = {
&lt;&#x2F;span&gt;&lt;span&gt;          # 定义2个路由名字，一个是syncthing，一个是netdata,名字可以随便起
&lt;&#x2F;span&gt;&lt;span&gt;          syncthing= {
&lt;&#x2F;span&gt;&lt;span&gt;            # 定义入口为websecure,也就是443
&lt;&#x2F;span&gt;&lt;span&gt;	          entryPoints = [ &amp;quot;websecure&amp;quot; ];
&lt;&#x2F;span&gt;&lt;span&gt;            # 设置规则为匹配域名
&lt;&#x2F;span&gt;&lt;span&gt;            rule = &amp;quot;Host(`sync.example.com`)&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;            # 指定跟路由相关联的服务(service)
&lt;&#x2F;span&gt;&lt;span&gt;            service = &amp;quot;syncthing&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;            # 指定路由使用的证书申请器
&lt;&#x2F;span&gt;&lt;span&gt;	          tls.certresolver = &amp;quot;myresolver&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;          };
&lt;&#x2F;span&gt;&lt;span&gt;          # 第二个路由，跟第一个同理
&lt;&#x2F;span&gt;&lt;span&gt;          netdata= {
&lt;&#x2F;span&gt;&lt;span&gt;	          entryPoints = [ &amp;quot;websecure&amp;quot; ];
&lt;&#x2F;span&gt;&lt;span&gt;            rule = &amp;quot;Host(`data.example.com`)&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;            service = &amp;quot;netdata&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;	          tls.certresolver = &amp;quot;myresolver&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;          };
&lt;&#x2F;span&gt;&lt;span&gt;        };
&lt;&#x2F;span&gt;&lt;span&gt;        # 定义服务
&lt;&#x2F;span&gt;&lt;span&gt;        services = {
&lt;&#x2F;span&gt;&lt;span&gt;          # 定义2个服务名字，一个叫syncthing,一个叫netdata，名字可以随便起，可以与入口，路由的名字重名
&lt;&#x2F;span&gt;&lt;span&gt;          syncthing = {
&lt;&#x2F;span&gt;&lt;span&gt;            loadBalancer = {
&lt;&#x2F;span&gt;&lt;span&gt;              # server里面配置webui界面监听的地址即可
&lt;&#x2F;span&gt;&lt;span&gt;              servers = [
&lt;&#x2F;span&gt;&lt;span&gt;                {
&lt;&#x2F;span&gt;&lt;span&gt;                  url = &amp;quot;http:&#x2F;&#x2F;localhost:8384&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;              ];
&lt;&#x2F;span&gt;&lt;span&gt;              # syncthing不加下面这行配置无法正常访问,其他请略过这个
&lt;&#x2F;span&gt;&lt;span&gt;              passHostHeader = false;
&lt;&#x2F;span&gt;&lt;span&gt;            };
&lt;&#x2F;span&gt;&lt;span&gt;          };
&lt;&#x2F;span&gt;&lt;span&gt;          netdata = {
&lt;&#x2F;span&gt;&lt;span&gt;            loadBalancer = {
&lt;&#x2F;span&gt;&lt;span&gt;              servers = [
&lt;&#x2F;span&gt;&lt;span&gt;                {
&lt;&#x2F;span&gt;&lt;span&gt;                  url = &amp;quot;http:&#x2F;&#x2F;localhost:19999&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;                }
&lt;&#x2F;span&gt;&lt;span&gt;              ];
&lt;&#x2F;span&gt;&lt;span&gt;            };
&lt;&#x2F;span&gt;&lt;span&gt;          };
&lt;&#x2F;span&gt;&lt;span&gt;        };
&lt;&#x2F;span&gt;&lt;span&gt;     };
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，在配置文件中引用&lt;code&gt;traefik.nix&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  config,
&lt;&#x2F;span&gt;&lt;span&gt;  pkgs,
&lt;&#x2F;span&gt;&lt;span&gt;  host,
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}:
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;  imports = [
&lt;&#x2F;span&gt;&lt;span&gt;    traefik.nix
&lt;&#x2F;span&gt;&lt;span&gt;  ];
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，重构系统&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; nixos-rebuild switch
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;或者
使用flake&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; nixos-rebuild switch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --flake&lt;&#x2F;span&gt;&lt;span&gt; .#&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span&gt;HOSTNAME&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;访问域名，确认反代成功&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>Debian&#x2F;NixOS使用caddy实现简单反代</title>
        <published>2024-12-19T00:00:00+00:00</published>
        <updated>2024-12-19T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/caddy-simple-guide/"/>
        <id>https://blog.0pt.icu/posts/server/caddy-simple-guide/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/caddy-simple-guide/">&lt;h1 id=&quot;debian-nixosshi-yong-caddyshi-xian-jian-dan-fan-dai&quot;&gt;Debian&#x2F;NixOS使用caddy实现简单反代&lt;&#x2F;h1&gt;
&lt;p&gt;2024-12-19
参考&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;quick-starts&#x2F;reverse-proxy&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;wiki.nixos.org&#x2F;wiki&#x2F;Caddy&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;debianan-zhuang-caddy&quot;&gt;debian安装caddy&lt;&#x2F;h2&gt;
&lt;p&gt;官方教程https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;install#debian-ubuntu-raspbian&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt install&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -y&lt;&#x2F;span&gt;&lt;span&gt; debian-keyring debian-archive-keyring apt-transport-https curl
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -1sLf &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;https:&#x2F;&#x2F;dl.cloudsmith.io&#x2F;public&#x2F;caddy&#x2F;stable&#x2F;gpg.key&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; gpg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --dearmor -o&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;keyrings&#x2F;caddy-stable-archive-keyring.gpg
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -1sLf &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;https:&#x2F;&#x2F;dl.cloudsmith.io&#x2F;public&#x2F;caddy&#x2F;stable&#x2F;debian.deb.txt&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;caddy-stable.list
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt update
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt install caddy
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shi-yong-caddyfile&quot;&gt;使用Caddyfile&lt;&#x2F;h2&gt;
&lt;p&gt;编辑&lt;code&gt;&#x2F;etc&#x2F;caddy&#x2F;Caddyfile&lt;&#x2F;code&gt;
删除原来的&lt;code&gt;:80&lt;&#x2F;code&gt;配置(全删了)，
添加如下配置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;Caddyfile&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-Caddyfile &quot;&gt;&lt;code class=&quot;language-Caddyfile&quot; data-lang=&quot;Caddyfile&quot;&gt;&lt;span&gt;example1.com {
&lt;&#x2F;span&gt;&lt;span&gt;	log {
&lt;&#x2F;span&gt;&lt;span&gt;		output file &#x2F;var&#x2F;log&#x2F;caddy&#x2F;access-example1.com.log
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	reverse_proxy localhost:9000 {
&lt;&#x2F;span&gt;&lt;span&gt;		header_up Host {upstream_hostport}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;example2.com  {
&lt;&#x2F;span&gt;&lt;span&gt;	log {
&lt;&#x2F;span&gt;&lt;span&gt;		output file &#x2F;var&#x2F;log&#x2F;caddy&#x2F;access-example2.com.log
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;	reverse_proxy ip:port {
&lt;&#x2F;span&gt;&lt;span&gt;		header_up Host {upstream_hostport}
&lt;&#x2F;span&gt;&lt;span&gt;	}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shi-yong-ming-ling-xing-fan-dai&quot;&gt;使用命令行反代&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;caddy&lt;&#x2F;span&gt;&lt;span&gt; reverse-proxy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;	--from&lt;&#x2F;span&gt;&lt;span&gt; example.com &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;	--to&lt;&#x2F;span&gt;&lt;span&gt; localhost:9000 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;	--change-host-header
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;tls证书可以自动获取&lt;&#x2F;p&gt;
&lt;h1 id=&quot;nixosshi-yong-caddyfan-dai&quot;&gt;nixos使用caddy反代&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;caddy.nix&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-caddy.nix &quot;&gt;&lt;code class=&quot;language-caddy.nix&quot; data-lang=&quot;caddy.nix&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  config,
&lt;&#x2F;span&gt;&lt;span&gt;  pkgs,
&lt;&#x2F;span&gt;&lt;span&gt;  host,
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}:
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  services.caddy = {
&lt;&#x2F;span&gt;&lt;span&gt;    enable = true;
&lt;&#x2F;span&gt;&lt;span&gt;    virtualHosts.&amp;quot;example1.com&amp;quot;={
&lt;&#x2F;span&gt;&lt;span&gt;    extraConfig = &amp;#39;&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;      reverse_proxy localhost:9000 {
&lt;&#x2F;span&gt;&lt;span&gt;          header_up Host {upstream_hostport}
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;    virtualHosts.&amp;quot;example2.com&amp;quot;={
&lt;&#x2F;span&gt;&lt;span&gt;    extraConfig = &amp;#39;&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;      reverse_proxy localhost:9001 {
&lt;&#x2F;span&gt;&lt;span&gt;          header_up Host {upstream_hostport}
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;#39;&amp;#39;;
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，在配置文件中引用&lt;code&gt;caddy.nix&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  config,
&lt;&#x2F;span&gt;&lt;span&gt;  pkgs,
&lt;&#x2F;span&gt;&lt;span&gt;  host,
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}:
&lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;  imports = [
&lt;&#x2F;span&gt;&lt;span&gt;    caddy.nix
&lt;&#x2F;span&gt;&lt;span&gt;  ];
&lt;&#x2F;span&gt;&lt;span&gt;  ...
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，重构系统&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; nixos-rebuild switch
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;或者
使用flake&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; nixos-rebuild switch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --flake&lt;&#x2F;span&gt;&lt;span&gt; .#&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span&gt;HOSTNAME&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;访问域名，确认反代成功&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>使用tebi作为s3,搭建nix缓存服务器</title>
        <published>2024-11-12T00:00:00+00:00</published>
        <updated>2024-11-12T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/use-tebi-build-nixos-cache-server/"/>
        <id>https://blog.0pt.icu/posts/server/use-tebi-build-nixos-cache-server/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/use-tebi-build-nixos-cache-server/">&lt;h1 id=&quot;shi-yong-tebizuo-wei-s3-da-jian-nixhuan-cun-fu-wu-qi&quot;&gt;使用tebi作为s3,搭建nix缓存服务器&lt;&#x2F;h1&gt;
&lt;p&gt;2024-11-12
参考&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;https:&#x2F;&#x2F;nixos-and-flakes.thiscute.world&#x2F;zh&#x2F;nix-store&#x2F;host-your-own-binary-cache-server&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;shi-yong-tebizuo-wei-s3-provider&quot;&gt;使用tebi作为s3 provider&lt;&#x2F;h2&gt;
&lt;p&gt;进入s3
创建桶your-bucket-name
创建access_key&#x2F;secret_access_key&lt;&#x2F;p&gt;
&lt;p&gt;直接上传&lt;code&gt;nix-cache-info&lt;&#x2F;code&gt; 文件到桶的根目录，文件内容如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;nix-cache-info&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-nix-cache-info &quot;&gt;&lt;code class=&quot;language-nix-cache-info&quot; data-lang=&quot;nix-cache-info&quot;&gt;&lt;span&gt;StoreDir: &#x2F;nix&#x2F;store
&lt;&#x2F;span&gt;&lt;span&gt;WantMassQuery: 1
&lt;&#x2F;span&gt;&lt;span&gt;Priority: 40
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;chuang-jian-s3tong-xing-zheng&quot;&gt;创建s3通行证&lt;&#x2F;h2&gt;
&lt;p&gt;转到nixos上,创建&lt;code&gt;~&#x2F;.aws&#x2F;credentials&lt;&#x2F;code&gt;,内容如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;credentials&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-credentials &quot;&gt;&lt;code class=&quot;language-credentials&quot; data-lang=&quot;credentials&quot;&gt;&lt;span&gt;[config-name]
&lt;&#x2F;span&gt;&lt;span&gt;aws_access_key_id=&amp;lt;your_access_key&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;aws_secret_access_key=&amp;lt;your_secret_access_key&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里的&lt;code&gt;&amp;lt;your_access_key&amp;gt;&lt;&#x2F;code&gt;和&lt;code&gt;&amp;lt;your_secret_access_key&amp;gt;&lt;&#x2F;code&gt;去tebi后台找&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shang-chuan-huan-cun&quot;&gt;上传缓存&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;chuang-jian-mi-yao-dui&quot;&gt;创建密钥对&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix&lt;&#x2F;span&gt;&lt;span&gt; key generate-secret&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --key-name&lt;&#x2F;span&gt;&lt;span&gt; your-want-name-1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5ccfe6;&quot;&gt;~&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;.config&#x2F;nix&#x2F;secret.key
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix&lt;&#x2F;span&gt;&lt;span&gt; key convert-secret-to-public &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5ccfe6;&quot;&gt;~&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;.config&#x2F;nix&#x2F;secret.key &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5ccfe6;&quot;&gt;~&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;.config&#x2F;nix&#x2F;public.key
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;cat &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5ccfe6;&quot;&gt;~&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;.config&#x2F;nix&#x2F;public.key
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# =&amp;gt; your-want-name-1:m0J&#x2F;oDlLEuG6ezc6MzmpLCN2MYjssO3NMIlr9JdxkTs=
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;blockquote&gt;
&lt;p&gt;名字是任意的，推荐后面加上版本号&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;tui-song-cun-chu-lu-jing-dao-er-jin-zhi-huan-cun&quot;&gt;推送存储路径到二进制缓存&lt;&#x2F;h3&gt;
&lt;p&gt;先给本地存储路径签名&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix&lt;&#x2F;span&gt;&lt;span&gt; store sign&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --recursive --key-file &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5ccfe6;&quot;&gt;~&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;.config&#x2F;nix&#x2F;secret.key &#x2F;run&#x2F;current-system
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将这些路径复制到缓存&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix&lt;&#x2F;span&gt;&lt;span&gt; copy&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --to &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;s3:&#x2F;&#x2F;your-bucket-name?profile=config-name&amp;amp;endpoint=s3.tebi.io&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;run&#x2F;current-system
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;tian-jia-zhe-ge-huan-cun-yuan&quot;&gt;添加这个缓存源&lt;&#x2F;h3&gt;
&lt;p&gt;将以下内容放入 configuration.nix 或您的任何自定义 NixOS 模块中&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nix&lt;&#x2F;span&gt;&lt;span&gt; = {
&lt;&#x2F;span&gt;&lt;span&gt;    settings = {
&lt;&#x2F;span&gt;&lt;span&gt;      extra-substituters = [
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;https:&#x2F;&#x2F;s3.tebi.io&#x2F;your-bucket-name&#x2F;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      ];
&lt;&#x2F;span&gt;&lt;span&gt;      extra-trusted-public-keys = [
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;your-want-name-1:m0J&#x2F;oDlLEuG6ezc6MzmpLCN2MYjssO3NMIlr9JdxkTs=&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;      ];
&lt;&#x2F;span&gt;&lt;span&gt;    };
&lt;&#x2F;span&gt;&lt;span&gt;  }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;参考:
https:&#x2F;&#x2F;nixos-and-flakes.thiscute.world&#x2F;zh&#x2F;nix-store&#x2F;host-your-own-binary-cache-server
https:&#x2F;&#x2F;fzakaria.com&#x2F;2020&#x2F;07&#x2F;15&#x2F;setting-up-a-nix-s3-binary-cache.html&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>k3s部署rancher</title>
        <published>2024-11-11T00:00:00+00:00</published>
        <updated>2024-11-11T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/k3s/develop-rancher/"/>
        <id>https://blog.0pt.icu/posts/k3s/develop-rancher/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/k3s/develop-rancher/">&lt;h1 id=&quot;k3sbu-shu-rancher&quot;&gt;k3s部署rancher&lt;&#x2F;h1&gt;
&lt;p&gt;2024-11-11
参考&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;https:&#x2F;&#x2F;ranchermanager.docs.rancher.com&#x2F;getting-started&#x2F;installation-and-upgrade&#x2F;install-upgrade-on-a-kubernetes-cluster&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;artifacthub.io&#x2F;packages&#x2F;helm&#x2F;rancher-stable&#x2F;rancher&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h1 id=&quot;an-zhuang-cert-manager&quot;&gt;安装cert-manager&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; https:&#x2F;&#x2F;github.com&#x2F;cert-manager&#x2F;cert-manager&#x2F;releases&#x2F;download&#x2F;v1.16.1&#x2F;cert-manager.crds.yaml
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; repo add jetstack https:&#x2F;&#x2F;charts.jetstack.io
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; repo update
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# kubectl create namespace cert-manager
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# helm install cert-manager --namespace cert-manager --version v1.16.1 jetstack&#x2F;cert-manager
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; install cert-manager jetstack&#x2F;cert-manager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --namespace&lt;&#x2F;span&gt;&lt;span&gt; cert-manager &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --create-namespace &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;#   --set crds.enabled=true
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;an-zhuang-rancher&quot;&gt;安装rancher&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; repo add rancher-latest https:&#x2F;&#x2F;releases.rancher.com&#x2F;server-charts&#x2F;latest
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; create namespace cattle-system
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; install rancher rancher-latest&#x2F;rancher &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --namespace&lt;&#x2F;span&gt;&lt;span&gt; cattle-system &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --set&lt;&#x2F;span&gt;&lt;span&gt; hostname=rancher.my.org &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --set&lt;&#x2F;span&gt;&lt;span&gt; bootstrapPassword=admin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;检查安装完成&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -n&lt;&#x2F;span&gt;&lt;span&gt; cattle-system rollout status deploy&#x2F;rancher
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;默认部署3台
可以通过参数更改&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;helm&lt;&#x2F;span&gt;&lt;span&gt; upgrade rancher rancher-latest&#x2F;rancher &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --namespace&lt;&#x2F;span&gt;&lt;span&gt; cattle-system &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --set&lt;&#x2F;span&gt;&lt;span&gt; hostname=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;IP_OF_LINUX_NODE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;.sslip.io &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --set&lt;&#x2F;span&gt;&lt;span&gt; replicas=1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;  --set&lt;&#x2F;span&gt;&lt;span&gt; bootstrapPassword=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;PASSWORD_FOR_RANCHER_ADMIN&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;https:&#x2F;&#x2F;helm.sh&#x2F;docs&#x2F;intro&#x2F;install&#x2F;
https:&#x2F;&#x2F;artifacthub.io&#x2F;packages&#x2F;helm&#x2F;rancher-stable&#x2F;rancher
https:&#x2F;&#x2F;artifacthub.io&#x2F;packages&#x2F;helm&#x2F;cert-manager&#x2F;cert-manager
https:&#x2F;&#x2F;ranchermanager.docs.rancher.com&#x2F;getting-started&#x2F;quick-start-guides&#x2F;deploy-rancher-manager&#x2F;helm-cli
https:&#x2F;&#x2F;cert-manager.io&#x2F;docs&#x2F;installation&#x2F;helm&#x2F;
https:&#x2F;&#x2F;docs.rancherdesktop.io&#x2F;how-to-guides&#x2F;rancher-on-rancher-desktop&#x2F;&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>k3s部署kubevirt-manager</title>
        <published>2024-11-08T00:00:00+00:00</published>
        <updated>2024-11-08T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/k3s/kubevirt-manager/"/>
        <id>https://blog.0pt.icu/posts/k3s/kubevirt-manager/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/k3s/kubevirt-manager/">&lt;h1 id=&quot;k3sbu-shu-kubevirt-manager&quot;&gt;k3s部署kubevirt-manager&lt;&#x2F;h1&gt;
&lt;p&gt;2024-11-08&lt;&#x2F;p&gt;
&lt;p&gt;参考&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;https:&#x2F;&#x2F;kubevirt.io&#x2F;user-guide&#x2F;&lt;&#x2F;li&gt;
&lt;li&gt;https:&#x2F;&#x2F;kubevirt-manager.io&#x2F;get_started.html&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h1 id=&quot;an-zhuang-kubevirt&quot;&gt;安装kubevirt&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;an-zhuang-qemu-kvm-libvirt&quot;&gt;安装qemu_kvm,libvirt&lt;&#x2F;h2&gt;
&lt;p&gt;自行安装&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pass
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;an-zhuang-kubectl&quot;&gt;安装kubectl&lt;&#x2F;h2&gt;
&lt;p&gt;自行安装&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pass
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;an-zhuang-kind&quot;&gt;安装kind&lt;&#x2F;h2&gt;
&lt;p&gt;自行安装&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pass
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;she-zhi-mo-ren-wen-jian&quot;&gt;设置默认文件&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;mkdir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;root&#x2F;.kube
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;cp&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;rancher&#x2F;k3s&#x2F;k3s.yaml &#x2F;root&#x2F;.kube&#x2F;config
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; get nodes
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shi-yong-kubectlan-zhuang-kubevirt-operator&quot;&gt;使用kubectl安装kubevirt operator&lt;&#x2F;h2&gt;
&lt;p&gt;可以使用 KubeVirt Operator 安装 KubeVirt，该 Operator 管理所有 KubeVirt 核心组件的生命周期&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;VERSION&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt; https:&#x2F;&#x2F;storage.googleapis.com&#x2F;kubevirt-prow&#x2F;release&#x2F;kubevirt&#x2F;kubevirt&#x2F;stable.txt&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span&gt;$VERSION
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; create&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;https:&#x2F;&#x2F;github.com&#x2F;kubevirt&#x2F;kubevirt&#x2F;releases&#x2F;download&#x2F;$&lt;&#x2F;span&gt;&lt;span&gt;{VERSION}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&#x2F;kubevirt-operator.yaml&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;shi-yong-kubectl-bu-shu-kubevirt-zi-ding-yi-zi-yuan-ding-yi&quot;&gt;使用 kubectl 部署 KubeVirt 自定义资源定义&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; create&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;https:&#x2F;&#x2F;github.com&#x2F;kubevirt&#x2F;kubevirt&#x2F;releases&#x2F;download&#x2F;$&lt;&#x2F;span&gt;&lt;span&gt;{VERSION}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&#x2F;kubevirt-cr.yaml&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;yan-zheng-bu-shu&quot;&gt;验证部署&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; get kubevirt.kubevirt.io&#x2F;kubevirt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -n&lt;&#x2F;span&gt;&lt;span&gt; kubevirt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -o&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;jsonpath=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;{.status.phase}&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;需要等上一会&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; get all&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -n&lt;&#x2F;span&gt;&lt;span&gt; kubevirt
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;等到状态为&lt;code&gt;Deployed&lt;&#x2F;code&gt;即完成
默认情况下，KubeVirt 将部署 7 个 Pod、3 个服务、1 个 daemonset、3 个部署应用、3 个副本集&lt;&#x2F;p&gt;
&lt;h2 id=&quot;an-zhuang-virt-optional&quot;&gt;安装virt (optional)&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; krew install virt
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;an-zhuang-kubevirt-manager&quot;&gt;安装kubevirt-manager&lt;&#x2F;h1&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 创建`storageclass.yaml`文件
&lt;&#x2F;span&gt;&lt;span&gt;# 
&lt;&#x2F;span&gt;&lt;span&gt;# ```storageclass.yaml
&lt;&#x2F;span&gt;&lt;span&gt;# apiVersion: storage.k8s.io&#x2F;v1
&lt;&#x2F;span&gt;&lt;span&gt;# kind: StorageClass
&lt;&#x2F;span&gt;&lt;span&gt;# metadata:
&lt;&#x2F;span&gt;&lt;span&gt;#   name: local-path
&lt;&#x2F;span&gt;&lt;span&gt;# provisioner: rancher.io&#x2F;local-path
&lt;&#x2F;span&gt;&lt;span&gt;# allowVolumeExpansion: true
&lt;&#x2F;span&gt;&lt;span&gt;# volumeBindingMode: WaitForFirstConsumer
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;使用默认配置&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;kubevirt-manager&#x2F;kubevirt-manager&#x2F;main&#x2F;kubernetes&#x2F;bundled.yaml
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来，获取节点ip进行访问&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; get service kubevirt-manager&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -n&lt;&#x2F;span&gt;&lt;span&gt; kubevirt-manager
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;输出如下&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;NAME               TYPE       CLUSTER-IP        EXTERNAL-IP   PORT(S)       AGE
&lt;&#x2F;span&gt;&lt;span&gt;kubevirt-manager   NodePort   your-cluster-ip   &amp;lt;none&amp;gt;        8080&#x2F;TCP      11m
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;or&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; clone https:&#x2F;&#x2F;github.com&#x2F;kubevirt-manager&#x2F;kubevirt-manager.git
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span&gt; kubevirt-manager
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;ns.yaml
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;crd.yaml
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;rbac.yaml
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;pc.yaml
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;service.yaml
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;为了可以使用节点ip访问virt-manager&lt;&#x2F;p&gt;
&lt;p&gt;将原&lt;code&gt;kubernetes&#x2F;service.yaml&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;kubernetes&#x2F;service.yaml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-kubernetes&#x2F;service.yaml &quot;&gt;&lt;code class=&quot;language-kubernetes&#x2F;service.yaml&quot; data-lang=&quot;kubernetes&#x2F;service.yaml&quot;&gt;&lt;span&gt;apiVersion: v1
&lt;&#x2F;span&gt;&lt;span&gt;kind: Service
&lt;&#x2F;span&gt;&lt;span&gt;metadata:
&lt;&#x2F;span&gt;&lt;span&gt;  name: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  namespace: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  labels:
&lt;&#x2F;span&gt;&lt;span&gt;    app: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;    kubevirt-manager.io&#x2F;version: 1.4.1
&lt;&#x2F;span&gt;&lt;span&gt;spec:
&lt;&#x2F;span&gt;&lt;span&gt;  type: ClusterIP
&lt;&#x2F;span&gt;&lt;span&gt;  selector:
&lt;&#x2F;span&gt;&lt;span&gt;    app: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  ports:
&lt;&#x2F;span&gt;&lt;span&gt;    - protocol: TCP
&lt;&#x2F;span&gt;&lt;span&gt;      port: 8080
&lt;&#x2F;span&gt;&lt;span&gt;      targetPort: 8080
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;中的 &lt;code&gt;ClusterIP&lt;&#x2F;code&gt; 修改为&lt;code&gt;NodePort&lt;&#x2F;code&gt;,且可以添加映射出去的端口,修改后如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;kubernetes&#x2F;service.yaml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-kubernetes&#x2F;service.yaml &quot;&gt;&lt;code class=&quot;language-kubernetes&#x2F;service.yaml&quot; data-lang=&quot;kubernetes&#x2F;service.yaml&quot;&gt;&lt;span&gt;apiVersion: v1
&lt;&#x2F;span&gt;&lt;span&gt;kind: Service
&lt;&#x2F;span&gt;&lt;span&gt;metadata:
&lt;&#x2F;span&gt;&lt;span&gt;  name: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  namespace: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  labels:
&lt;&#x2F;span&gt;&lt;span&gt;    app: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;    kubevirt-manager.io&#x2F;version: 1.4.1
&lt;&#x2F;span&gt;&lt;span&gt;spec:
&lt;&#x2F;span&gt;&lt;span&gt;  type: NodePort
&lt;&#x2F;span&gt;&lt;span&gt;  selector:
&lt;&#x2F;span&gt;&lt;span&gt;    app: kubevirt-manager
&lt;&#x2F;span&gt;&lt;span&gt;  ports:
&lt;&#x2F;span&gt;&lt;span&gt;    - protocol: TCP
&lt;&#x2F;span&gt;&lt;span&gt;      port: 8080
&lt;&#x2F;span&gt;&lt;span&gt;      targetPort: 8080
&lt;&#x2F;span&gt;&lt;span&gt;      nodePort: 30080  # 如果使用 NodePort，可以指定端口号
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;再次应用&lt;code&gt;kubernetes&#x2F;service.yaml&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; apply&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; kubernetes&#x2F;service.yaml
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来，获取节点ip进行访问&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;kubectl&lt;&#x2F;span&gt;&lt;span&gt; get service kubevirt-manager&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -n&lt;&#x2F;span&gt;&lt;span&gt; kubevirt-manager
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;输出如下&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;NAME               TYPE       CLUSTER-IP        EXTERNAL-IP   PORT(S)           AGE
&lt;&#x2F;span&gt;&lt;span&gt;kubevirt-manager   NodePort   your-cluster-ip   &amp;lt;none&amp;gt;        8080:30080&#x2F;TCP    11m
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第七回，探FreeBSD路途远，坎坷荆棘勇前行</title>
        <published>2024-10-21T00:00:00+00:00</published>
        <updated>2024-10-21T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/7/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/7/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/7/">&lt;h1 id=&quot;freebsdde-ji-ben-pei-zhi-yu-hyprlandan-zhuang&quot;&gt;FreeBSD的基本配置与hyprland安装&lt;&#x2F;h1&gt;
&lt;p&gt;2024-10-21&lt;&#x2F;p&gt;
&lt;h2 id=&quot;geng-xin-xi-tong&quot;&gt;更新系统&lt;&#x2F;h2&gt;
&lt;p&gt;先以root身份登陆，因为没有sudo，所以普通用户不能获得管理员权限，后面会安装&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;pkg update
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在这一布可能会遇见问题，报错如下&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;admin@freebsd ~&amp;gt; sudo pkg install inxi
&lt;&#x2F;span&gt;&lt;span&gt;Updating FreeBSD repository catalogue...
&lt;&#x2F;span&gt;&lt;span&gt;pkg: No SRV record found for the repo &amp;#39;FreeBSD&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;pkg: packagesite URL error for pkg+http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;FreeBSD:13:amd64&#x2F;quarterly&#x2F;packagesite.pkg -- pkg+:&#x2F;&#x2F; implies SRV mirror type
&lt;&#x2F;span&gt;&lt;span&gt;pkg: packagesite URL error for pkg+http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;FreeBSD:13:amd64&#x2F;quarterly&#x2F;packagesite.txz -- pkg+:&#x2F;&#x2F; implies SRV mirror type
&lt;&#x2F;span&gt;&lt;span&gt;Unable to update repository FreeBSD
&lt;&#x2F;span&gt;&lt;span&gt;Error updating repositories!
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;admin@freebsd ~ [3]&amp;gt; pkg search inxi
&lt;&#x2F;span&gt;&lt;span&gt;pkg: Repository FreeBSD missing. &amp;#39;pkg update&amp;#39; required
&lt;&#x2F;span&gt;&lt;span&gt;pkg: Repository FreeBSD cannot be opened. &amp;#39;pkg update&amp;#39; required
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;admin@freebsd ~ [1]&amp;gt; sudo pkg update
&lt;&#x2F;span&gt;&lt;span&gt;Updating FreeBSD repository catalogue...
&lt;&#x2F;span&gt;&lt;span&gt;pkg: No SRV record found for the repo &amp;#39;FreeBSD&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;Fetching meta.conf: 100%    163 B   0.2kB&#x2F;s    00:01    
&lt;&#x2F;span&gt;&lt;span&gt;pkg: packagesite URL error for pkg+http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;FreeBSD:13:amd64&#x2F;quarterly&#x2F;packagesite.pkg -- pkg+:&#x2F;&#x2F; implies SRV mirror type
&lt;&#x2F;span&gt;&lt;span&gt;pkg: packagesite URL error for pkg+http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;FreeBSD:13:amd64&#x2F;quarterly&#x2F;packagesite.txz -- pkg+:&#x2F;&#x2F; implies SRV mirror type
&lt;&#x2F;span&gt;&lt;span&gt;Unable to update repository FreeBSD
&lt;&#x2F;span&gt;&lt;span&gt;Error updating repositories!
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;提取报错，就是找不到pkg源的SRV记录&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;pkg: No SRV record found for the repo &amp;#39;FreeBSD&amp;#39;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;forums.freebsd.org&#x2F;threads&#x2F;problems-with-pkg-1-20-8.90655&#x2F;&quot;&gt;problems with pkg 1.20.8 | The FreeBSD Forums&lt;&#x2F;a&gt;
解决方法如下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;mkdir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -p&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;cp&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;pkg&#x2F;FreeBSD.conf &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;vi&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;FreeBSD.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-FreeBSD.conf &quot;&gt;&lt;code class=&quot;language-FreeBSD.conf&quot; data-lang=&quot;FreeBSD.conf&quot;&gt;&lt;span&gt;# $FreeBSD$
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;# To disable this repository, instead of modifying or removing this file,
&lt;&#x2F;span&gt;&lt;span&gt;# create a &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf file:
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;#   mkdir -p &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos
&lt;&#x2F;span&gt;&lt;span&gt;#   echo &amp;quot;FreeBSD: { enabled: no }&amp;quot; &amp;gt; &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;FreeBSD: {
&lt;&#x2F;span&gt;&lt;span&gt;  url: &amp;quot;pkg+http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;${ABI}&#x2F;quarterly&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  mirror_type: &amp;quot;srv&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  signature_type: &amp;quot;fingerprints&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  fingerprints: &amp;quot;&#x2F;usr&#x2F;share&#x2F;keys&#x2F;pkg&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  enabled: yes
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;改为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;FreeBSD.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-FreeBSD.conf &quot;&gt;&lt;code class=&quot;language-FreeBSD.conf&quot; data-lang=&quot;FreeBSD.conf&quot;&gt;&lt;span&gt;# $FreeBSD$
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;# To disable this repository, instead of modifying or removing this file,
&lt;&#x2F;span&gt;&lt;span&gt;# create a &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf file:
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;#   mkdir -p &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos
&lt;&#x2F;span&gt;&lt;span&gt;#   echo &amp;quot;FreeBSD: { enabled: no }&amp;quot; &amp;gt; &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf
&lt;&#x2F;span&gt;&lt;span&gt;#
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;FreeBSD: {
&lt;&#x2F;span&gt;&lt;span&gt;  url: &amp;quot;http:&#x2F;&#x2F;pkg.FreeBSD.org&#x2F;${ABI}&#x2F;quarterly&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  mirror_type: &amp;quot;http&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  signature_type: &amp;quot;fingerprints&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  fingerprints: &amp;quot;&#x2F;usr&#x2F;share&#x2F;keys&#x2F;pkg&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  enabled: yes
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这是官方管理员给出的解决方案。
再执行更新&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;pkg update
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;安装sudo&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pw&lt;&#x2F;span&gt;&lt;span&gt; groupmod wheel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -m&lt;&#x2F;span&gt;&lt;span&gt; username
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pkg&lt;&#x2F;span&gt;&lt;span&gt; install sudo
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;visudo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来弹出vi编辑器，在其中找到&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;## Same thing without a password
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;把下面那行的注释取消(就是下面那行的#号删掉，使用hjkl移到到那个需要删除的位置，按x，就可以删除光标所在的字符)。然后按&lt;code&gt;ESC&lt;&#x2F;code&gt;,再输入&lt;code&gt;:wq&lt;&#x2F;code&gt;保存并退出。
然后就可以使用sudo了，这是可以使用&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;exit # 注销当前用户，重新以之前创建的普通用户身份登录
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;或者&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;su admin # 切换回之前创建的普通用户admin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;接下来均以普通用户admin进行操作
我的成功安装xorg与hyprland且可正常使用的平台&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;S410p笔记本&lt;&#x2F;li&gt;
&lt;li&gt;e5-2651v2+R9 270&#x2F;HD7750+pve虚拟机(q35机型)&lt;&#x2F;li&gt;
&lt;li&gt;天选4 i7 13700H + 混合显卡输出模式(实际上仅用核显)&lt;&#x2F;li&gt;
&lt;li&gt;A520 + R5 5600G核显&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;an-zhuang-xorgyu-hyprland&quot;&gt;安装xorg与hyprland&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;an-zhuang-dui-ying-qu-dong&quot;&gt;安装对应驱动&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;intelxian-qia&quot;&gt;intel显卡&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo pkg install drm-kmod
&lt;&#x2F;span&gt;&lt;span&gt;# sudo pkg install xf86-video-intel # 可选
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc kld_list+=i915kms
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;amdhe-xian-du-xian&quot;&gt;amd核显&#x2F;独显&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo pkg install drm-kmod
&lt;&#x2F;span&gt;&lt;span&gt;# sudo pkg install xf86-video-intel # 可选
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc kld_list+=amdgpu # 对于 HD7000 之后或 Tahiti 图形卡
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc kld_list+=radeonkms # 对于较旧的显卡（HD7000 之前或 Tahiti 之前）
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;nvidiadu-xian-dui-yu-jiao-xin-de-xian-qia&quot;&gt;nvidia独显（对于较新的显卡）&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo pkg install nvidia-driver
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc kld_list+=nvidia-modeset
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;nvidiadu-xian-dui-yu-jiao-jiu-de-xian-qia&quot;&gt;nvidia独显（对于较旧的显卡）&lt;&#x2F;h4&gt;
&lt;p&gt;https:&#x2F;&#x2F;docs.freebsd.org&#x2F;en&#x2F;books&#x2F;handbook&#x2F;x11&#x2F;#x-graphic-card-drivers
直接看文档吧&lt;&#x2F;p&gt;
&lt;h3 id=&quot;an-zhuang-ruan-jian-bao-bing-qi-yong-xi-tong-fu-wu&quot;&gt;安装软件包并启用系统服务&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo pw groupmod video -m username
&lt;&#x2F;span&gt;&lt;span&gt;sudo pkg install xorg dbus sddm wayland seatd hyprland xdg-desktop-portal-hyprland # hyprland本体
&lt;&#x2F;span&gt;&lt;span&gt;sudo pkg install alacritty waybar pavucontrol yazi rofi-wayland git neovim wl-clipboard # 常用工具
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc dbus_enable=&amp;quot;YES&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc sddm_enable=&amp;quot;YES&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc hald_enable=&amp;quot;YES&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc seatd_enable=&amp;quot;YES&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc jackd_enable=&amp;quot;YES&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;sudo sysrc linux_enable=&amp;quot;YES&amp;quot; # 配置linux兼容
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;运行后输入&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;sudo reboot
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;重启系统，如果运气好，可以直接进入sddm，并且sddm上面的会话会显示Hyprland，这种情况就是非常成功&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bao-cuo-1-xdg-runtime-dir-is-not-set&quot;&gt;报错1：&lt;code&gt;XDG_RUNTIME_DIR is not set&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;p&gt;可能会遇见报错&lt;code&gt;XDG_RUNTIME_DIR is not set&lt;&#x2F;code&gt;
在 shell 的 rc 文件中添加以下内容（例如 .shrc、.bashrc）：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;export XDG_RUNTIME_DIR=&#x2F;var&#x2F;run&#x2F;user&#x2F;`id -u``
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这个在freebsd14.1中已经解决，会自动帮你设置&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bao-cuo-2-virtulboxxu-ni-ji-kai-bu-qi-lai-hyprlandyu-xorg&quot;&gt;报错2：virtulbox虚拟机开不起来hyprland与xorg&lt;&#x2F;h3&gt;
&lt;p&gt;hyprland貌似解决不了
&lt;a href=&quot;https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Getting-Started&#x2F;Quick-start&#x2F;&quot;&gt;Quick Start | Hyprland Wiki&lt;&#x2F;a&gt;
官方说hyprland无法运行在虚拟机里面。
xorg的话
vbox虚拟机无法启动xorg，提示找不到显示器，那是因为没装显示驱动。
记得先在vbox设置把显示-显卡控制器改为VBoxSVGA
然后执行&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;pkg install virtualbox-ose-additions-6.1.50
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;startx # 检验是否可以开启xorg
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bao-cuo-3-ping-tai-shi-lao-shi-ying-te-er-bi-ji-ben-huan-shi-wu-fa-kai-qi-xorg&quot;&gt;报错3：平台是老式英特尔笔记本，还是无法开启xorg&lt;&#x2F;h3&gt;
&lt;p&gt;如果还不行，运行&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;Xorg -configure
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将生成的xorg.conf.new复制走&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;cp xorg.conf.new &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;xorg.conf
&lt;&#x2F;span&gt;&lt;span&gt;vi &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;xorg.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将里面Device部分的Driver项改成对应的模块&lt;a href=&quot;https:&#x2F;&#x2F;docs.freebsd.org&#x2F;en&#x2F;books&#x2F;handbook&#x2F;x11&#x2F;#x-graphic-card-drivers&quot;&gt;Chapter 5. The X Window System | FreeBSD Documentation Portal&lt;&#x2F;a&gt;
几个论坛的例子
&lt;a href=&quot;https:&#x2F;&#x2F;forums.freebsd.org&#x2F;threads&#x2F;startx-bad-display-name.8003&#x2F;&quot;&gt;startX bad display name | The FreeBSD Forums&lt;&#x2F;a&gt;&lt;a href=&quot;https:&#x2F;&#x2F;forums.freebsd.org&#x2F;threads&#x2F;startx-bad-display-name.8003&#x2F;&quot;&gt;startX bad display name | The FreeBSD Forums&lt;&#x2F;a&gt;
&lt;a href=&quot;https:&#x2F;&#x2F;forums.freebsd.org&#x2F;threads&#x2F;thinkpad-e130-hd-4000-failed-to-load-module-intel.72048&#x2F;&quot;&gt;Solved - Thinkpad E130 - HD 4000 - Failed to load module &quot;intel&quot; | The FreeBSD Forums&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;bao-cuo-4-ping-tai-13dai-ying-te-er-rtx-4060bi-ji-ben-wu-fa-kai-qi-xorghuo-wayland&quot;&gt;报错4：平台13代英特尔+RTX 4060笔记本，无法开启xorg或wayland&lt;&#x2F;h3&gt;
&lt;p&gt;测试，在bios使用核显独显混合模式，根据官方文档进行配置，无法使用wayland
需要修改xorg配置文件,才能正常运行xorg
修改&lt;code&gt;&#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;xorg.conf&lt;&#x2F;code&gt;里面的配置文件
找到如下intel核显驱动的&lt;code&gt;Section&lt;&#x2F;code&gt;部分&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xorg.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-xorg.conf &quot;&gt;&lt;code class=&quot;language-xorg.conf&quot; data-lang=&quot;xorg.conf&quot;&gt;&lt;span&gt;Section &amp;quot;Device&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	Identifier &amp;quot;Card0&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	Driver     &amp;quot;intel&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;EndSection
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将这部分修改为&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;xorg.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-xorg.conf &quot;&gt;&lt;code class=&quot;language-xorg.conf&quot; data-lang=&quot;xorg.conf&quot;&gt;&lt;span&gt;Section &amp;quot;Device&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	Identifier &amp;quot;Intel Graphics&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;	Driver     &amp;quot;intel&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;EndSection
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;重启，xorg正常，能明显感到核显被成功驱动
wayland也正常&lt;&#x2F;p&gt;
&lt;p&gt;在bios使用独显模式，无法开启xorg
这是硬件兼容的问题，无解，最好不要使用笔记本独显的设备&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第六回，弃Linux投FreeBSD，稳如磐石路更宽</title>
        <published>2024-10-20T00:00:00+00:00</published>
        <updated>2024-10-20T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/6/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/6/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/6/">&lt;h1 id=&quot;di-liu-hui-qi-linuxtou-freebsd-wen-ru-pan-shi-lu-geng-kuan&quot;&gt;第六回，弃Linux投FreeBSD，稳如磐石路更宽&lt;&#x2F;h1&gt;
&lt;p&gt;2024-10-20&lt;&#x2F;p&gt;
&lt;h1 id=&quot;an-zhuang-freebsd&quot;&gt;安装freebsd&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;zhun-bei-jing-xiang&quot;&gt;准备镜像&lt;&#x2F;h2&gt;
&lt;p&gt;访问&lt;a href=&quot;https:&#x2F;&#x2F;www.freebsd.org&#x2F;where&#x2F;&quot;&gt;官网下载地址&lt;&#x2F;a&gt;，根据自己的架构选择下载，我是&lt;code&gt;x64&lt;&#x2F;code&gt;，所以下载&lt;code&gt;amd64&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;01.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
下载&lt;code&gt;FreeBSD-14.1-RELEASE-amd64-disc1.iso&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;02.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
使用&lt;code&gt;balenaEtcher&lt;&#x2F;code&gt;进行烧录，选择下载好的镜像和要烧录的u盘，点击&lt;code&gt;现在烧录&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;03.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;04.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;05.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;06.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;烧录完成后，关机重启，按快捷键进入启动项选择节目或者进bios选择启动项，选择进入刚才烧录的u盘，进入freebsd界面后，回车，等待跑码&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;07.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;跑码后出现安装界面，使用左右方向键选中&lt;code&gt;Install&lt;&#x2F;code&gt;，回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;08.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键，根据自己的情况选择，我这直接默认，选好后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;09.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;输入主机名，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;10.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选中条目，使用空格键启用该条目&#x2F;取消该条目，可根据下图快速选择，选好后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;11.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选中条目，这里使用ZFS自动分区，选&lt;code&gt;Auto (ZFS)&lt;&#x2F;code&gt;，选好后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;12.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;13.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选择条目，选择&lt;code&gt;Pool Type&#x2F;Disks:&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;14.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选择条目，选择&lt;code&gt;stripe&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;15.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果有多个磁盘，这里会显示出来，不过演示只有一块磁盘。使用上下方向键选择条目，使用空格键启用该条目&#x2F;取消该条目。这里移到要安装freebsd的那块磁盘，按空格键启用，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;16.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;17.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;18.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选择条目，选择&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; Install&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;19.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用左右方向键选中&lt;code&gt;YES&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;20.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;等待进度条跑完&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;21.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;22.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;23.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;24.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;进度条跑完后，会来到下面的界面，设置root密码&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;25.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;26.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;设置完root密码的时候选择网卡，有线网卡跟无线网卡都可以，无线网卡还需要选择wifi并输入wifi密码，这里只有一个有线网卡。使用上下方向键选择条目，选择你要配置的网卡，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;27.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;配置IPv4，使用左右方向键选中&lt;code&gt;YES&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;28.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用DHCP，使用左右方向键选中&lt;code&gt;YES&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;29.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;30.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;先不配置IPv6，使用左右方向键选中&lt;code&gt;No&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;31.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用左右方向键选中&lt;code&gt;OK&lt;&#x2F;code&gt;，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;32.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;配置时区，根据自己的情况选，使用上下方向键选择时区，然后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;33.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;34.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选择&lt;code&gt;Set Date&lt;&#x2F;code&gt;设置时间&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;35.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;36.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选中条目，使用空格键启用该条目&#x2F;取消该条目，根据情况启用相应的&lt;code&gt;services&lt;&#x2F;code&gt;，选好后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;37.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;使用上下方向键选中条目，使用空格键启用该条目&#x2F;取消该条目，根据情况启用相应的系统安全策略，选好后回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;38.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;添加用户，这里选择&lt;code&gt;Yes&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;39.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;40.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;输入用户名，&lt;code&gt;Uid&lt;&#x2F;code&gt;和第一个&lt;code&gt;Login group&lt;&#x2F;code&gt;直接留空，回车即可&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;41.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;第二个&lt;code&gt;Login group&lt;&#x2F;code&gt;，将该用户添加到其他组，填写&lt;code&gt;wheel&lt;&#x2F;code&gt; 后回车，接下来一路回车，保持默认设置，直到输入密码。输完密码后再一路回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;42.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;43.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;到这里安装完成，选&lt;code&gt;Exit&lt;&#x2F;code&gt;回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;44.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选&lt;code&gt;Yes&lt;&#x2F;code&gt;回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;45.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;输入&lt;code&gt;exit&lt;&#x2F;code&gt;回车&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;46.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选择&lt;code&gt;Reboot&lt;&#x2F;code&gt;回车，重启电脑&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;47.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;进到tty输入用户名密码，就成功进入freebsd了&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;freebsd&#x2F;install-freebsd&#x2F;48.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>记录一次杂牌x79黑苹果</title>
        <published>2024-10-04T00:00:00+00:00</published>
        <updated>2024-10-04T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/hackintosh/x79/"/>
        <id>https://blog.0pt.icu/posts/hackintosh/x79/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/hackintosh/x79/">&lt;h1 id=&quot;ji-lu-yi-ci-za-pai-x79-hei-ping-guo&quot;&gt;记录一次杂牌x79 黑苹果&lt;&#x2F;h1&gt;
&lt;p&gt;2024-10-04
送同学的，拿来测试黑苹果，EFI链接如下
https:&#x2F;&#x2F;github.com&#x2F;antipeth&#x2F;EFI-Motherboard-X79-OpenCore-Hackintosh&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ying-jian-pei-zhi&quot;&gt;硬件配置&lt;&#x2F;h2&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Item&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;price&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;主板&lt;&#x2F;td&gt;&lt;td&gt;x79魔改1356针,不知道什么牌的杂牌&lt;&#x2F;td&gt;&lt;td&gt;板U 78￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;cpu&lt;&#x2F;td&gt;&lt;td&gt;至强e5-2450v2，非常小众的e5&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;内存&lt;&#x2F;td&gt;&lt;td&gt;1066Mhz三星16G ddr3服务器内存条带马甲&lt;&#x2F;td&gt;&lt;td&gt;23￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;散热器&lt;&#x2F;td&gt;&lt;td&gt;杂牌塔式散热&lt;&#x2F;td&gt;&lt;td&gt;28￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;显卡&lt;&#x2F;td&gt;&lt;td&gt;七彩虹HD7750(刷了个支持uefi的vbios)&lt;&#x2F;td&gt;&lt;td&gt;60￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;硬盘&lt;&#x2F;td&gt;&lt;td&gt;之前的梵想ssd固态128G&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;电源&lt;&#x2F;td&gt;&lt;td&gt;之前的华为服务器电源750w+电源转接板+模组线&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;机箱&lt;&#x2F;td&gt;&lt;td&gt;鞋盒&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;总计&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;189￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;h2 id=&quot;zhu-ban-jie-shao&quot;&gt;主板介绍&lt;&#x2F;h2&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Item&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;主板尺寸&lt;&#x2F;td&gt;&lt;td&gt;m-ATX 17cm x 21.5cm&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;内存&lt;&#x2F;td&gt;&lt;td&gt;2通道 2个ddr3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;sata&lt;&#x2F;td&gt;&lt;td&gt;3个可能是sata3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;m2&lt;&#x2F;td&gt;&lt;td&gt;一个m2口&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;pcie&lt;&#x2F;td&gt;&lt;td&gt;1个pci-e 16x 1个pci-e 1x&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;usb&lt;&#x2F;td&gt;&lt;td&gt;6个usb2&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;vga&lt;&#x2F;td&gt;&lt;td&gt;板载显卡，有1个vga口&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;网口&lt;&#x2F;td&gt;&lt;td&gt;1个网口(RealtekRTL8100系)&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;其他&lt;&#x2F;td&gt;&lt;td&gt;PS&#x2F;2键鼠，音视频接口&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;h2 id=&quot;zhu-yi-shi-xiang&quot;&gt;注意事项&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;san-re-qi&quot;&gt;散热器&lt;&#x2F;h3&gt;
&lt;p&gt;注意买标准的正方形2011针，不带固定底座。可以兼容这个1356针的平台。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;m2jie-kou&quot;&gt;m2接口&lt;&#x2F;h3&gt;
&lt;p&gt;有点假，读取速度780MB&#x2F;s,写入速度180MB&#x2F;s,然后插了m2就识别不到硬盘了。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;biosshe-zhi&quot;&gt;BIOS设置&lt;&#x2F;h2&gt;
&lt;p&gt;按&lt;code&gt;Del&lt;&#x2F;code&gt;进bios
c ,改为&lt;code&gt;Disabled&lt;&#x2F;code&gt;
&lt;code&gt;Advanced&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;USB Configuration&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;XHCI Hand-off&lt;&#x2F;code&gt; ,改为&lt;code&gt;Enabled&lt;&#x2F;code&gt;
&lt;code&gt;Advanced&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;USB Configuration&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;EHCI Hand-off&lt;&#x2F;code&gt; ,改为&lt;code&gt;Disabled&lt;&#x2F;code&gt;
&lt;code&gt;Advanced&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;Super IO Configuration&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;Serial Port 0 Configuration&lt;&#x2F;code&gt; -&amp;gt;&lt;code&gt;Serial Port&lt;&#x2F;code&gt;,改为&lt;code&gt;Disabled&lt;&#x2F;code&gt;
&lt;code&gt;Boot&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;Quiet Boot&lt;&#x2F;code&gt;,改为&lt;code&gt;Disabled&lt;&#x2F;code&gt;
&lt;code&gt;Boot&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;Fast Boot&lt;&#x2F;code&gt;,改为&lt;code&gt;Disabled&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;可能会弹出&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;Warning!!!
&lt;&#x2F;span&gt;&lt;span&gt;Video is in Legacy mode. Select Video policy UEFI first, reboot and try again
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这时候，需要先把&lt;code&gt;Boot&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;CSM parameters&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;Launch Video OpROM policy&lt;&#x2F;code&gt;改为&lt;code&gt;UEFI only&lt;&#x2F;code&gt;(你没看错，是&lt;code&gt;UEFI only&lt;&#x2F;code&gt;而不是警告让你改的&lt;code&gt;UEFI first&lt;&#x2F;code&gt;，如果改为&lt;code&gt;UEFI first&lt;&#x2F;code&gt;，警告还是会存在，不让你关掉&lt;code&gt;CSM parameters&lt;&#x2F;code&gt;)，然后重启进bios后，就可以关掉&lt;code&gt;Launch CSM&lt;&#x2F;code&gt;了&lt;&#x2F;p&gt;
&lt;h2 id=&quot;efi-oc-0-7-7&quot;&gt;EFI OC 0.7.7&lt;&#x2F;h2&gt;
&lt;p&gt;我的EFI文件如下
有可能会遇到反复重启的情况，但是最后肯定还是可以进去的。
解决方法&lt;&#x2F;p&gt;
&lt;p&gt;Multible Reboot: Some times it takes multiple reboots to get into the system. It gets stuck in the following then follow the below given solution.
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;hackintosh&#x2F;x79&#x2F;1.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
Solution:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Open your DSDT in Rehabman&#x27;s MacIasland remove SCK1, SCK2 and SCK3&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Also remove unused Cores. For Eg. If your CPU has 12 threads then only keep the first 12 CPU Cores and delete the rest like this. It depends on how much threads your CPU has and accordingly remove the rest. As my CPU has only 12 threads I have only kept the first 12 and will be removing the rest that I have shown in the image below.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Save this file as DSDT.aml
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;hackintosh&#x2F;x79&#x2F;2.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Place this DSDT.aml in the ACPI Folder&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;Reboot.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;Now there will be no random reboots while rebooting.
参考链接:
https:&#x2F;&#x2F;www.hackintosh-forum.de&#x2F;forum&#x2F;thread&#x2F;55510-install-monterey-big-sur-on-any-x79-motherboard-huananzhi-chinese-gigabyte-etc-a&#x2F;&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>x79上pve黑苹果</title>
        <published>2024-09-19T00:00:00+00:00</published>
        <updated>2024-09-19T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/pve/pve-hackintosh/"/>
        <id>https://blog.0pt.icu/posts/pve/pve-hackintosh/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/pve/pve-hackintosh/">&lt;h1 id=&quot;x79shang-pvehei-ping-guo&quot;&gt;x79上pve黑苹果&lt;&#x2F;h1&gt;
&lt;p&gt;2024-09-19&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhun-bei&quot;&gt;准备&lt;&#x2F;h2&gt;
&lt;p&gt;选用黑果魏叔上的mac 12 Monterey的虚拟机镜像，下载后使用&lt;code&gt;dmg2img&lt;&#x2F;code&gt;转为img镜像后上传到pve.&lt;br &#x2F;&gt;
创建虚拟机&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;01.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
选择黑苹果镜像&lt;code&gt;12.7.5.img&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;02.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;03.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
选用virtIO&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;04.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
注意，这里的cpu核心改为&lt;code&gt;8核&lt;&#x2F;code&gt;，而不是&lt;code&gt;16核&lt;&#x2F;code&gt;，不然黑苹果识别不了cpu型号&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;05.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;06.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;07.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
然后，编辑虚拟机配置文件，我的虚拟机编号是100&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;nano &#x2F;etc&#x2F;pve&#x2F;qemu-server&#x2F;103.conf 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;08.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
根据自己的 CPU 类别，在第 1 行添加如下配置：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;args: -device isa-applesmc,osk=&amp;quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc&amp;quot; -smbios type=2 -device usb-kbd,bus=ehci.0,port=2 -cpu host,kvm=on,vendor=GenuineIntel,+kvm_pv_unhalt,+kvm_pv_eoi,+hypervisor,+invtsc
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;再将CD 光盘配置(在ide2那个)，删掉&lt;code&gt;media=cdrom&lt;&#x2F;code&gt;换成 &lt;code&gt;cache=unsafe&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;09.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;10.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
接下来修改&lt;code&gt;引导顺序&lt;&#x2F;code&gt;，把镜像放在第一位&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;11.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
然后开机&lt;&#x2F;p&gt;
&lt;h2 id=&quot;di-yi-bian-qi-dong&quot;&gt;第一遍启动&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;12.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
选中间那个&lt;code&gt;Install macOS Monterey&lt;&#x2F;code&gt;&lt;br &#x2F;&gt;
等待跑码&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;13.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;br &#x2F;&gt;
进来后选择磁盘工具&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;14.avif&quot; alt=&quot;&quot; &#x2F;&gt;
点击我们分配给苹果的硬盘，点击抹除&lt;br &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;15.avif&quot; alt=&quot;&quot; &#x2F;&gt;
把磁盘命名一下，格式选择APFS,确认
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;16.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;17.avif&quot; alt=&quot;&quot; &#x2F;&gt;
格式化完成后，选择第二个安装
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;18.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;19.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;20.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;21.avif&quot; alt=&quot;&quot; &#x2F;&gt;
选择我们刚才格式化的那个磁盘
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;22.avif&quot; alt=&quot;&quot; &#x2F;&gt;
等待进度条，跑完后会自动重启，进入第二遍
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;23.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;di-er-bian-qi-dong&quot;&gt;第二遍启动&lt;&#x2F;h2&gt;
&lt;p&gt;出现了一个&lt;code&gt;macOS Installer&lt;&#x2F;code&gt;，选择这个回车
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;24.avif&quot; alt=&quot;&quot; &#x2F;&gt;
等待跑码
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;25.avif&quot; alt=&quot;&quot; &#x2F;&gt;
出现以下情况跑码卡住，我直接强制关机后重启
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;26.avif&quot; alt=&quot;&quot; &#x2F;&gt;
可能会重启几次,还选&lt;code&gt;macOS Installer&lt;&#x2F;code&gt;，直到看见了进度条，等待进度条跑完，跑完后自动重启，进入第三遍启动
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;27.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;di-san-bian-qi-dong&quot;&gt;第三遍启动&lt;&#x2F;h2&gt;
&lt;p&gt;目标是进入苹果初始化设置
此时出现了一个我们之前设置的磁盘名称&lt;code&gt;montereyOS&lt;&#x2F;code&gt; 的选项,选择它回车
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;28.avif&quot; alt=&quot;&quot; &#x2F;&gt;
等待跑码
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;29.avif&quot; alt=&quot;&quot; &#x2F;&gt;
中间可能还会重启几次，或者跑码卡住(这种情况直接强制关机重启)，还选&lt;code&gt;montereyOS&lt;&#x2F;code&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;30.avif&quot; alt=&quot;&quot; &#x2F;&gt;
下面是我自己跑码重启的记录
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;31.avif&quot; alt=&quot;&quot; &#x2F;&gt;
卡住了，强制关机重启
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;32.avif&quot; alt=&quot;&quot; &#x2F;&gt;
进到进度条了，但是进度条完还是重启
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;33.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;34.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;35.avif&quot; alt=&quot;&quot; &#x2F;&gt;
终于这次进来了,进行简单的初始化设置
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;36.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;37.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;38.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;39.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;40.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;41.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;42.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;43.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;44.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;45.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;46.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;47.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;48.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;49.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;50.avif&quot; alt=&quot;&quot; &#x2F;&gt;
这个可以不选，维持默认，因为选的话由于没有显卡驱动，会卡一会
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;51.avif&quot; alt=&quot;&quot; &#x2F;&gt;
终于是看到mac桌面了
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;52.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;kao-bei-efiwen-jian-jia&quot;&gt;拷贝EFI文件夹&lt;&#x2F;h2&gt;
&lt;p&gt;下载&lt;a href=&quot;https:&#x2F;&#x2F;mackie100projects.altervista.org&#x2F;download-opencore-configurator&#x2F;&quot;&gt;OCC&lt;&#x2F;a&gt;后打开
挂载efi分区，上面是这台虚拟机创建的efi分区，里面没有文件
下面是黑苹果镜像的efi分区，里面放了efi文件
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;53.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;54.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;55.avif&quot; alt=&quot;&quot; &#x2F;&gt;
我们把有efi文件夹的那个分区里的文件拷贝到那个空的里面去
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;56.avif&quot; alt=&quot;&quot; &#x2F;&gt;
然后关机，在虚拟机设置里面把黑苹果镜像移除
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;57.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;58.avif&quot; alt=&quot;&quot; &#x2F;&gt;
现在，不需要镜像也可以正常启动黑苹果了，记得把启动选项调整成虚拟磁盘为第一
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;62.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;tian-jia-usbzhi-tong&quot;&gt;添加usb直通&lt;&#x2F;h2&gt;
&lt;p&gt;虚拟机设置&lt;code&gt;添加USB设备&lt;&#x2F;code&gt;
然后随便找个设备找个usb设备插到你要直通的usb口上面
选使用USB端口，就看到了插上去的设备激活的那个usb口。我的设备是&lt;code&gt;Razer DeathAdder 2013&lt;&#x2F;code&gt;,添加后，相当于把usb口直通给虚拟机使用，随便插什么设备都行。
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;59.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;60.avif&quot; alt=&quot;&quot; &#x2F;&gt;
我把另一个usb口也直通进去了,可以看到usb设备有2个
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;61.avif&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;tian-jia-xian-qia-zhi-tong&quot;&gt;添加显卡直通&lt;&#x2F;h2&gt;
&lt;p&gt;先把虚拟机的显示设置调为无
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;65.avif&quot; alt=&quot;&quot; &#x2F;&gt;
虚拟机设置&lt;code&gt;添加PCI设备&lt;&#x2F;code&gt;，选择你对于的显卡设备,其他如下设置
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;66.avif&quot; alt=&quot;&quot; &#x2F;&gt;
有些显卡需要romfile才能启动
在window下，使用gpu-z提取。
把&lt;code&gt;.rom文件&lt;&#x2F;code&gt;（我的是R9-270.rom）放到pve的&lt;code&gt;&#x2F;usr&#x2F;share&#x2F;kvm&#x2F;&lt;&#x2F;code&gt;目录下面
在虚拟机配置下添加pcie设备，选择显卡，勾选主&lt;code&gt;gpu&lt;&#x2F;code&gt;和&lt;code&gt;rombar&lt;&#x2F;code&gt;
编辑虚拟机配置&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;nano &#x2F;etc&#x2F;pve&#x2F;qemu-server&#x2F;100.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;修改&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;# hostpci0: 01:00
&lt;&#x2F;span&gt;&lt;span&gt;hostpci0: 01:00,x-vga=1,romfile=R9-270.rom
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后显卡接上外接显示屏，启动虚拟机，会发现苹果的视频信号输出到外接显示屏上，配合上usb直通，无限接近物理机黑苹果。
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;63.avif&quot; alt=&quot;&quot; &#x2F;&gt;
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;pve&#x2F;pve-hackintosh&#x2F;64.avif&quot; alt=&quot;&quot; &#x2F;&gt;
我的R9 270需要仿冒显卡才能免驱，使用opencore configuretor打开efi文件夹下面的config.plist,在&lt;code&gt;DeviceProperties&lt;&#x2F;code&gt;下的&lt;code&gt;PciRoot(0x0)&#x2F;Pci(0x1b,0x0)&lt;&#x2F;code&gt;条目添加&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Key&lt;&#x2F;th&gt;&lt;th&gt;Type&lt;&#x2F;th&gt;&lt;th&gt;Value&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;device-id&lt;&#x2F;td&gt;&lt;td&gt;Data&lt;&#x2F;td&gt;&lt;td&gt;68100000&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;即可免驱&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>x79搭建pve并开启硬件直通</title>
        <published>2024-09-17T00:00:00+00:00</published>
        <updated>2024-09-17T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/pve/build-pve/"/>
        <id>https://blog.0pt.icu/posts/pve/build-pve/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/pve/build-pve/">&lt;h1 id=&quot;x79da-jian-pvebing-kai-qi-ying-jian-zhi-tong&quot;&gt;x79搭建pve并开启硬件直通&lt;&#x2F;h1&gt;
&lt;p&gt;2024-09-17&lt;&#x2F;p&gt;
&lt;p&gt;从去年就买了一个服务器主板和相关配件学习装机，一直都没用起来。开学后想着利用起来，开个pve玩玩。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ying-jian-pei-zhi&quot;&gt;硬件配置&lt;&#x2F;h2&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Item&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;th&gt;price&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;主板&lt;&#x2F;td&gt;&lt;td&gt;x79浪潮m2220(2011针)&lt;&#x2F;td&gt;&lt;td&gt;152￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;cpu&lt;&#x2F;td&gt;&lt;td&gt;至强e5-2651v2 x 2&lt;&#x2F;td&gt;&lt;td&gt;26x2=52￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;内存&lt;&#x2F;td&gt;&lt;td&gt;1866Mhz镁光16G ddr3服务器内存条 x 2&lt;&#x2F;td&gt;&lt;td&gt;27x2=54￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;散热器&lt;&#x2F;td&gt;&lt;td&gt;杂牌塔式散热 x 2&lt;&#x2F;td&gt;&lt;td&gt;29x2=58￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;显卡&lt;&#x2F;td&gt;&lt;td&gt;盈通游戏高手R9 270&lt;&#x2F;td&gt;&lt;td&gt;120￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;硬盘&lt;&#x2F;td&gt;&lt;td&gt;梵想ssd固态128G&lt;&#x2F;td&gt;&lt;td&gt;79￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;电源&lt;&#x2F;td&gt;&lt;td&gt;华为服务器电源750w+电源转接板+模组线&lt;&#x2F;td&gt;&lt;td&gt;41+71+65=177￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;机箱&lt;&#x2F;td&gt;&lt;td&gt;开放式机箱&lt;&#x2F;td&gt;&lt;td&gt;39￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;总计&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;731￥&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;h2 id=&quot;zhu-ban-jie-shao&quot;&gt;主板介绍&lt;&#x2F;h2&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Item&lt;&#x2F;th&gt;&lt;th&gt;name&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;主板尺寸&lt;&#x2F;td&gt;&lt;td&gt;E-ATX 30.5cm x 33.2cm&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;内存&lt;&#x2F;td&gt;&lt;td&gt;4通道 20个ddr3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;sata&lt;&#x2F;td&gt;&lt;td&gt;2个sata3 8个sata2&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;pcie&lt;&#x2F;td&gt;&lt;td&gt;3个pci-e 16x 3个pci-e 8x&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;usb&lt;&#x2F;td&gt;&lt;td&gt;3个usb2&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;vga&lt;&#x2F;td&gt;&lt;td&gt;板载显卡，有1个vga口&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;网口&lt;&#x2F;td&gt;&lt;td&gt;2个千兆网口(intel i350芯片) 1个远程口(IPMI)&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;h2 id=&quot;zhu-yi-shi-xiang&quot;&gt;注意事项&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;xian-qia&quot;&gt;显卡&lt;&#x2F;h3&gt;
&lt;p&gt;显卡别看pci-e 16x 有3个，能支持的显卡长度必须小于18.5cm，不然会顶到内存插槽，且如果显卡宽度大于1.5cm,则会把旁边的那个pcie口一起占用。
板载显卡在某些情况（非正常情况）下可能会有冲突。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;san-re-qi&quot;&gt;散热器&lt;&#x2F;h3&gt;
&lt;p&gt;注意买标准的长方形2011针，不是正方形。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;biosshe-zhi&quot;&gt;BIOS设置&lt;&#x2F;h2&gt;
&lt;p&gt;按&lt;code&gt;Del&lt;&#x2F;code&gt;进bios&lt;&#x2F;p&gt;
&lt;h3 id=&quot;cpu&quot;&gt;cpu&lt;&#x2F;h3&gt;
&lt;p&gt;vt-d开启，虚拟化开启
cpu的几个增强设置全部打开&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-pan&quot;&gt;硬盘&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;Advanced&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;SATA Configuration&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;SATA Mode&lt;&#x2F;code&gt; ,把&lt;code&gt;IDE Mode&lt;&#x2F;code&gt;改为&lt;code&gt;AHCI Mode&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-pin-shu-chu-xin-hao-zou-ban-zai-xian-qia-gai-wei-zou-du-xian&quot;&gt;视频输出信号走板载显卡改为走独显&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;Chipset&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;CPU Advanced Settings&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;IOH Configuration&lt;&#x2F;code&gt;-&amp;gt;&lt;code&gt;VGA Priority&lt;&#x2F;code&gt;,把&lt;code&gt;Onboard&lt;&#x2F;code&gt;改为&lt;code&gt;Offboard&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;an-zhuang-pve&quot;&gt;安装pve&lt;&#x2F;h2&gt;
&lt;p&gt;没什么好说的，直接安装即可&lt;&#x2F;p&gt;
&lt;h2 id=&quot;pvezhu-yi-shi-xiang&quot;&gt;pve注意事项&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;shi-yong-wu-xian-wang-qia-lian-wang&quot;&gt;使用无线网卡联网&lt;&#x2F;h3&gt;
&lt;p&gt;无线网卡连接手机热点，并使用nat配置给虚拟机联网，我使用这种方法有问题，虚拟机内无网络(我看别人的相关文章，无线网卡连接的是路由器wifi，成功配置网络。)&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-usblian-wang&quot;&gt;使用usb联网&lt;&#x2F;h3&gt;
&lt;p&gt;usb网路共享也有问题，每次需要手动配置网络接口。使用以下脚本
通过手机 rndis 自动联网配置
效果是：手机线连接 pve 开启 USB 网络共享后，5秒左右自动配置好 rndis 网络&lt;&#x2F;p&gt;
&lt;p&gt;代码部分：&lt;&#x2F;p&gt;
&lt;p&gt;&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;rndis.service&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;[Unit]
&lt;&#x2F;span&gt;&lt;span&gt;Description=Run RNDIS script every 5 seconds
&lt;&#x2F;span&gt;&lt;span&gt;After=network.target
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[Service]
&lt;&#x2F;span&gt;&lt;span&gt;ExecStart=bash &#x2F;root&#x2F;rndis.sh
&lt;&#x2F;span&gt;&lt;span&gt;Restart=always
&lt;&#x2F;span&gt;&lt;span&gt;RestartSec=5
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[Install]
&lt;&#x2F;span&gt;&lt;span&gt;WantedBy=multi-user.target
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&#x2F;root&#x2F;rndis.sh&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;#!&#x2F;bin&#x2F;bash
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ANDROID_USB_IP=&amp;quot;192.168.42.100&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;ANDROID_USB_GATEWAY=&amp;quot;192.168.42.1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;ANDROID_USB_SUBNET=&amp;quot;255.255.255.0&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;PVE_DEFAULT_GATEWAY=&amp;quot;192.168.100.1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 获取 enx 开头的网卡设备名称
&lt;&#x2F;span&gt;&lt;span&gt;enx_interface=$(ip a | grep &amp;quot;enx[0-9a-f:]*:&amp;quot; | awk &amp;#39;{print $2}&amp;#39; | head -n 1 | sed &amp;#39;s&#x2F;:$&#x2F;&#x2F;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 检查是否获取到网卡名称
&lt;&#x2F;span&gt;&lt;span&gt;if [ -z &amp;quot;$enx_interface&amp;quot; ]; then
&lt;&#x2F;span&gt;&lt;span&gt;  echo &amp;quot;Error: Could not find enx interface.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  exit 1
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 打印输出网卡名称
&lt;&#x2F;span&gt;&lt;span&gt;echo &amp;quot;Detected enx interface: $enx_interface&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 备份 &#x2F;etc&#x2F;network&#x2F;interfaces
&lt;&#x2F;span&gt;&lt;span&gt;if [ -f &#x2F;etc&#x2F;network&#x2F;interfaces.bak ]; then
&lt;&#x2F;span&gt;&lt;span&gt;  rm &#x2F;etc&#x2F;network&#x2F;interfaces.bak
&lt;&#x2F;span&gt;&lt;span&gt;  echo &amp;quot;Delete original backup.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;cp &#x2F;etc&#x2F;network&#x2F;interfaces &#x2F;etc&#x2F;network&#x2F;interfaces.bak
&lt;&#x2F;span&gt;&lt;span&gt;echo &amp;quot;Backup &#x2F;etc&#x2F;network&#x2F;interfaces&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 检查 &#x2F;etc&#x2F;network&#x2F;interfaces 是否包含 enx[mac] 字段
&lt;&#x2F;span&gt;&lt;span&gt;if grep -q &amp;quot;enx[0-9a-f]*&amp;quot; &#x2F;etc&#x2F;network&#x2F;interfaces; then
&lt;&#x2F;span&gt;&lt;span&gt;  # 检查是否与新获取的网卡名称相同
&lt;&#x2F;span&gt;&lt;span&gt;  if grep -q &amp;quot;$enx_interface&amp;quot; &#x2F;etc&#x2F;network&#x2F;interfaces; then
&lt;&#x2F;span&gt;&lt;span&gt;    echo &amp;quot;Network interface name already matches, no changes made.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  else
&lt;&#x2F;span&gt;&lt;span&gt;    # 替换 &#x2F;etc&#x2F;network&#x2F;interfaces 中的网卡名称
&lt;&#x2F;span&gt;&lt;span&gt;    sed -i &amp;quot;s&#x2F;enx[0-9a-f]*&#x2F;$enx_interface&#x2F;g&amp;quot; &#x2F;etc&#x2F;network&#x2F;interfaces
&lt;&#x2F;span&gt;&lt;span&gt;    echo &amp;quot;Network interface name updated in &#x2F;etc&#x2F;network&#x2F;interfaces.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  fi
&lt;&#x2F;span&gt;&lt;span&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;  # 追加新的网卡配置
&lt;&#x2F;span&gt;&lt;span&gt;  cat &amp;gt;&amp;gt; &#x2F;etc&#x2F;network&#x2F;interfaces &amp;lt;&amp;lt;EOF
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;auto $enx_interface
&lt;&#x2F;span&gt;&lt;span&gt;iface $enx_interface inet static
&lt;&#x2F;span&gt;&lt;span&gt;        address $ANDROID_USB_IP
&lt;&#x2F;span&gt;&lt;span&gt;        netmask $ANDROID_USB_SUBNET
&lt;&#x2F;span&gt;&lt;span&gt;        gateway $ANDROID_USB_GATEWAY
&lt;&#x2F;span&gt;&lt;span&gt;EOF
&lt;&#x2F;span&gt;&lt;span&gt;  echo &amp;quot;New network interface configuration appended to &#x2F;etc&#x2F;network&#x2F;interfaces.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 删除旧路由并添加新路由
&lt;&#x2F;span&gt;&lt;span&gt;ip route delete default via $PVE_DEFAULT_GATEWAY
&lt;&#x2F;span&gt;&lt;span&gt;ip route add default via $ANDROID_USB_GATEWAY
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;echo &amp;quot;Network configuration updated successfully.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 检查网络连接
&lt;&#x2F;span&gt;&lt;span&gt;if ! ping -c 1 1.1.1.1 &amp;gt; &#x2F;dev&#x2F;null 2&amp;gt;&amp;amp;1; then
&lt;&#x2F;span&gt;&lt;span&gt;    echo &amp;quot;Network is down, restarting networking service...&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    # 仅当网络不可用时重启网络服务
&lt;&#x2F;span&gt;&lt;span&gt;    systemctl restart networking.service
&lt;&#x2F;span&gt;&lt;span&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;    echo &amp;quot;Network is up.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;    echo &amp;quot;Done.&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;kai-qi-zhi-tong&quot;&gt;开启直通&lt;&#x2F;h2&gt;
&lt;p&gt;参考&lt;a href=&quot;https:&#x2F;&#x2F;pve.sqlsec.com&#x2F;4&#x2F;2&#x2F;&quot;&gt;国光的教程&lt;&#x2F;a&gt;
以下是自己配的&lt;&#x2F;p&gt;
&lt;h3 id=&quot;kai-qi-iommu&quot;&gt;开启IOMMU&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;nano &#x2F;etc&#x2F;default&#x2F;grub
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;quiet&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;改为(包含直通优化，关闭显卡以节能的相关参数)&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;quiet intel_iommu=on iommu=pt textonly nomodeset nofb pci=noaer pcie_acs_override=downstream,multifunction video=vesafb:off video=efifb:off video=simplefb:off initcall_blacklist=sysfb_init&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后使用&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;update-grub
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;验证IOMMU是否开启&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;dmesg | grep -e DMAR -e IOMMU
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;出现&lt;code&gt;DMAR: IOMMU enabled&lt;&#x2F;code&gt;则说明开启成功，还不行重启后再看一下。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tian-jia-vfio-mo-kuai&quot;&gt;添加 VFIO 模块&lt;&#x2F;h3&gt;
&lt;p&gt;为了我们的显卡顺利直通，需要添加 VFIO 模块到 &#x2F;etc&#x2F;modules 文件中：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;Bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-Bash &quot;&gt;&lt;code class=&quot;language-Bash&quot; data-lang=&quot;Bash&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;vfio&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modules
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;vfio_iommu_type1s&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modules
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;vfio_pci&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modules
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;vfio_virqfd&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modules
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将常见的驱动程序加入黑名单，即让 GPU 相关设备在下次系统启动之后不使用这些驱动，把设备腾出来给 vfio 驱动用：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;Bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-Bash &quot;&gt;&lt;code class=&quot;language-Bash&quot; data-lang=&quot;Bash&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist nvidiafb&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist nouveau&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist nvidia&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist radeon&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist amdgpu&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist snd_hda_intel&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist snd_hda_codec_hdmi&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;blacklist i915&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后更新内核重启机器：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;Bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-Bash &quot;&gt;&lt;code class=&quot;language-Bash&quot; data-lang=&quot;Bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;update-initramfs&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;reboot
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;yan-zheng-iommu-zhong-duan-zhong-xin-ying-she-shi-fou-yi-qi-yong&quot;&gt;验证 IOMMU 中断重新映射是否已启用&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;dmesg | grep &amp;#39;remapping&amp;#39;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;看到以下行之一：&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;AMD-Vi: Interrupt remapping enabled
&lt;&#x2F;span&gt;&lt;span&gt;DMAR-IR: Enabled IRQ remapping in x2apic mode
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;bu-zhi-dao-zhe-shi-sha&quot;&gt;不知道这是啥&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;nano &#x2F;etc&#x2F;modprobe.d&#x2F;pve-blacklist.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;添加&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;options vfio_iommu_type1 allow_unsafe_interrupts=1
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;sheng-cheng-xian-qia-romfile&quot;&gt;生成显卡romfile&lt;&#x2F;h3&gt;
&lt;p&gt;在window下，使用gpu-z提取。
把&lt;code&gt;.rom文件&lt;&#x2F;code&gt;（我的是R9-270.rom）放到pve的&lt;code&gt;&#x2F;usr&#x2F;share&#x2F;kvm&#x2F;&lt;&#x2F;code&gt;目录下面
在虚拟机配置下添加pcie设备，选择显卡，勾选主&lt;code&gt;gpu&lt;&#x2F;code&gt;和&lt;code&gt;rombar&lt;&#x2F;code&gt;
编辑虚拟机配置&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;nano &#x2F;etc&#x2F;pve&#x2F;qemu-server&#x2F;100.conf
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;修改&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;# hostpci0: 01:00
&lt;&#x2F;span&gt;&lt;span&gt;hostpci0: 01:00,x-vga=1,romfile=R9-270.rom
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;pei-zhi-ying-pan-zhi-tong&quot;&gt;配置硬盘直通&lt;&#x2F;h3&gt;
&lt;p&gt;参考&lt;a href=&quot;https:&#x2F;&#x2F;foxi.buduanwang.vip&#x2F;virtualization&#x2F;1754.html&#x2F;&quot;&gt;佛西博客&lt;&#x2F;a&gt;
我们可以通过下面命令，列出当前的硬盘列表&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;ls -la &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;|grep -v dm|grep -v lvm|grep -v part
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;如下面的例子&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;root@pve:~# ls -la &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;|grep -v dm|grep -v lvm|grep -v part
&lt;&#x2F;span&gt;&lt;span&gt;total 0
&lt;&#x2F;span&gt;&lt;span&gt;drwxr-xr-x 2 root root 540 Apr 28 16:39 .
&lt;&#x2F;span&gt;&lt;span&gt;drwxr-xr-x 6 root root 120 Mar  3 15:52 ..
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Apr 28 16:39 nvme-eui.01000000010000005cd2e431fee65251 -&amp;gt; ..&#x2F;..&#x2F;nvme2n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Mar  3 15:52 nvme-eui.334843304aa010020025385800000004 -&amp;gt; ..&#x2F;..&#x2F;nvme1n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Apr 28 17:36 nvme-eui.334843304ab005400025385800000004 -&amp;gt; ..&#x2F;..&#x2F;nvme0n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Apr 28 16:39 nvme-INTEL_SSDPE2KX020T8_BTLJ039307142P0BGN -&amp;gt; ..&#x2F;..&#x2F;nvme2n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Mar  3 15:52 nvme-SAMSUNG_MZWLL800HEHP-00003_S3HCNX0JA01002 -&amp;gt; ..&#x2F;..&#x2F;nvme1n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root  13 Apr 28 17:36 nvme-SAMSUNG_MZWLL800HEHP-00003_S3HCNX0JB00540 -&amp;gt; ..&#x2F;..&#x2F;nvme0n1
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root   9 Mar  3 15:52 scsi-35000c500474cd7eb -&amp;gt; ..&#x2F;..&#x2F;sda
&lt;&#x2F;span&gt;&lt;span&gt;lrwxrwxrwx 1 root root   9 Mar  3 15:52 wwn-0x5000c500474cd7eb -&amp;gt; ..&#x2F;..&#x2F;sda
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;nvme开头的是nvme硬盘，ata开头是走sata或者ata通道的设备。，scsi是scsi设备-阵列卡raid或者是直通卡上的硬盘。
我们可以通过&lt;code&gt;qm set &amp;lt;vmid&amp;gt; --scsiX &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;xxxxxxx&lt;&#x2F;code&gt; 进行RDM直通&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;#   虚拟机编号 控制器类型编号 物理磁盘挂载点
&lt;&#x2F;span&gt;&lt;span&gt;qm set 101 --scsi1 &#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;nvme-INTEL_SSDPE2KX020T8_BTLJ039307142P0BGN
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;jiang-jing-xiang-xie-cheng-ci-pan-ge-shi&quot;&gt;将镜像写成磁盘格式&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;#                    虚拟机编号           存放镜像的位置                                      储存池
&lt;&#x2F;span&gt;&lt;span&gt;qm disk import 100 &#x2F;var&#x2F;lib&#x2F;vz&#x2F;template&#x2F;iso&#x2F;openwrt.img local-lvm
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;参考连接
https:&#x2F;&#x2F;pve.proxmox.com&#x2F;wiki&#x2F;PCI_Passthrough#Verify_IOMMU_is_enabled
https:&#x2F;&#x2F;www.bilibili.com&#x2F;opus&#x2F;848481909029732376?spm_id_from=333.976.0.0
https:&#x2F;&#x2F;www.bilibili.com&#x2F;read&#x2F;cv34418465&#x2F;
https:&#x2F;&#x2F;pve.sqlsec.com&#x2F;7&#x2F;4&#x2F;#_2&lt;&#x2F;p&gt;
&lt;h2 id=&quot;pei-zhi-sheng-dian&quot;&gt;配置省电&lt;&#x2F;h2&gt;
&lt;p&gt;安装&lt;code&gt;cpupower&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;apt install cpupower
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 设置所有CPU为节能模式
&lt;&#x2F;span&gt;&lt;span&gt;cpupower -c all frequency-set -g powersave
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# 设置所有CPU为性能模式
&lt;&#x2F;span&gt;&lt;span&gt;cpupower -c all frequency-set -g performance
&lt;&#x2F;span&gt;&lt;span&gt;编辑 root 用户的 crontab:
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;命令重启后设置的会失效，下面持久化这个命令，让其开机自动执行&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; crontab&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -e
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;添加以下内容以在启动时运行命令:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;@reboot &#x2F;usr&#x2F;bin&#x2F;cpupower -c all frequency-set -g powersave
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第五回，渐觉Arch无力持，转投NixOS获新生</title>
        <published>2024-05-11T00:00:00+00:00</published>
        <updated>2024-05-11T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/5/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/5/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/5/">&lt;h1 id=&quot;di-wu-hui-jian-jue-archwu-li-chi-zhuan-tou-nixoshuo-xin-sheng&quot;&gt;第五回，渐觉Arch无力持，转投NixOS获新生&lt;&#x2F;h1&gt;
&lt;p&gt;2024-05-11
&lt;img src=&quot;https:&#x2F;&#x2F;images.unsplash.com&#x2F;photo-1708115106914-65655e8414da&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1wei-shen-me-wu-li-chi-arch&quot;&gt;1为什么无力持Arch&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;ruan-jian-shi-zui-xin-de&quot;&gt;软件是最新的&lt;&#x2F;h2&gt;
&lt;p&gt;由于滚动更新，所有的软件都是处于最新的状态，这看起来没什么问题。但是，对于我来说，我使用的软件，除非有重大更新，否则我不喜欢进行更新，这样让软件停在一个稳定的版本，且功能正常。并且，有时候进行更新会导致软件的不稳定已经一些新的潜在问题。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;packagesruan-jian-bao-wen-ti&quot;&gt;packages软件包问题&lt;&#x2F;h2&gt;
&lt;p&gt;之前遇到的问题：&lt;&#x2F;p&gt;
&lt;p&gt;某一个包的pgp密钥过期，导致整个arch都无法更新，需要手动导入，比较麻烦。&lt;&#x2F;p&gt;
&lt;p&gt;之前使用某一个Arch发行版，更新内核的包出现异常，导致btrfs快照功能炸裂，当我回滚的时候，直接系统都进不去了。&lt;&#x2F;p&gt;
&lt;p&gt;通常来说，我使用EndeavourOS这个Arch的发行版，我在安装的时候选择加密我的硬盘。但在之前的某次滚动更新中，似乎引导出了点问题，导致我默认进入EndeavourOS的时候，输入硬盘加密的密码，提示无法找到那个硬盘。我从bios的启动选项进行启动才能避免这个问题。&lt;&#x2F;p&gt;
&lt;p&gt;一但遇到这样的问题，就必须花更多的时间与精力去解决，而且收获很少。这对于我来说是不能接受的。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;aurbao-yu-long-hun-za&quot;&gt;AUR包鱼龙混杂&lt;&#x2F;h2&gt;
&lt;p&gt;AUR包非常多，包括许多过时的与无人维护的。并且这些包只能在Arch Linux上使用。虽然我平时用的AUR包不是过时的，但是我不是很喜欢低质的包，而且也遇见过AUR包用着用着就被标记为过时了。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ge-ren-de-hun-dun&quot;&gt;个人的混沌&lt;&#x2F;h2&gt;
&lt;p&gt;当我从别人那里了解软件，我总是直接安装到我的Arch上。久而久之，我的Arch就像就像一个黑盒一样。我之前在KDE上，要从x11转向wayland的时候，为了解决屏幕共享问题，在寻找攻略的时候，无法辨别哪些是有用的，有些是没用的，于是，一堆奇怪的东西被安装到我的系统上。后面，我想进行测试哪些包是有用的，结果发现根本测试不了，包太多了，加之后面有些包的名字也忘记了。后面就也没有去处理，就放在那边。&lt;&#x2F;p&gt;
&lt;p&gt;后面，我在使用某个软件的时候，由于混沌的环境触发了一个奇怪的bug。我花了大量时间去尝试解决，但是没有用。最后我不得不重装了一个一模一样的新系统，直接在上面测试，却并没有发现之前的bug，有点小丑了🤡。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;wang-luo-wen-ti&quot;&gt;网络问题&lt;&#x2F;h2&gt;
&lt;p&gt;我的Arch的网络有时候会毫无征兆的爆炸，遇见过几十次了。&lt;&#x2F;p&gt;
&lt;p&gt;并且有时候系统更新中，某几个包的下载速度会奇慢无比，导致更新缓慢，甚至无法更新。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;2-archxian-zhuang&quot;&gt;2.Arch现状&lt;&#x2F;h1&gt;
&lt;p&gt;我还是对Arch很有感情的，毕竟，Arch是我第一个接触的，作为我的主力系统的Linux，是我linux的入门系统。我享受之前无忧无虑拿着yay与paru乱勾aur包的快乐时光。我的许多学习都是在Arch上面进行的。我的朋友兼老师，在考量了ubuntu,fedora等一众linux后，推荐给我Arch，并教授了我许多arch的知识与生态。我非常感激他们，也感激Arch。&lt;&#x2F;p&gt;
&lt;p&gt;现在，Arch对我来说就像是一位故人，我把它从电脑上的固态硬盘转移到移动的固态硬盘，想它的时候可以随时登上来看看，NixOS爆炸的时候也可以用它先顶着。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;3-wei-shen-me-xuan-ze-nixos&quot;&gt;3.为什么选择NixOS&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;zi-ji-mei-shi-zhao-shi&quot;&gt;自己没事找事&lt;&#x2F;h2&gt;
&lt;p&gt;NixOS是有高门槛的。投入的时间与精力更多，值不值得，投入与收获什么的，对于我来说，都是自己骗自己的借口，但自己已经是斯德哥尔摩晚期了，就是想搞NixOS。又因为gentoo编译时间有点久，总是觉得自己的小小笔记本无法承受。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ke-fu-xian-xing&quot;&gt;可复现性&lt;&#x2F;h2&gt;
&lt;p&gt;安装系统变成了你配不配（文件）的问题，非常酷炫。后面在服务器上将大有作为。&lt;&#x2F;p&gt;
&lt;p&gt;所有系统配置相关的文件都是只读，数据与配置是分开的，不怕下太多东西搞乱环境。而且通过flake可以锁定应用版本，不用担心Arch那种频繁的更新带来的隐患。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;4-mu-qian-wo-de-nixosxian-zhuang&quot;&gt;4.目前我的NixOS现状&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;5&#x2F;1.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;5&#x2F;2.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;目前是配置好了我的NixOS。并将自己的主力系统转到NixOS。&lt;&#x2F;p&gt;
&lt;p&gt;我的配置在我的git 仓库里面。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;antipeth&#x2F;antipethos&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;antipeth&#x2F;antipethos&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;尝试了一些软件的方案，也遇到了NixOS的一些奇怪bug。&lt;&#x2F;p&gt;
&lt;p&gt;在某次我用flake构建我的系统时，flake应该自动生成flake.lock。&lt;&#x2F;p&gt;
&lt;p&gt;但是它生成了两个lock文件，一个叫做flake.lock，另一个叫做flack.lock。&lt;&#x2F;p&gt;
&lt;p&gt;我还遇到了貌似是模块冲突的问题，使得系统无法构建，导致某些应用无法正常安装,但我手动清除所有模块重新构建时，却又恢复正常。&lt;&#x2F;p&gt;
&lt;p&gt;其他内容正在研究中...&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第四回，舍KDE抱Hyprland，新境界追求更添</title>
        <published>2024-03-01T00:00:00+00:00</published>
        <updated>2024-03-01T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/4/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/4/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/4/">&lt;h1 id=&quot;di-si-hui-she-kdebao-hyprland-xin-jing-jie-zhui-qiu-geng-tian&quot;&gt;第四回，舍KDE抱Hyprland，新境界追求更添&lt;&#x2F;h1&gt;
&lt;p&gt;2024-03-01
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;4&#x2F;mydesktop.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;我目前的桌面效果。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;0-wei-shen-me-bu-yong-kde&quot;&gt;0.为什么不用KDE&lt;&#x2F;h1&gt;
&lt;p&gt;1.没有理由的不喜欢&lt;code&gt;KDE&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;2.感觉&lt;code&gt;KDE&lt;&#x2F;code&gt;的很多功能我根本没有用到，有点臃肿。&lt;&#x2F;p&gt;
&lt;p&gt;经过考量，选择&lt;code&gt;Hyprland&lt;&#x2F;code&gt;这个窗口管理器。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-an-zhuang&quot;&gt;1.安装&lt;&#x2F;h1&gt;
&lt;p&gt;先安装一些应用。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;eos-update &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# EndeavourOS的更新命令
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; pacman&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; paru 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; wayland hyprland dunst sddm rofi waybar kitty brave zsh 
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 理论上只要这么多应用就够，有其他需求自行安装
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; yazi ffmpegthumbnailer unarchiver jq poppler fd ripgrep fzf zoxide 
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# yazi 后面的包都是给yazi增强文件支持
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;需要的应用配置都在第三回了，需要的回去看。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;2-pei-zhi&quot;&gt;2.配置&lt;&#x2F;h1&gt;
&lt;p&gt;基本配置，创建~&#x2F; .config&#x2F;hypr&#x2F;hyprland.conf&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;########################################################################################
&lt;&#x2F;span&gt;&lt;span&gt;AUTOGENERATED HYPR CONFIG.
&lt;&#x2F;span&gt;&lt;span&gt;PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO &#x2F;examples&#x2F;hypr.conf AND EDIT IT,
&lt;&#x2F;span&gt;&lt;span&gt;OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
&lt;&#x2F;span&gt;&lt;span&gt;########################################################################################
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;autogenerated = 1 # remove this line to remove the warning
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Monitors&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;monitor=,preferred,auto,auto
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Keywords&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Execute your favorite apps at launch
&lt;&#x2F;span&gt;&lt;span&gt;exec-once = waybar &amp;amp; hyprpaper 
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Source a file (multi-file configs)
&lt;&#x2F;span&gt;&lt;span&gt;# source = ~&#x2F;.config&#x2F;hypr&#x2F;myColors.conf
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Some default env vars.
&lt;&#x2F;span&gt;&lt;span&gt;env = XCURSOR_SIZE,24
&lt;&#x2F;span&gt;&lt;span&gt;env = QT_QPA_PLATFORMTHEME,wayland
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# For all categories, see https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Variables&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;input {
&lt;&#x2F;span&gt;&lt;span&gt;    kb_layout = us
&lt;&#x2F;span&gt;&lt;span&gt;    kb_variant =
&lt;&#x2F;span&gt;&lt;span&gt;    kb_model =
&lt;&#x2F;span&gt;&lt;span&gt;    kb_options =
&lt;&#x2F;span&gt;&lt;span&gt;    kb_rules =
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    follow_mouse = 1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    touchpad {
&lt;&#x2F;span&gt;&lt;span&gt;        natural_scroll = no
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;general {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Variables&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    gaps_in = 5
&lt;&#x2F;span&gt;&lt;span&gt;    gaps_out = 20
&lt;&#x2F;span&gt;&lt;span&gt;    border_size = 2
&lt;&#x2F;span&gt;&lt;span&gt;    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
&lt;&#x2F;span&gt;&lt;span&gt;    col.inactive_border = rgba(595959aa)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    layout = dwindle
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    # Please see https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Tearing&#x2F; before you turn this on
&lt;&#x2F;span&gt;&lt;span&gt;    allow_tearing = false
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;decoration {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Variables&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    active_opacity = 1
&lt;&#x2F;span&gt;&lt;span&gt;    inactive_opacity = 0.9
&lt;&#x2F;span&gt;&lt;span&gt;    fullscreen_opacity = 1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    rounding = 10
&lt;&#x2F;span&gt;&lt;span&gt;    # blur = false
&lt;&#x2F;span&gt;&lt;span&gt;    drop_shadow = false
&lt;&#x2F;span&gt;&lt;span&gt;    # blur_size = 7
&lt;&#x2F;span&gt;&lt;span&gt;    # blur_passes = 2
&lt;&#x2F;span&gt;&lt;span&gt;    # blur_new_optimizations = on
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;animations {
&lt;&#x2F;span&gt;&lt;span&gt;    enabled = yes
&lt;&#x2F;span&gt;&lt;span&gt;    # Some default animations, see https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Animations&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    bezier = md3_decel, 0.05, 0.7, 0.1, 1
&lt;&#x2F;span&gt;&lt;span&gt;    animation = windowsIn, 1, 6, md3_decel, slide
&lt;&#x2F;span&gt;&lt;span&gt;    animation = windowsOut, 1,6, md3_decel, slide
&lt;&#x2F;span&gt;&lt;span&gt;    animation = windowsMove, 1,6, md3_decel, slide
&lt;&#x2F;span&gt;&lt;span&gt;    animation = fade, 1, 10, md3_decel
&lt;&#x2F;span&gt;&lt;span&gt;    animation = workspaces, 1, 7, md3_decel,slide
&lt;&#x2F;span&gt;&lt;span&gt;    animation = specialWorkspace, 1, 8, md3_decel, slide
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;dwindle {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Dwindle-Layout&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
&lt;&#x2F;span&gt;&lt;span&gt;    preserve_split = yes # you probably want this
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;master {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Master-Layout&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;    new_is_master = true
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;gestures {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Variables&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;    workspace_swipe = off
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;misc {
&lt;&#x2F;span&gt;&lt;span&gt;    # See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Variables&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;    vfr = true
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Example per-device config
&lt;&#x2F;span&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Keywords&#x2F;#executing for more
&lt;&#x2F;span&gt;&lt;span&gt;device:epic-mouse-v1 {
&lt;&#x2F;span&gt;&lt;span&gt;    sensitivity = -0.5
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Example windowrule v1
&lt;&#x2F;span&gt;&lt;span&gt;# windowrule = float, ^(kitty)$
&lt;&#x2F;span&gt;&lt;span&gt;# Example windowrule v2
&lt;&#x2F;span&gt;&lt;span&gt;# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
&lt;&#x2F;span&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Window-Rules&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;windowrulev2 = nomaximizerequest, class:.* # You&amp;#39;ll probably like this.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Keywords&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;# Set programs that you use
&lt;&#x2F;span&gt;&lt;span&gt;$terminal = kitty
&lt;&#x2F;span&gt;&lt;span&gt;$fileManager = yazi
&lt;&#x2F;span&gt;&lt;span&gt;$menu = rofi --show drun
&lt;&#x2F;span&gt;&lt;span&gt;$browser = brave
&lt;&#x2F;span&gt;&lt;span&gt;$mainMod = SUPER
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Example binds, see https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Binds&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, Q, exec, $terminal
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, C, killactive, 
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, M, exit, 
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, W, exec, $browser
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, E, exec, $fileManager
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, V, togglefloating, 
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, R, exec, $menu
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, P, pseudo, # dwindle
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, J, togglesplit, # dwindle
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86MonBrightnessUp, exec, changebrightness up
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86MonBrightnessDown, exec, changebrightness down
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioPrev, exec, playerctl prev
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioNext, exec, playerctl next
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioPlay, exec, playerctl play-pause
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioRaiseVolume, exec, changevolume up
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioLowerVolume, exec, changevolume down
&lt;&#x2F;span&gt;&lt;span&gt;bind = , XF86AudioMute, exec, changevolume mute
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Move focus with mainMod + arrow keys
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, h, movefocus, l
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, l, movefocus, r
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, k, movefocus, u
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, j, movefocus, d
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Switch workspaces with mainMod + [0-9]
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 1, workspace, 1
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 2, workspace, 2
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 3, workspace, 3
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 4, workspace, 4
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 5, workspace, 5
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 6, workspace, 6
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 7, workspace, 7
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 8, workspace, 8
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 9, workspace, 9
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, 0, workspace, 10
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Switch between most recent workspace
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, TAB, workspace, previous
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Move active window to a workspace with mainMod + SHIFT + [0-9]
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 1, movetoworkspace, 1
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 2, movetoworkspace, 2
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 3, movetoworkspace, 3
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 4, movetoworkspace, 4
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 5, movetoworkspace, 5
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 6, movetoworkspace, 6
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 7, movetoworkspace, 7
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 8, movetoworkspace, 8
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 9, movetoworkspace, 9
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod SHIFT, 0, movetoworkspace, 10
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Scroll through existing workspaces with mainMod + scroll
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, mouse_down, workspace, e+1
&lt;&#x2F;span&gt;&lt;span&gt;bind = $mainMod, mouse_up, workspace, e-1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Move&#x2F;resize windows with mainMod + LMB&#x2F;RMB and dragging
&lt;&#x2F;span&gt;&lt;span&gt;bindm = $mainMod, mouse:272, movewindow
&lt;&#x2F;span&gt;&lt;span&gt;bindm = $mainMod, mouse:273, resizewindow
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;重启后，在登录界面sddm中的会话，选hyprland而不是plasma。&lt;&#x2F;p&gt;
&lt;p&gt;按&lt;code&gt;WIN&lt;&#x2F;code&gt;+&lt;code&gt;ENTER&lt;&#x2F;code&gt;键，开启&lt;code&gt;kitty&lt;&#x2F;code&gt;终端。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;xie-zai-kdezhuo-mian-huan-jing-ke-xuan&quot;&gt;卸载KDE桌面环境(可选)&lt;&#x2F;h2&gt;
&lt;p&gt;如果想卸载KDE，可以执行以下命令。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Rns&lt;&#x2F;span&gt;&lt;span&gt; plasma
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Rns&lt;&#x2F;span&gt;&lt;span&gt; eos-plasma-sddm-config eos-sddm-theme 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;3-gua-pei-ping-mu&quot;&gt;3.适配屏幕&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hyprctl&lt;&#x2F;span&gt;&lt;span&gt; monitors all
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;列出可用屏幕。&lt;&#x2F;p&gt;
&lt;p&gt;我的输出示例。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hyprctl&lt;&#x2F;span&gt;&lt;span&gt; monitors all        
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;Monitor&lt;&#x2F;span&gt;&lt;span&gt; eDP-2 (ID 0)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;2560x1440@165.00000&lt;&#x2F;span&gt;&lt;span&gt; at 0x0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;description:&lt;&#x2F;span&gt;&lt;span&gt; (null) (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;null&lt;&#x2F;span&gt;&lt;span&gt;) (eDP-2)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;make: 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;model: 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;serial: 
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;active&lt;&#x2F;span&gt;&lt;span&gt; workspace: 2 (2)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;special&lt;&#x2F;span&gt;&lt;span&gt; workspace: 0 ()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;reserved:&lt;&#x2F;span&gt;&lt;span&gt; 0 35 0 0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;scale:&lt;&#x2F;span&gt;&lt;span&gt; 1.00
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;transform:&lt;&#x2F;span&gt;&lt;span&gt; 0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;focused:&lt;&#x2F;span&gt;&lt;span&gt; yes
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;dpmsStatus:&lt;&#x2F;span&gt;&lt;span&gt; 1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;vrr:&lt;&#x2F;span&gt;&lt;span&gt; 0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;activelyTearing:&lt;&#x2F;span&gt;&lt;span&gt; false
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;~&#x2F;.config&#x2F;hypr&#x2F;hyprland.conf&lt;&#x2F;code&gt;下添加下面配置：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Configuring&#x2F;Monitors&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;monitor=eDP-2,2560x1440@165,0x0
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;4-nvidiazhi-chi&quot;&gt;4.NVIDIA支持&lt;&#x2F;h1&gt;
&lt;p&gt;在&lt;code&gt;~&#x2F;.config&#x2F;hypr&#x2F;hyprland.conf&lt;&#x2F;code&gt;下添加下面配置：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Nvidia&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;env = LIBVA_DRIVER_NAME,nvidia
&lt;&#x2F;span&gt;&lt;span&gt;env = XDG_SESSION_TYPE,wayland
&lt;&#x2F;span&gt;&lt;span&gt;env = GBM_BACKEND,nvidia-drm
&lt;&#x2F;span&gt;&lt;span&gt;env = __GLX_VENDOR_LIBRARY_NAME,nvidia
&lt;&#x2F;span&gt;&lt;span&gt;env = WLR_NO_HARDWARE_CURSORS,1
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;5-ping-mu-gong-xiang-zhi-chi&quot;&gt;5.屏幕共享支持&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; xdg-desktop-portal-hyprland pipewire wireplumber
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;安装完成后，在&lt;code&gt;~&#x2F;.config&#x2F;hypr&#x2F;hyprland.conf&lt;&#x2F;code&gt;下添加下面配置：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Useful-Utilities&#x2F;Screen-Sharing&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;6-she-zhi-bi-zhi&quot;&gt;6.设置壁纸&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; hyprpaper
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;我使用&lt;code&gt;hyprpaper&lt;&#x2F;code&gt;工具来设置壁纸。&lt;&#x2F;p&gt;
&lt;p&gt;安装完成后，创建&lt;code&gt;~&#x2F;.config&#x2F;hypr&#x2F;hyprpaper.conf&lt;&#x2F;code&gt;添加下面配置：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;# See https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;Useful-Utilities&#x2F;Wallpapers&#x2F; for more
&lt;&#x2F;span&gt;&lt;span&gt;preload = ~&#x2F;.config&#x2F;hypr&#x2F;wallpaper.jpg
&lt;&#x2F;span&gt;&lt;span&gt;wallpaper = eDP-2,~&#x2F;.config&#x2F;hypr&#x2F;wallpaper.jpg 
&lt;&#x2F;span&gt;&lt;span&gt;# eDP-2改为你显示器的参数，在配置显示器适配有提
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# enable splash text rendering over the wallpaper
&lt;&#x2F;span&gt;&lt;span&gt;splash = true
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# fully disable ipc
&lt;&#x2F;span&gt;&lt;span&gt;ipc = off 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;preload&lt;&#x2F;code&gt;改成图片路径，&lt;code&gt;wallpaper&lt;&#x2F;code&gt;改成显示器,图片路径。（我的显示器是eDP-2,我的图片路径是~&#x2F;.config&#x2F;hypr&#x2F;wallpaper.jpg）&lt;&#x2F;p&gt;
&lt;h1 id=&quot;7-jie-tu&quot;&gt;7.截图&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; hyprshot
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后在&lt;code&gt;hyprland.conf&lt;&#x2F;code&gt;添加快捷键。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;bind = $mainMod SHIFT, s, exec, hyprshot -m region
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;8-jian-tie-ban&quot;&gt;8.剪贴板&lt;&#x2F;h1&gt;
&lt;p&gt;使用copyQ。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; copyQ
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后在&lt;code&gt;hyprland.conf&lt;&#x2F;code&gt;添加开机启动。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;hyprland.conf&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-hyprland.conf &quot;&gt;&lt;code class=&quot;language-hyprland.conf&quot; data-lang=&quot;hyprland.conf&quot;&gt;&lt;span&gt;exec-once = waybar &amp;amp; fcitx5 &amp;amp; hyprpaper &amp;amp; copyq --start-server
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;9-qi-ta&quot;&gt;9.其他&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;&quot;&gt;https:&#x2F;&#x2F;wiki.hyprland.org&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;需要更多配置请参考官方文档&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>cloudfront配置小鸡cdn并使用acme.sh自动获取证书</title>
        <published>2024-02-26T00:00:00+00:00</published>
        <updated>2024-02-26T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/cloudfront-cdn-acme/"/>
        <id>https://blog.0pt.icu/posts/server/cloudfront-cdn-acme/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/cloudfront-cdn-acme/">&lt;h1 id=&quot;cloudfrontpei-zhi-xiao-ji-cdnbing-shi-yong-acme-shzi-dong-huo-qu-zheng-shu&quot;&gt;cloudfront配置小鸡cdn并使用acme.sh自动获取证书&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-26&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-cloudfrontpei-zhi&quot;&gt;1.CloudFront配置&lt;&#x2F;h1&gt;
&lt;p&gt;先创建一个&lt;code&gt;分配&lt;&#x2F;code&gt; 。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;1.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;源域输入服务器的ip加上&lt;code&gt;.nip.io&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;为什么是&lt;code&gt;.nip.io&lt;&#x2F;code&gt;请查看这个官网。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;nip.io&#x2F;&quot;&gt;https:&#x2F;&#x2F;nip.io&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如我的服务器ip是&lt;code&gt;1.234.34.64&lt;&#x2F;code&gt;，那么，我的源域是&lt;code&gt;1.234.34.64.nip.io&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;其他根据自己的需求配置，如果&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;2.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;源请求策略可以设置成AllViewer，可以避免502错误。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;3.png&quot; alt=&quot;&quot; &#x2F;&gt;这个SSL证书必须要选，点击&lt;code&gt;请求证书&lt;&#x2F;code&gt;可以申请一个免费证书。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;4.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选择&lt;code&gt;请求公有证书&lt;&#x2F;code&gt;，点击&lt;code&gt;下一步&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;5.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击&lt;code&gt;为此证书添加另一个名称&lt;&#x2F;code&gt;，添加你的域名与这个域名的泛域名。&lt;&#x2F;p&gt;
&lt;p&gt;图中所例，域名是&lt;code&gt;abc.com&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;泛域名是&lt;code&gt;*.abc.com&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;验证方式选择&lt;code&gt;DNS验证&lt;&#x2F;code&gt;。密钥算法一般来说随意。点击&lt;code&gt;请求&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;6.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点进去。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;7.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;添加CNAME到你的域名的DNS记录中。&lt;&#x2F;p&gt;
&lt;p&gt;等一会，&lt;code&gt;等待验证&lt;&#x2F;code&gt;变为&lt;code&gt;已颁发&lt;&#x2F;code&gt;后，CloudFront这边的证书即可申请完成。&lt;&#x2F;p&gt;
&lt;p&gt;转到刚才创建&lt;code&gt;分配&lt;&#x2F;code&gt;，选择刚才申请的SSL证书，点击创建。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;8.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;记住这个&lt;code&gt;分配域名&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;这时候点击编辑。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;9.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;图例的证书就当作选了。&lt;&#x2F;p&gt;
&lt;p&gt;点击添加项目，将你需要DNS的子域名写上去。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;10.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击保存更改。&lt;&#x2F;p&gt;
&lt;p&gt;然后，需要在你的域名的dns处，添加CNAME记录。&lt;&#x2F;p&gt;
&lt;p&gt;name是你的解析出来的域名，如图例就是test和ok，&lt;&#x2F;p&gt;
&lt;p&gt;value是，刚才记住的分配域名。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;2-acme-shpei-zhi&quot;&gt;2.acme.sh配置&lt;&#x2F;h1&gt;
&lt;p&gt;来到服务器处，需要给服务器这边也申请一个证书（不能使用自签名证书）。&lt;&#x2F;p&gt;
&lt;p&gt;默认Nginx已经配置完成。&lt;&#x2F;p&gt;
&lt;p&gt;我使用docker部署nginx。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;curl&lt;&#x2F;span&gt;&lt;span&gt; https:&#x2F;&#x2F;get.acme.sh &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -s&lt;&#x2F;span&gt;&lt;span&gt; email=youremail@example.com
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# youremail@example.com请替换为你自己的邮箱
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; .bashrc
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;acme.sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --set-default-ca --server&lt;&#x2F;span&gt;&lt;span&gt; letsencrypt
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;dnsapi&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;dnsapi&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;dnsapi&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;dnsapi2&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;请再这俩个链接中找到i自己使用dns的提供商，并按照给出的步骤申请。&lt;&#x2F;p&gt;
&lt;p&gt;我使用Cloudflare，根据链接里面给出的方法。&lt;&#x2F;p&gt;
&lt;p&gt;您可以从 Cloudflare 个人资料页面的 API 令牌部分下获取您的全球 API 密钥。单击全局 API 密钥旁边的“查看”，验证您的 Cloudflare 密码，它将显示给您。它是一个 32 个字符的十六进制字符串，必须通过将环境变量 您可以从 Cloudflare 个人资料页面的 API 令牌部分下获取您的全球 API 密钥。单击全局 API 密钥旁边的“查看”，验证您的 Cloudflare 密码，它将显示给您。它是一个 32 个字符的十六进制字符串，必须通过将环境变量 &lt;code&gt;CF_Key&lt;&#x2F;code&gt; 设置为其值来提供给 acme.sh。您还必须将  设置为其值来提供给 acme.sh。您还必须将  设置为其值来提供给 acme.sh。您还必须将 &lt;code&gt;CF_Email&lt;&#x2F;code&gt; 设置为与您的 Cloudflare 帐户关联的电子邮件地址;这是您在登录 Cloudflare 时输入的电子邮件地址。 设置为与您的 Cloudflare 帐户关联的电子邮件地址;这是您在登录 Cloudflare 时输入的电子邮件地址。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;CF_Key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;763eac4f1bcebd8b5c95e9fc50d010b4&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;CF_Email&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;youremail@example.com&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 域名替换成自己的域名，这是申请域名极其泛域名的证书
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;acme.sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --issue --dns&lt;&#x2F;span&gt;&lt;span&gt; dns_cf&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -d&lt;&#x2F;span&gt;&lt;span&gt; example.com&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -d &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;*.example.com&amp;#39;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;等待证书申请完成。&lt;&#x2F;p&gt;
&lt;p&gt;之后，安装证书到指定路径。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;acme.sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --installcert -d&lt;&#x2F;span&gt;&lt;span&gt; example.com &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;--key-file&lt;&#x2F;span&gt;&lt;span&gt;   &#x2F;your&#x2F;path&#x2F;example.com.key &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;--fullchain-file&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;your&#x2F;path&#x2F;example.com.cer
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;请把&#x2F;your&#x2F;path&#x2F;换成你指定的路径下面。&lt;&#x2F;p&gt;
&lt;p&gt;这里我是将它放在nginx的映射目录下面，这样，证书文件可以映射进容器，供nginx使用。&lt;&#x2F;p&gt;
&lt;p&gt;在nginx配置的server块添加选择证书的相关配置。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;ssl_certificate &#x2F;your&#x2F;docker&#x2F;path&#x2F;0pt.icu.cer;
&lt;&#x2F;span&gt;&lt;span&gt;ssl_certificate_key &#x2F;your&#x2F;docker&#x2F;path&#x2F;0pt.icu.key;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里把&#x2F;your&#x2F;docker&#x2F;path&#x2F;替换成证书文件实际在docker里面的路径，注意跟上面那个宿主机的路径有差别。&lt;&#x2F;p&gt;
&lt;p&gt;然后重载nginx。我的nginx容器名叫nginx&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;docker exec nginx nginx -s reload
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;3-nginxcong-cloudfrontshang-huo-qu-ke-hu-duan-zhen-shi-ipdi-zhi&quot;&gt;3.nginx从CloudFront上获取客户端真实IP地址&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;11.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击策略。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;12.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击源请求。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;13.png&quot; alt=&quot;&quot; &#x2F;&gt;点击创建源请求策略。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;14.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;名称与描述随意。其他如图配置。&lt;&#x2F;p&gt;
&lt;p&gt;若有需求，Add header可以再添加，但是一定要选图示的这个CloudFront-Viewer-Address。&lt;&#x2F;p&gt;
&lt;p&gt;然后点击创建。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;15.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;返回分配的这个页面，点击行为。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;16.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选中第一个，然后点击编辑。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;17.png&quot; alt=&quot;&quot; &#x2F;&gt;、&lt;&#x2F;p&gt;
&lt;p&gt;找到这个地方，将源请求策略换成刚才创建的那个。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;cloudfront-cdn-acme&#x2F;18.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;保存更改。&lt;&#x2F;p&gt;
&lt;p&gt;转到服务器上。&lt;&#x2F;p&gt;
&lt;p&gt;在nginx配置的server块添加标头的相关配置。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header CloudFront-Viewer-Address;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;如果使用其他CDN，想显示真实ip，可以参考下面。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;cloudflare&quot;&gt;Cloudflare&lt;&#x2F;h2&gt;
&lt;p&gt;使用Cloudflare后，在Nginx配置中相应位置添加如下代码以获取用户真实IP&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header CF-Connecting-IP;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;gcore-cdn&quot;&gt;Gcore CDN&lt;&#x2F;h2&gt;
&lt;p&gt;可参考Gcore官方博文&lt;a href=&quot;https:&#x2F;&#x2F;lot.pm&#x2F;go&#x2F;?url=https:&#x2F;&#x2F;gcore.com&#x2F;docs&#x2F;web-security&#x2F;get-an-actual-ip-addresses-of-visitors-from-the-x-forward-for-header&quot;&gt;https:&#x2F;&#x2F;gcore.com&#x2F;docs&#x2F;web-security&#x2F;get-an-actual-ip-addresses-of-visitors-from-the-x-forward-for-header&lt;&#x2F;a&gt;X-Real-Ip请求头似乎已经被Vercel弃用，或仅提供给付费用户。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header X-Forwarded-For;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;aws-cloudfront&quot;&gt;AWS Cloudfront&lt;&#x2F;h2&gt;
&lt;p&gt;需要利用到CloudFront-Viewer-Address请求头，但该请求头默认未启用，需手动前往Cloudfront控制面板开启。开启方法可参考&lt;a href=&quot;https:&#x2F;&#x2F;lot.pm&#x2F;go&#x2F;?url=https:&#x2F;&#x2F;blog.bitipcman.com&#x2F;get-client-ip-from-cloudfront-viewer-header&#x2F;&quot;&gt;如何从CloudFront上获取客户端真实IP地址&lt;&#x2F;a&gt;。开启后，使用以下代码获取访客真实IP。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header CloudFront-Viewer-Address;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;netlify&quot;&gt;Netlify&lt;&#x2F;h2&gt;
&lt;p&gt;Netlify不支持X-Forwarded-For请求头，获取访客真实IP需使用专属请求头X-Nf-Client-Connection-Ip。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header X-Nf-Client-Connection-Ip;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;vercel&quot;&gt;Vercel&lt;&#x2F;h2&gt;
&lt;p&gt;Vercel支持多个请求头转发用户IP，分别是X-Forwarded-For，X-Vercel-Forwarded-For和X-Real-Ip，其中X-Forwarded-For和X-Real-Ip内容相同，X-Vercel-Forwarded-For大部分情况下内容和X-Forwarded-For以及X-Real-Ip相同。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;区别在于X-Forwarded-For和X-Real-Ip的值可以被覆盖，而X-Vercel-Forwarded-For不能。&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;假设Vercel的CDN节点是A，那么访客B（IP:1.2.3.4）请求A节点，一般情况下X-Forwarded-For，X-Vercel-Forwarded-For和X-Real-Ip的结果就都是1.2.3.4，但是假如访客B向Vercel CDN节点发送了一个值为8.8.8.8的X-Forwarded-For请求头，那么X-Forwarded-For和X-Real-Ip的值将会被改为8.8.8.8，而X-Vercel-Forwarded-For则仍然是1.2.3.4。这也就是说X-Forwarded-For和X-Real-Ip有一定几率被伪造，所以除非你在Vercel前还用了另一个CDN&#x2F;代理服务器，否则一般情况下用X-Vercel-Forwarded-For获取访客真实IP更保险。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bunny-cdn&quot;&gt;Bunny CDN&lt;&#x2F;h2&gt;
&lt;p&gt;使用Bunny CDN获取访客真实IP，需要先在CDN面板关闭IP匿名化，关闭后使用以下代码获取访客真实IP。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header X-Forwarded-For;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;a-li-yun-cdn&quot;&gt;阿里云CDN&lt;&#x2F;h2&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;set_real_ip_from 0.0.0.0&#x2F;0;
&lt;&#x2F;span&gt;&lt;span&gt;real_ip_header Ali-CDN-Real-IP;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;qi-ta-cdn&quot;&gt;其他CDN&lt;&#x2F;h2&gt;
&lt;p&gt;除CDN厂商有特殊说明外，一般情况下使用X-Forwarded-For请求头获取访客IP。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;from&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;   &lt;a href=&quot;https:&#x2F;&#x2F;lot.pm&#x2F;nginx-and-cdn-real-ip-address.html&quot;&gt;&lt;em&gt;&lt;strong&gt;https:&#x2F;&#x2F;lot.pm&#x2F;nginx-and-cdn-real-ip-address.html&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;acme.sh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --installcert -d&lt;&#x2F;span&gt;&lt;span&gt; 0pt.icu &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;--key-file&lt;&#x2F;span&gt;&lt;span&gt;   &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;nginx&#x2F;_data&#x2F;nginx&#x2F;cert&#x2F;0pt.icu.key &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;--fullchain-file&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;nginx&#x2F;_data&#x2F;nginx&#x2F;cert&#x2F;0pt.icu.cer
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>祝你春节不快乐</title>
        <published>2024-02-26T00:00:00+00:00</published>
        <updated>2024-02-26T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/think/unhappy-newyear/"/>
        <id>https://blog.0pt.icu/posts/think/unhappy-newyear/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/think/unhappy-newyear/">&lt;h1 id=&quot;zhu-ni-chun-jie-bu-kuai-le&quot;&gt;祝你春节不快乐&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-26&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;images.unsplash.com&#x2F;photo-1502325966718-85a90488dc29&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;今年可能是想家了，又或者是不用复习备考了，没有学业上的压力。虽说在做自己事情的效率不高，但非常轻松快活。相当于是回家悟道，休闲挂机。总体来说是很高兴的。&lt;&#x2F;p&gt;
&lt;p&gt;除夕夜，会收到一些平时没有联系的朋友发来除夕快乐的消息，大概率是群发消息，也好。我也会回敬一句 除夕快乐。&lt;&#x2F;p&gt;
&lt;p&gt;正月初几那几天，收到最多的是新年快乐。出去访亲戚，见面就得说几句 新年快乐。各种大大小小的群里，也是在赛博新年快乐。&lt;&#x2F;p&gt;
&lt;p&gt;平时我在社交媒体上都是非必要不说话，往年同学群里还会边潜水边抢抢别人发的红包。今年都不想参与了，直接一潜到底。&lt;&#x2F;p&gt;
&lt;p&gt;跨年的烟花噼里啪啦响个不停。起身散步，去外面，天上挂着绚丽的烟花，山脊都是黑漆漆的铁兽，我踩到一颗石子，马上把它踢地远远的。&lt;&#x2F;p&gt;
&lt;p&gt;当伤人的年兽被烟花爆竹吓走的时候，它会怎么想春节呢?它是不是觉得春节从此一点也不快乐了。从前可能是有年兽的，现在已经看不到了，再也，再也看不到了。&lt;&#x2F;p&gt;
&lt;p&gt;小时候怕黑，怕怪兽。夜晚小路上，正是滋养恐惧的最好温床。它们会不会也被烟花爆竹吓跑?路有点阴森，现在的我还是敢走的。我要高高地走，去把那些烟花摘下来，送给年兽与怪物们。我要教会它们春节的热闹与繁华与自媒体工具的使用，弥补上它们对于春节不快乐的遗憾。&lt;&#x2F;p&gt;
&lt;p&gt;同时，我想要郑重地祝愿你，春节不快乐!&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>ABOUT1</title>
        <published>2024-02-23T00:00:00+00:00</published>
        <updated>2024-02-23T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/about/about1/"/>
        <id>https://blog.0pt.icu/about/about1/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/about/about1/">&lt;h1 id=&quot;about1&quot;&gt;ABOUT1&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-23
&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;4&#x2F;mydesktop.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;This is my arch linux.&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;5&#x2F;1.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;This is my NixOS&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;about-me&quot;&gt;About Me&lt;&#x2F;h1&gt;
&lt;p&gt;Hey there, I&#x27;m a computer science student. I dig rock music, Linux, and all things intriguing.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;my-philosophy&quot;&gt;My Philosophy&lt;&#x2F;h1&gt;
&lt;p&gt;Go with the flow and do what I love. Typically, I&#x27;m into efficient stuff; they keep everything running smoothly. However, sometimes I enjoy things that don&#x27;t appear efficient at all. It&#x27;s a whole different vibe, my quirky way of life.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;foundations&quot;&gt;Foundations&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt;Arch Linux&lt;&#x2F;code&gt; is my go-to system on my personal computer, and I absolutely love it. It performs like a champ. Just a heads up, I roll with &lt;code&gt;EndeavourOS&lt;&#x2F;code&gt; for more convenient NVIDIA GPU support.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Hyprland&lt;&#x2F;code&gt; is my window manager. I used &lt;code&gt;KDE&lt;&#x2F;code&gt; before, also a top-notch desktop environment with loads of ecosystem support, but I prefer &lt;code&gt;Hyprland&lt;&#x2F;code&gt; for its simplicity and customization.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Waybar&lt;&#x2F;code&gt; sits atop my screen, keeping me informed.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Zsh&lt;&#x2F;code&gt; is my shell, paired with plugins for an enhanced experience.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Kitty&lt;&#x2F;code&gt; is my terminal. Chose it for better image support. Also, I might throw Alacritty on my machine too.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Paru&lt;&#x2F;code&gt; is my AUR helper, written in Rust, and it rocks.&lt;&#x2F;p&gt;
&lt;h1 id=&quot;my-apps&quot;&gt;My Apps&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;code&gt;Yazi&lt;&#x2F;code&gt; is my terminal file manager, crafted in Rust.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Rofi&lt;&#x2F;code&gt; is my app launcher.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Brave&lt;&#x2F;code&gt; is my browser, while Firefox is my backup browser.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Neovim&lt;&#x2F;code&gt; is my text editor. Learning it and trying to make it my go-to for everything.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;Code-OSS&lt;&#x2F;code&gt; assists me with larger projects. Opted for it over VSCodium for no reason other than I just prefer it.&lt;&#x2F;p&gt;
&lt;p&gt;BetterBird is my email client, an enhanced version of Thunderbird.&lt;&#x2F;p&gt;
&lt;p&gt;Anytype is my note-taking and planning software. It uses blockchain technology for surprisingly fast sync speeds and is feature-packed. Anytype for everything.&lt;&#x2F;p&gt;
&lt;p&gt;Keepassxc keeps my passwords safe.&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第三回，探幽寻秘APPS新，解CONFIG奇趣入眼前</title>
        <published>2024-02-08T00:00:00+00:00</published>
        <updated>2024-02-08T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/3/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/3/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/3/">&lt;h1 id=&quot;di-san-hui-tan-you-xun-mi-appsxin-jie-configqi-qu-ru-yan-qian&quot;&gt;第三回，探幽寻秘APPS新，解CONFIG奇趣入眼前&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-08&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-an-zhuang-zi-ti&quot;&gt;1.安装字体&lt;&#x2F;h1&gt;
&lt;p&gt;包管理器安装字体&lt;&#x2F;p&gt;
&lt;p&gt;或者解压到~&#x2F;.local&#x2F;share&#x2F;fonts&#x2F;用户目录下&lt;&#x2F;p&gt;
&lt;p&gt;或者解压到&#x2F;usr&#x2F;share&#x2F;fonts&#x2F;系统目录下&lt;&#x2F;p&gt;
&lt;p&gt;相关命令&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-cache&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -fv
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-list &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 列出所有字体，搭配grep找字体
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-list &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;grep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;name&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-list&lt;&#x2F;span&gt;&lt;span&gt; : family &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;grep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;name&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-list&lt;&#x2F;span&gt;&lt;span&gt; : family style &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;grep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;name&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fc-list&lt;&#x2F;span&gt;&lt;span&gt; : file &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;grep &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;name&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudoedit&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;fonts&#x2F;local.conf
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; imagemagick &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 字体图片预览 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;display&lt;&#x2F;span&gt;&lt;span&gt; name.ttf 
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; fontpreview &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 字体预览
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;fontpreview
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;2-an-zhuang-zsh&quot;&gt;2.安装zsh&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;chsh&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -s&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;bin&#x2F;zsh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后重启一下。打开终端即可切换成功。&lt;&#x2F;p&gt;
&lt;p&gt;刚进终端，因为本地没有&lt;code&gt;.zshrc&lt;&#x2F;code&gt;，会要求你选择生成配置&lt;code&gt;.zshrc&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;输0即可。生成最小配置。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;3-an-zhuang-zshde-cha-jian&quot;&gt;3.安装zsh的插件&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;0-wei-shen-me-bu-shi-yong-cha-jian-guan-li-qi&quot;&gt;(0).为什么不使用插件管理器&lt;&#x2F;h2&gt;
&lt;p&gt;1.人们将&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;与&lt;code&gt;zsh&lt;&#x2F;code&gt;混为一谈，认为运行&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;就是在运行&lt;code&gt;zsh&lt;&#x2F;code&gt;，又或是认为使用&lt;code&gt;zsh&lt;&#x2F;code&gt;离不开&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;2.&lt;code&gt;zsh&lt;&#x2F;code&gt;是一个纯粹的&lt;code&gt;shell&lt;&#x2F;code&gt;，不是别的东西的附庸。&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;是一个插件管理器，一个框架。&lt;&#x2F;p&gt;
&lt;p&gt;3.别人可能会为了方便而创建别名。比如将一个提供彩色显示文件名的脚本设置别名为&lt;code&gt;ls&lt;&#x2F;code&gt;，是俩个不同的东西，在某些情况下会造成紊乱。&lt;&#x2F;p&gt;
&lt;p&gt;4.每个&lt;code&gt;zsh插件&lt;&#x2F;code&gt;本质都是&lt;code&gt;.zsh脚本&lt;&#x2F;code&gt;运行在&lt;code&gt;shell&lt;&#x2F;code&gt;当中，使用&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;会误以为插件管理器做了一些额外的东西。&lt;&#x2F;p&gt;
&lt;p&gt;5.zsh设置插件只需要把插件下载下来(git clone)，如何在.zshrc文件中添加&lt;code&gt;source &#x2F;创建的位置&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;6.与&lt;code&gt;vim&lt;&#x2F;code&gt;中插件的区别。&lt;code&gt;zsh插件&lt;&#x2F;code&gt;本质都是&lt;code&gt;.zsh脚本&lt;&#x2F;code&gt;，就简单，根本不需要更新，也就不需要包管理器去实现方便更新的功能。&lt;&#x2F;p&gt;
&lt;p&gt;7.&lt;code&gt;Oh My Zsh&lt;&#x2F;code&gt;的配置逻辑有点复杂，不如直接在&lt;code&gt;zshrc&lt;&#x2F;code&gt;中用&lt;code&gt;shell语法&lt;&#x2F;code&gt;进行配置。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;1-zhu-ti&quot;&gt;(1).主题&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;romkatv&#x2F;powerlevel10k&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;romkatv&#x2F;powerlevel10k&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-theme-powerlevel10k
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;编辑&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 延迟加载插件,一定放在1行
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;autoload&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -U&lt;&#x2F;span&gt;&lt;span&gt; compinit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;compinit
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh-theme-powerlevel10k&#x2F;powerlevel10k.zsh-theme
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;重启终端，进入主题的设置页面。按照提示一步一步设置成自己喜欢看的样子。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;2-gao-liang&quot;&gt;(2).高亮&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-syntax-highlighting
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;编辑&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh&#x2F;plugins&#x2F;zsh-syntax-highlighting&#x2F;zsh-syntax-highlighting.zsh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;重启终端，即可看到高亮效果。&lt;&#x2F;p&gt;
&lt;h2 id=&quot;3-zi-dong-jian-yi&quot;&gt;(3).自动建议&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions&quot;&gt;GitHub - zsh-users&#x2F;zsh-autosuggestions: Fish-like autosuggestions for zsh&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-autosuggestions
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件末尾添加。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh&#x2F;plugins&#x2F;zsh-autosuggestions&#x2F;zsh-autosuggestions.zsh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;4-li-shi-zi-zi-fu-chuan-sou-suo&quot;&gt;(4).历史子字符串搜索&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-history-substring-search&quot;&gt;GitHub - zsh-users&#x2F;zsh-history-substring-search: 🐠 ZSH port of Fish history search (up arrow)&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-history-substring-search
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件末尾添加。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# If you want to use zsh-syntax-highlighting along with this script, then make sure that you load it before you load this script
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh&#x2F;plugins&#x2F;zsh-history-substring-search&#x2F;zsh-history-substring-search.zsh
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;bindkey &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;^[[A&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt; history-substring-search-up
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;bindkey &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;#39;^[[B&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt; history-substring-search-down
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;5-zi-dong-tong-zhi&quot;&gt;(5).自动通知&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;MichaelAquilina&#x2F;zsh-auto-notify&quot;&gt;GitHub - MichaelAquilina&#x2F;zsh-auto-notify: ⏰ ZSH plugin that automatically sends out a notification when a long running task has completed.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; dunst
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Linux X&#x2F;Wayland (Requires notify-send to be installed)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; notify-send-rs-bin
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-auto-notify
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件末尾添加。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh&#x2F;plugins&#x2F;zsh-auto-notify&#x2F;auto-notify.plugin.zsh
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Set threshold to 10seconds
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;AUTO_NOTIFY_THRESHOLD&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;10
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;AUTO_NOTIFY_TITLE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;Hey! %command has just finished&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;AUTO_NOTIFY_BODY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;It completed in %elapsed seconds with exit code %exit_code&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Set notification expiry to 10 seconds(10000ms)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;AUTO_NOTIFY_EXPIRE_TIME&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;10000
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# redefine what is ignored by auto-notify
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffa759;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span&gt;AUTO_NOTIFY_IGNORE&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;man&amp;quot; &amp;quot;sleep&amp;quot; &amp;quot;vim&amp;quot; &amp;quot;nvim&amp;quot; &amp;quot;less&amp;quot; &amp;quot; more&amp;quot; &amp;quot;nano&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;6-ni-ying-gai-yong&quot;&gt;(6).你应该用&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;MichaelAquilina&#x2F;zsh-you-should-use&quot;&gt;GitHub - MichaelAquilina&#x2F;zsh-you-should-use: 📎 ZSH plugin that reminds you to use existing aliases for commands you just typed&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; zsh-you-should-use
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;.zshrc&lt;&#x2F;code&gt; 文件末尾添加。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;.zshrc&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-.zshrc &quot;&gt;&lt;code class=&quot;language-.zshrc&quot; data-lang=&quot;.zshrc&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;source&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;zsh&#x2F;plugins&#x2F;zsh-you-should-use&#x2F;you-should-use.plugin.zsh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;4-an-zhuang-alacrittyzhong-duan&quot;&gt;4.安装alacritty终端&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; alacritty
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;5-tian-jia-alacrittypei-zhi-wen-jian&quot;&gt;5.添加alacritty配置文件&lt;&#x2F;h1&gt;
&lt;p&gt;在~&#x2F;.config&#x2F;alacritty&#x2F;下创建&lt;code&gt;alacritty.toml&lt;&#x2F;code&gt;和&lt;code&gt;catppuccin-mocha.toml&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选用&lt;code&gt;JetBrainsMono&lt;&#x2F;code&gt;字体，请下载压缩包 https:&#x2F;&#x2F;download.jetbrains.com&#x2F;fonts&#x2F;JetBrainsMono-2.304.zip ，并解压至&lt;code&gt;~&#x2F;.local&#x2F;share&#x2F;fonts&#x2F;Jetbrains&lt;&#x2F;code&gt;目录下&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;alacritty.toml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-alacritty.toml &quot;&gt;&lt;code class=&quot;language-alacritty.toml&quot; data-lang=&quot;alacritty.toml&quot;&gt;&lt;span&gt;import = [&amp;quot;&#x2F;home&#x2F;opeth&#x2F;.config&#x2F;alacritty&#x2F;catppuccin-mocha.toml&amp;quot;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors]
&lt;&#x2F;span&gt;&lt;span&gt;draw_bold_text_with_bright_colors = true
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[font]
&lt;&#x2F;span&gt;&lt;span&gt;size = 7
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[font.bold]
&lt;&#x2F;span&gt;&lt;span&gt;family = &amp;quot;JetBrainsMono Nerd Font&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;style = &amp;quot;Bold&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[font.bold_italic]
&lt;&#x2F;span&gt;&lt;span&gt;family = &amp;quot;JetBrainsMono Nerd Font&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;style = &amp;quot;Bold Italic&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[font.italic]
&lt;&#x2F;span&gt;&lt;span&gt;family = &amp;quot;JetBrainsMono Nerd Font&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;style = &amp;quot;Italic&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[font.normal]
&lt;&#x2F;span&gt;&lt;span&gt;family = &amp;quot;JetBrainsMono Nerd Font&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;style = &amp;quot;Regular&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[[keyboard.bindings]]
&lt;&#x2F;span&gt;&lt;span&gt;action = &amp;quot;SpawnNewInstance&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;key = &amp;quot;Return&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;mods = &amp;quot;Super|Shift&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[scrolling]
&lt;&#x2F;span&gt;&lt;span&gt;history = 10000
&lt;&#x2F;span&gt;&lt;span&gt;multiplier = 3
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[selection]
&lt;&#x2F;span&gt;&lt;span&gt;save_to_clipboard = false
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[shell]
&lt;&#x2F;span&gt;&lt;span&gt;program = &amp;quot;&#x2F;usr&#x2F;bin&#x2F;zsh&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[window]
&lt;&#x2F;span&gt;&lt;span&gt;opacity = 0.6
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[window.class]
&lt;&#x2F;span&gt;&lt;span&gt;general = &amp;quot;Alacritty&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;instance = &amp;quot;Alacritty&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[window.padding]
&lt;&#x2F;span&gt;&lt;span&gt;x = 10
&lt;&#x2F;span&gt;&lt;span&gt;y = 10
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;创建主题配置。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;catppuccin-mocha.toml&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-catppuccin-mocha.toml &quot;&gt;&lt;code class=&quot;language-catppuccin-mocha.toml&quot; data-lang=&quot;catppuccin-mocha.toml&quot;&gt;&lt;span&gt;[[colors.indexed_colors]]
&lt;&#x2F;span&gt;&lt;span&gt;color = &amp;quot;#FAB387&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;index = 16
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[[colors.indexed_colors]]
&lt;&#x2F;span&gt;&lt;span&gt;color = &amp;quot;#F5E0DC&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;index = 17
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.bright]
&lt;&#x2F;span&gt;&lt;span&gt;black = &amp;quot;#585B70&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;blue = &amp;quot;#89B4FA&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;cyan = &amp;quot;#94E2D5&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;green = &amp;quot;#A6E3A1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;magenta = &amp;quot;#F5C2E7&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;red = &amp;quot;#F38BA8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;white = &amp;quot;#A6ADC8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;yellow = &amp;quot;#F9E2AF&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.cursor]
&lt;&#x2F;span&gt;&lt;span&gt;cursor = &amp;quot;#F5E0DC&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;text = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.dim]
&lt;&#x2F;span&gt;&lt;span&gt;black = &amp;quot;#45475A&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;blue = &amp;quot;#89B4FA&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;cyan = &amp;quot;#94E2D5&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;green = &amp;quot;#A6E3A1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;magenta = &amp;quot;#F5C2E7&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;red = &amp;quot;#F38BA8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;white = &amp;quot;#BAC2DE&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;yellow = &amp;quot;#F9E2AF&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.hints.end]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#A6ADC8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;foreground = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.hints.start]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#F9E2AF&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;foreground = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.normal]
&lt;&#x2F;span&gt;&lt;span&gt;black = &amp;quot;#45475A&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;blue = &amp;quot;#89B4FA&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;cyan = &amp;quot;#94E2D5&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;green = &amp;quot;#A6E3A1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;magenta = &amp;quot;#F5C2E7&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;red = &amp;quot;#F38BA8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;white = &amp;quot;#BAC2DE&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;yellow = &amp;quot;#F9E2AF&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.primary]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;bright_foreground = &amp;quot;#CDD6F4&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;dim_foreground = &amp;quot;#CDD6F4&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;foreground = &amp;quot;#CDD6F4&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.search.focused_match]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#A6E3A1&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;foreground = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.search.matches]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#A6ADC8&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;foreground = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.selection]
&lt;&#x2F;span&gt;&lt;span&gt;background = &amp;quot;#F5E0DC&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;text = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;[colors.vi_mode_cursor]
&lt;&#x2F;span&gt;&lt;span&gt;cursor = &amp;quot;#B4BEFE&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;text = &amp;quot;#1E1E2E&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;6-an-zhuang-zhong-duan-wen-jian-guan-li-qi-yazi&quot;&gt;6.安装终端文件管理器YAZI&lt;&#x2F;h1&gt;
&lt;p&gt;For instance, if your terminal is Alacritty, which doesn&#x27;t support displaying images itself, but you are running on an X11&#x2F;Wayland environment, it will automatically use the &quot;Window system protocol&quot; to display images -- this requires you to have &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jstkdng&#x2F;ueberzugpp&quot;&gt;Überzug++&lt;&#x2F;a&gt; installed.&lt;&#x2F;p&gt;
&lt;p&gt;来自&lt;code&gt;yazi&lt;&#x2F;code&gt;的GitHub。需要安装&lt;code&gt;ueberzugpp&lt;&#x2F;code&gt;用来显示图像。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; ueberzugpp
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; yazi ffmpegthumbnailer unarchiver jq poppler fd ripgrep fzf zoxide
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;7-an-zhuang-ying-yong-qi-dong-qi-rofi&quot;&gt;7.安装应用启动器rofi&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; rofi
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;8-pei-zhi-rofi&quot;&gt;8.配置rofi&lt;&#x2F;h1&gt;
&lt;p&gt;在~&#x2F;.config&#x2F;rofi&#x2F;目录下创建&lt;code&gt;config.rasi&lt;&#x2F;code&gt;文件。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;config.rasi&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-config.rasi &quot;&gt;&lt;code class=&quot;language-config.rasi&quot; data-lang=&quot;config.rasi&quot;&gt;&lt;span&gt;configuration {
&lt;&#x2F;span&gt;&lt;span&gt;  display-drun: &amp;quot;Applications:&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;  display-window: &amp;quot;Windows:&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;  drun-display-format: &amp;quot;{name}&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;  font: &amp;quot;JetBrains Mono&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;  &#x2F;&#x2F; modi: &amp;quot;window,run,drun,emoji,calc&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &#x2F;&#x2F; enabling the icons
&lt;&#x2F;span&gt;&lt;span&gt;  show-icons: true;
&lt;&#x2F;span&gt;&lt;span&gt;  icon-theme: &amp;quot;Papirus&amp;quot;;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@theme &amp;quot;&#x2F;dev&#x2F;null&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;* {
&lt;&#x2F;span&gt;&lt;span&gt;  bg: #1e1e2e66;
&lt;&#x2F;span&gt;&lt;span&gt;  bg-alt: #585b7066;
&lt;&#x2F;span&gt;&lt;span&gt;  bg-selected: #31324466;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  fg: #cdd6f4;
&lt;&#x2F;span&gt;&lt;span&gt;  fg-alt: #7f849c;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  border: 0;
&lt;&#x2F;span&gt;&lt;span&gt;  margin: 0;
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 0;
&lt;&#x2F;span&gt;&lt;span&gt;  spacing: 0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;window {
&lt;&#x2F;span&gt;&lt;span&gt;  width: 30%;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;element {
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 8 12;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: transparent;
&lt;&#x2F;span&gt;&lt;span&gt;  text-color: @fg-alt;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;element selected {
&lt;&#x2F;span&gt;&lt;span&gt;  text-color: @fg;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg-selected;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;element-text {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: transparent;
&lt;&#x2F;span&gt;&lt;span&gt;  text-color: inherit;
&lt;&#x2F;span&gt;&lt;span&gt;  vertical-align: 0.5;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;element-icon {
&lt;&#x2F;span&gt;&lt;span&gt;  size: 14;
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 0 10 0 0;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: transparent;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;entry {
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 12;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg-alt;
&lt;&#x2F;span&gt;&lt;span&gt;  text-color: @fg;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;inputbar {
&lt;&#x2F;span&gt;&lt;span&gt;  children: [prompt, entry];
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;listview {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg;
&lt;&#x2F;span&gt;&lt;span&gt;  columns: 1;
&lt;&#x2F;span&gt;&lt;span&gt;  lines: 10;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mainbox {
&lt;&#x2F;span&gt;&lt;span&gt;  children: [inputbar, listview];
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;prompt {
&lt;&#x2F;span&gt;&lt;span&gt;  enabled: true;
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 12 0 0 12;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @bg-alt;
&lt;&#x2F;span&gt;&lt;span&gt;  text-color: @fg;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;* vim: ft=sass
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;我的配置比较简单，运行&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;rofi&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -show&lt;&#x2F;span&gt;&lt;span&gt; drun
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;调出启动器。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;9-zhuang-tai-lan-waybar&quot;&gt;9.状态栏waybar&lt;&#x2F;h1&gt;
&lt;p&gt;虽然KDE有提供状态栏，但是我更喜欢这种自己定义的，比较清爽。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;zsh&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-zsh &quot;&gt;&lt;code class=&quot;language-zsh&quot; data-lang=&quot;zsh&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; waybar
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;~&#x2F;.config&#x2F;waybar&lt;&#x2F;code&gt;目录下创建&lt;code&gt;config&lt;&#x2F;code&gt;文件。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;config&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-config &quot;&gt;&lt;code class=&quot;language-config&quot; data-lang=&quot;config&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;layer&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;top&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;height&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;35&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;spacing&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; Choose the order of the modules
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;modules-left&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;hyprland&#x2F;workspaces&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    ]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;modules-center&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;clock&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;wlr&#x2F;taskbar&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    ]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;modules-right&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;cpu&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;memory&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;disk&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;pulseaudio&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;network&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;battery&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;custom&#x2F;power&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    ]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;hyprland&#x2F;workspaces&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;disable-scroll&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;all-outputs&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;activate&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;tray&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;icon-size&amp;quot;: 21,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;spacing&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;12
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;clock&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;tooltip-format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;lt;big&amp;gt;{:%Y %B}&amp;lt;&#x2F;big&amp;gt;\n&amp;lt;tt&amp;gt;&amp;lt;small&amp;gt;{calendar}&amp;lt;&#x2F;small&amp;gt;&amp;lt;&#x2F;tt&amp;gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot; {:%H:%M   %a %b%d}&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;wlr&#x2F;taskbar&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;{icon}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;icon-size&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;14&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;icon-theme&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;Numix-Circle&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;tooltip-format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;{title}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;activate&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click-right&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;close&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;ignore-list&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [
&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;Alacritty&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;       &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;kitty&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    ]
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;battery&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;states&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;good&amp;quot;: 95,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;warning&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;30
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;{icon} {capacity}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-charging&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot; {capacity}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-plugged&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰂄 {capacity}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;format-good&amp;quot;: &amp;quot;&amp;quot;, &#x2F;&#x2F; An empty format will hide the module
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;format-full&amp;quot;: &amp;quot;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-icons&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; [
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;        ]
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;disk&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;interval&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;300&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰋊 {free}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;path&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&#x2F;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;memory&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;interval&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;30&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot; {}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;max-length&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;10
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;cpu&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;interval&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot; {usage}%&amp;quot; 
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;network&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;tooltip&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-wifi&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰖩 {essid}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-disconnected&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;睊&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-ethernet&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;rofi-wifi-menu&amp;quot; 
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;pulseaudio&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;scroll-step&amp;quot;: 1, &#x2F;&#x2F; %, can be a float
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰕾 {volume}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-muted&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰖁{volume}%&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;pavucontrol&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;custom&#x2F;power&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;󰤆&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;on-click&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;powermenu&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;custom&#x2F;media&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;{icon} {}&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;return-type&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;json&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;max-length&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;40&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;format-icons&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; {
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;spotify&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;default&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;🎜&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;        }&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;escape&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;exec&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$HOME&#x2F;.config&#x2F;waybar&#x2F;mediaplayer.py 2&amp;gt; &#x2F;dev&#x2F;null&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; Script in resources folder
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; &amp;quot;exec&amp;quot;: &amp;quot;$HOME&#x2F;.config&#x2F;waybar&#x2F;mediaplayer.py --player spotify 2&amp;gt; &#x2F;dev&#x2F;null&amp;quot; &#x2F;&#x2F; Filter player based on name
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;&#x2F;&#x2F; vim: ft=jsonc
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;~&#x2F;.config&#x2F;waybar&lt;&#x2F;code&gt;目录下创建&lt;code&gt;style.css&lt;&#x2F;code&gt;文件。定义状态栏的样式。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;style.css&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-style.css &quot;&gt;&lt;code class=&quot;language-style.css&quot; data-lang=&quot;style.css&quot;&gt;&lt;span&gt;@define-color base #1e1e2e;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color mantle #181825;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color crust #11111b;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color text #cdd6f4;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color subtext0 #a6adc8;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color subtext1 #bac2de;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color surface0 #313244;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color surface1 #45475a;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color surface2 #585b70;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color overlay0 #6c7086;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color overlay1 #7f849c;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color overlay2 #9399b2;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color blue #89b4fa;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color lavender #b4befe;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color sapphire #74c7ec;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color sky #89dceb;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color teal #94e2d5;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color green #a6e3a1;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color yellow #f9e2af;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color peach #fab387;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color maroon #eba0ac;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color red #f38ba8;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color mauve #cba6f7;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color pink #f5c2e7;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color flamingo #f2cdcd;
&lt;&#x2F;span&gt;&lt;span&gt;@define-color rosewater #f5e0dc;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;* {
&lt;&#x2F;span&gt;&lt;span&gt;  font-family: JetBrains Mono;
&lt;&#x2F;span&gt;&lt;span&gt;  font-size: 13px;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @crust;
&lt;&#x2F;span&gt;&lt;span&gt;  color: @text;
&lt;&#x2F;span&gt;&lt;span&gt;  transition-property: background-color;
&lt;&#x2F;span&gt;&lt;span&gt;  transition-duration: .5s;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar.hidden {
&lt;&#x2F;span&gt;&lt;span&gt;  opacity: 0.2;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;*
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar.empty {
&lt;&#x2F;span&gt;&lt;span&gt;    background-color: transparent;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar.solo {
&lt;&#x2F;span&gt;&lt;span&gt;    background-color: #FFFFFF;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;*&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar.termite {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: #3F3F3F;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;window#waybar.chromium {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: #000000;
&lt;&#x2F;span&gt;&lt;span&gt;  border: none;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;button {
&lt;&#x2F;span&gt;&lt;span&gt;  &#x2F;* Use box-shadow instead of border so the text isn&amp;#39;t offset *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;  box-shadow: inset 0 -3px transparent;
&lt;&#x2F;span&gt;&lt;span&gt;  &#x2F;* Avoid rounded borders under each button name *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;  border: none;
&lt;&#x2F;span&gt;&lt;span&gt;  border-radius: 0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;* https:&#x2F;&#x2F;github.com&#x2F;Alexays&#x2F;Waybar&#x2F;wiki&#x2F;FAQ#the-workspace-buttons-have-a-strange-hover-effect *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces button:hover {
&lt;&#x2F;span&gt;&lt;span&gt;  background: @surface0;
&lt;&#x2F;span&gt;&lt;span&gt;  border: @surface0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces button {
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 0 8px;
&lt;&#x2F;span&gt;&lt;span&gt;  color: @text;
&lt;&#x2F;span&gt;&lt;span&gt;  border-radius: 15px;
&lt;&#x2F;span&gt;&lt;span&gt;  margin: 5px 0 5px 5px;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces button.selected {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @text;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces button.active {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @surface0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces button.urgent {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @red;
&lt;&#x2F;span&gt;&lt;span&gt;  color: @crust;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#clock,
&lt;&#x2F;span&gt;&lt;span&gt;#battery,
&lt;&#x2F;span&gt;&lt;span&gt;#cpu,
&lt;&#x2F;span&gt;&lt;span&gt;#memory,
&lt;&#x2F;span&gt;&lt;span&gt;#disk,
&lt;&#x2F;span&gt;&lt;span&gt;#temperature,
&lt;&#x2F;span&gt;&lt;span&gt;#backlight,
&lt;&#x2F;span&gt;&lt;span&gt;#network,
&lt;&#x2F;span&gt;&lt;span&gt;#pulseaudio,
&lt;&#x2F;span&gt;&lt;span&gt;#wireplumber,
&lt;&#x2F;span&gt;&lt;span&gt;#custom-power,
&lt;&#x2F;span&gt;&lt;span&gt;#custom-updates,
&lt;&#x2F;span&gt;&lt;span&gt;#tray,
&lt;&#x2F;span&gt;&lt;span&gt;#mode,
&lt;&#x2F;span&gt;&lt;span&gt;#idle_inhibitor,
&lt;&#x2F;span&gt;&lt;span&gt;#scratchpad,
&lt;&#x2F;span&gt;&lt;span&gt;#mpd {
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 0 12px;
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @base;
&lt;&#x2F;span&gt;&lt;span&gt;  color: @crust;
&lt;&#x2F;span&gt;&lt;span&gt;  border-radius: 15px;
&lt;&#x2F;span&gt;&lt;span&gt;  margin: 5px 0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#window,
&lt;&#x2F;span&gt;&lt;span&gt;#workspaces {
&lt;&#x2F;span&gt;&lt;span&gt;  margin: 0 4px;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;* If workspaces is the leftmost module, omit left margin *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;.modules-left&amp;gt;widget:first-child&amp;gt;#workspaces {
&lt;&#x2F;span&gt;&lt;span&gt;  margin-left: 0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;* If workspaces is the rightmost module, omit right margin *&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;.modules-right&amp;gt;widget:last-child&amp;gt;#workspaces {
&lt;&#x2F;span&gt;&lt;span&gt;  margin-right: 0;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;label:focus {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: #000000;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#clock {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @text;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#custom-updates {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @red;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#memory {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @sky;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#cpu {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @teal;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#disk {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @peach;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#pulseaudio {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @yellow;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#pulseaudio.muted {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @overlay1;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#network {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @green;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#network.disconnected {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @overlay1;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#battery {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @blue;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#battery.warning:not(.charging) {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: @red;
&lt;&#x2F;span&gt;&lt;span&gt;  color: @crust;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#custom-power {
&lt;&#x2F;span&gt;&lt;span&gt;  color: @mauve;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#keyboard-state&amp;gt;label {
&lt;&#x2F;span&gt;&lt;span&gt;  padding: 0 5px;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#keyboard-state&amp;gt;label.locked {
&lt;&#x2F;span&gt;&lt;span&gt;  background: rgba(0, 0, 0, 0.2);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#scratchpad {
&lt;&#x2F;span&gt;&lt;span&gt;  background: rgba(0, 0, 0, 0.2);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;#scratchpad.empty {
&lt;&#x2F;span&gt;&lt;span&gt;  background-color: transparent;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;* vim: ft=sass
&lt;&#x2F;span&gt;&lt;span&gt;*&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&lt;code&gt;config&lt;&#x2F;code&gt;文件中，我们还定义了一个&lt;code&gt;powermenu&lt;&#x2F;code&gt;和&lt;code&gt;rofi-wifi-menu&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;这是我的自定义脚本。&lt;&#x2F;p&gt;
&lt;p&gt;在&#x2F;usr&#x2F;bin&#x2F;目录下，创建&lt;code&gt;powermenu&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;powermenu&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-powermenu &quot;&gt;&lt;code class=&quot;language-powermenu&quot; data-lang=&quot;powermenu&quot;&gt;&lt;span&gt;#! &#x2F;bin&#x2F;sh
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;chosen=$(printf &amp;quot;  Power Off\n  Restart\n  Suspend\n  Hibernate\n  Log Out\n  Lock&amp;quot; | rofi -dmenu -i -theme-str &amp;#39;@import &amp;quot;power.rasi&amp;quot;&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;case &amp;quot;$chosen&amp;quot; in
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Power Off&amp;quot;) poweroff ;;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Restart&amp;quot;) reboot ;;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Suspend&amp;quot;) systemctl suspend-then-hibernate ;;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Hibernate&amp;quot;) systemctl hibernate ;;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Log Out&amp;quot;) bspc quit ;;
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;  Lock&amp;quot;) betterlockscreen -l ;;
&lt;&#x2F;span&gt;&lt;span&gt;    *) exit 1 ;;
&lt;&#x2F;span&gt;&lt;span&gt;esac
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在~&#x2F;.config&#x2F;rofi&#x2F;目录下，创建&lt;code&gt;power.rasi&lt;&#x2F;code&gt;文件。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;power.rasi&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-power.rasi &quot;&gt;&lt;code class=&quot;language-power.rasi&quot; data-lang=&quot;power.rasi&quot;&gt;&lt;span&gt;inputbar {
&lt;&#x2F;span&gt;&lt;span&gt;  children: [entry];
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;listview {
&lt;&#x2F;span&gt;&lt;span&gt;    lines: 6;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;在&#x2F;usr&#x2F;bin&#x2F;目录下，创建&lt;code&gt;rofi-wifi-menu&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;rofi-wifi-menu&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-rofi-wifi-menu &quot;&gt;&lt;code class=&quot;language-rofi-wifi-menu&quot; data-lang=&quot;rofi-wifi-menu&quot;&gt;&lt;span&gt;#!&#x2F;usr&#x2F;bin&#x2F;env bash
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;notify-send &amp;quot;Getting list of available Wi-Fi networks...&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;# Get a list of available wifi connections and morph it into a nice-looking list
&lt;&#x2F;span&gt;&lt;span&gt;wifi_list=$(nmcli --fields &amp;quot;SECURITY,SSID&amp;quot; device wifi list | sed 1d | sed &amp;#39;s&#x2F;  *&#x2F; &#x2F;g&amp;#39; | sed -E &amp;quot;s&#x2F;WPA*.?\S&#x2F; &#x2F;g&amp;quot; | sed &amp;quot;s&#x2F;^--&#x2F; &#x2F;g&amp;quot; | sed &amp;quot;s&#x2F;  &#x2F;&#x2F;g&amp;quot; | sed &amp;quot;&#x2F;--&#x2F;d&amp;quot;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;connected=$(nmcli -fields WIFI g)
&lt;&#x2F;span&gt;&lt;span&gt;if [[ &amp;quot;$connected&amp;quot; =~ &amp;quot;enabled&amp;quot; ]]; then
&lt;&#x2F;span&gt;&lt;span&gt;    toggle=&amp;quot;󰖪  Disable Wi-Fi&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;elif [[ &amp;quot;$connected&amp;quot; =~ &amp;quot;disabled&amp;quot; ]]; then
&lt;&#x2F;span&gt;&lt;span&gt;    toggle=&amp;quot;󰖩  Enable Wi-Fi&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;# Use rofi to select wifi network
&lt;&#x2F;span&gt;&lt;span&gt;chosen_network=$(echo -e &amp;quot;$toggle\n$wifi_list&amp;quot; | uniq -u | rofi -dmenu -i -selected-row 1 -p &amp;quot;Wi-Fi SSID: &amp;quot; )
&lt;&#x2F;span&gt;&lt;span&gt;# Get name of connection
&lt;&#x2F;span&gt;&lt;span&gt;read -r chosen_id &amp;lt;&amp;lt;&amp;lt; &amp;quot;${chosen_network:3}&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;if [ &amp;quot;$chosen_network&amp;quot; = &amp;quot;&amp;quot; ]; then
&lt;&#x2F;span&gt;&lt;span&gt;    exit
&lt;&#x2F;span&gt;&lt;span&gt;elif [ &amp;quot;$chosen_network&amp;quot; = &amp;quot;󰖩  Enable Wi-Fi&amp;quot; ]; then
&lt;&#x2F;span&gt;&lt;span&gt;    nmcli radio wifi on
&lt;&#x2F;span&gt;&lt;span&gt;elif [ &amp;quot;$chosen_network&amp;quot; = &amp;quot;󰖪  Disable Wi-Fi&amp;quot; ]; then
&lt;&#x2F;span&gt;&lt;span&gt;    nmcli radio wifi off
&lt;&#x2F;span&gt;&lt;span&gt;else
&lt;&#x2F;span&gt;&lt;span&gt;    # Message to show when connection is activated successfully
&lt;&#x2F;span&gt;&lt;span&gt;      success_message=&amp;quot;You are now connected to the Wi-Fi network \&amp;quot;$chosen_id\&amp;quot;.&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    # Get saved connections
&lt;&#x2F;span&gt;&lt;span&gt;    saved_connections=$(nmcli -g NAME connection)
&lt;&#x2F;span&gt;&lt;span&gt;    if [[ $(echo &amp;quot;$saved_connections&amp;quot; | grep -w &amp;quot;$chosen_id&amp;quot;) = &amp;quot;$chosen_id&amp;quot; ]]; then
&lt;&#x2F;span&gt;&lt;span&gt;        nmcli connection up id &amp;quot;$chosen_id&amp;quot; | grep &amp;quot;successfully&amp;quot; &amp;amp;&amp;amp; notify-send &amp;quot;Connection Established&amp;quot; &amp;quot;$success_message&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    else
&lt;&#x2F;span&gt;&lt;span&gt;        if [[ &amp;quot;$chosen_network&amp;quot; =~ &amp;quot;&amp;quot; ]]; then
&lt;&#x2F;span&gt;&lt;span&gt;            wifi_password=$(rofi -dmenu -p &amp;quot;Password: &amp;quot; )
&lt;&#x2F;span&gt;&lt;span&gt;        fi
&lt;&#x2F;span&gt;&lt;span&gt;        nmcli device wifi connect &amp;quot;$chosen_id&amp;quot; password &amp;quot;$wifi_password&amp;quot; | grep &amp;quot;successfully&amp;quot; &amp;amp;&amp;amp; notify-send &amp;quot;Connection Established&amp;quot; &amp;quot;$success_message&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    fi
&lt;&#x2F;span&gt;&lt;span&gt;fi
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;waybar配置完成。&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第二回，初入KDE虚界间，安装APPS耀目光</title>
        <published>2024-02-07T00:00:00+00:00</published>
        <updated>2024-02-07T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/2/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/2/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/2/">&lt;h1 id=&quot;di-er-hui-chu-ru-kdexu-jie-jian-an-zhuang-appsyao-mu-guang&quot;&gt;第二回，初入KDE虚界间，安装APPS耀目光&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-07&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-ji-ben&quot;&gt;1.基本&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;systemctl&lt;&#x2F;span&gt;&lt;span&gt; stop reflector.service
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;systemctl&lt;&#x2F;span&gt;&lt;span&gt; disable reflector.service
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;eos-update &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# EndeavourOS更新命令
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; pacman&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; paru &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Aur 助手
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Syyu
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; pacman-contrib
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; discover &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 应用中心
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;upar&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; filelight &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 磁盘管理器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; marktext-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# markdown编辑器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; octopi &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 可视化界面管理包管理器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; bauh &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 可视化界面管理包管理器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; brave-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 浏览器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; keepassxc &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 密码管理器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; bitwarden &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 密码管理器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; libreoffice-still libreoffice-still-zh-cn &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 文档编辑器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; firefox-developer-edition &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 浏览器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; vlc &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 音视频播放器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; thunderbird thunderbird-i18n-zh-cn &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 邮箱
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; obs-studio &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 录屏软件
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; schildichat-desktop-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# matrix聊天软件
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; tabby-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# ssh连接工具
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; vscodium-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 代码编辑器
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; anytype-bin &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 笔记软件
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; joplin-beta-appimage &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# 笔记软件
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;an-zhuang-fcitx5-rimeshu-ru-fa&quot;&gt;安装fcitx5-rime输入法&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; fcitx5-im
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; fcitx5-material-color
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; fcitx5-rime
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; ruby
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里直接使用自动部署脚本。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; clone&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --depth&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt;1 https:&#x2F;&#x2F;github.com&#x2F;Mark24Code&#x2F;rime-auto-deploy.git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --branch&lt;&#x2F;span&gt;&lt;span&gt; latest
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span&gt; rime-auto-deploy
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;.&#x2F;installer.rb
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;1.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;输入3回车。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;2.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;输入1回车。&lt;&#x2F;p&gt;
&lt;p&gt;然后在&lt;code&gt;&#x2F;etc&#x2F;environment&lt;&#x2F;code&gt; 文件末尾添加：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;&#x2F;etc&#x2F;environment&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-&#x2F;etc&#x2F;environment &quot;&gt;&lt;code class=&quot;language-&#x2F;etc&#x2F;environment&quot; data-lang=&quot;&#x2F;etc&#x2F;environment&quot;&gt;&lt;span&gt;export GTK_IM_MODULE=fcitx5
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;export QT_IM_MODULE=fcitx5
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;export XMODIFIERS=@im=fcitx5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;保存后退出，重启电脑之后，输入法就可以用了。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;an-zhuang-nvidiaxian-qia-qu-dong&quot;&gt;安装NVIDIA显卡驱动&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; nvidia-inst
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nvidia-inst&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --drivers
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;3.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;需要等一会，不要着急。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;4.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里我的&lt;code&gt;series&lt;&#x2F;code&gt;是&lt;code&gt;545&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nvidia-inst&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --series&lt;&#x2F;span&gt;&lt;span&gt; 545&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -t
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将&lt;code&gt;--series&lt;&#x2F;code&gt;参数后面的&lt;code&gt;545&lt;&#x2F;code&gt;改为你自己的&lt;code&gt;series&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;例如以&lt;code&gt;390&lt;&#x2F;code&gt;为例，就是&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nvidia-inst&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --series&lt;&#x2F;span&gt;&lt;span&gt; 390&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -t
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;5.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;将其中的这个：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;COMMANDS&lt;&#x2F;span&gt;&lt;span&gt; TO RUN:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pacman&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Rs --noconfirm --noprogressbar --nodeps&lt;&#x2F;span&gt;&lt;span&gt; nvidia-dkms nvidia-hook nvidia-utils
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;yay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Syu&lt;&#x2F;span&gt;&lt;span&gt; nvidia-390xx-dkms nvidia-390xx-utils nvidia-390xx-settings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;里面的COMMANDS TO RUN给出的命令执行就可以安装显卡驱动。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;pacman&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Rs --noconfirm --noprogressbar --nodeps&lt;&#x2F;span&gt;&lt;span&gt; nvidia-dkms nvidia-hook nvidia-utils
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;yay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -Syu&lt;&#x2F;span&gt;&lt;span&gt; nvidia-390xx-dkms nvidia-390xx-utils nvidia-390xx-settings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;等待安装。&lt;&#x2F;p&gt;
&lt;p&gt;安装后执行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;nvidia-smi
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;来查看显卡驱动有没有正确安装。执行后有如下输出则证明显卡驱动安装成功。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;2&#x2F;6.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;pei-zhi-btrfs&quot;&gt;配置btrfs&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; snapper
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; snap-pac
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; grub-btrfs
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; btrfs-assistant
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; btrfsmaintenance
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; snap-pac-grub
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后，请先打开一下 Btrfs Assistant 这个应用，退出后再运行下面这个：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; snapper-support
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;vscodiumgeng-huan-guan-fang-cha-jian-yuan&quot;&gt;vscodium更换官方插件源&lt;&#x2F;h1&gt;
&lt;p&gt;找到&lt;code&gt;vscodium&lt;&#x2F;code&gt;的安装的文件夹。这里，我的eos的路径是&lt;code&gt;&#x2F;opt&#x2F;vscodium-bin&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;在&lt;code&gt;&#x2F;opt&#x2F;vscodium-bin&#x2F;resources&#x2F;app&lt;&#x2F;code&gt; 中找到&lt;code&gt;product.json&lt;&#x2F;code&gt; 这个文件。&lt;&#x2F;p&gt;
&lt;p&gt;打开该文件，找到如下内容：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;product.json&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-product.json &quot;&gt;&lt;code class=&quot;language-product.json&quot; data-lang=&quot;product.json&quot;&gt;&lt;span&gt;  &amp;quot;extensionsGallery&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;serviceUrl&amp;quot;: &amp;quot;https:&#x2F;&#x2F;open-vsx.org&#x2F;vscode&#x2F;gallery&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;itemUrl&amp;quot;: &amp;quot;https:&#x2F;&#x2F;open-vsx.org&#x2F;vscode&#x2F;item&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将其改为：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;product.json&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-product.json &quot;&gt;&lt;code class=&quot;language-product.json&quot; data-lang=&quot;product.json&quot;&gt;&lt;span&gt;    &amp;quot;extensionsGallery&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;serviceUrl&amp;quot;: &amp;quot;https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;_apis&#x2F;public&#x2F;gallery&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;itemUrl&amp;quot;: &amp;quot;https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    },
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;保存后重启vscodium，更换完毕。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;pei-zhi-wayland&quot;&gt;配置Wayland&lt;&#x2F;h1&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; wayland
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; plasma-wayland-session
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; pipewire
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; cp&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -rp&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;usr&#x2F;share&#x2F;pipewire&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;pipewire&#x2F;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; pipewire-pulse
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;systemctl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --user&lt;&#x2F;span&gt;&lt;span&gt; enable pipewire.service
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;systemctl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --user&lt;&#x2F;span&gt;&lt;span&gt; start pipewire.service
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; libpipewire
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; gst-plugin-pipewire
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; xdg-desktop-portal-kde
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; wayland-protocols
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;paru&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; xdg-desktop-portal-gtk
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>纪念听罗大佑一周年</title>
        <published>2024-02-02T00:00:00+00:00</published>
        <updated>2024-02-02T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/think/1st-anniversary-of-listening-to-tayu-lo/"/>
        <id>https://blog.0pt.icu/posts/think/1st-anniversary-of-listening-to-tayu-lo/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/think/1st-anniversary-of-listening-to-tayu-lo/">&lt;h1 id=&quot;ji-nian-ting-luo-da-you-yi-zhou-nian&quot;&gt;纪念听罗大佑一周年&lt;&#x2F;h1&gt;
&lt;p&gt;2024-02-02&lt;&#x2F;p&gt;
&lt;p&gt;这天下午，我在操场上刷步数，突然，耳机里响起罗大佑的 错误。我意识到，我听罗大佑已经一周年了。&lt;&#x2F;p&gt;
&lt;p&gt;在2023年1月，我第一次开始认真听罗大佑。那之前，疫情刚放开，高三所有学生强制住校，复习备考。在校经历了一段奇妙的时光，我也不幸感染新冠了，提前返回家中修养。&lt;&#x2F;p&gt;
&lt;p&gt;感染新冠的前俩天，异常痛苦高烧39度以上，吃退烧药也不见效，眼睛像被炙烤，而且一看见发光的东西就难受。我躺在床上，窗帘拉上，电灯也关了，手机也不敢看。暗无天日地过了俩天。&lt;&#x2F;p&gt;
&lt;p&gt;后面，开始退了一点烧，在37度到38度徘徊。我就拿起复习材料，坐在电脑前，边听歌边复习。&lt;&#x2F;p&gt;
&lt;p&gt;平时的歌听的有点厌倦了，想整点其他歌听。我久仰罗大佑的大名，也想探究一下。我翻到罗大佑第一张专辑，&lt;code&gt;之乎者也&lt;&#x2F;code&gt;。点开了专辑同名歌，之乎者也。这是雷鬼摇滚，犀利的歌词，直戳我心。对比现在的洞察时代的乐队的音乐也毫不逊色。82年的罗大佑，在41年后，在我心中炸开。&lt;&#x2F;p&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109536&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109435&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;blockquote&gt;
&lt;p&gt;知之为知之 在乎不在乎，&lt;br &#x2F;&gt;
此人何其者 孔老夫子也，&lt;br &#x2F;&gt;
知之为不知 在在不在乎，&lt;br &#x2F;&gt;
此人何其者 寒山子是也，&lt;br &#x2F;&gt;
不知为知之 不在乎在乎，&lt;br &#x2F;&gt;
此人何其者 齐人是也，&lt;br &#x2F;&gt;
很久以前我们的祖先都曾经这么说，&lt;br &#x2F;&gt;
很久以前我们的祖先都曾经这么说，&lt;br &#x2F;&gt;
现在看看我们的青年他们在讲什么，&lt;br &#x2F;&gt;
但是要想想到底你要他们怎么做，&lt;br &#x2F;&gt;
剪刀等待之 清汤挂面乎，&lt;br &#x2F;&gt;
尊师重道者 莫过如此也，&lt;br &#x2F;&gt;
风花雪月之 哗啦啦啦乎，&lt;br &#x2F;&gt;
所谓民歌者 是否如此也，&lt;br &#x2F;&gt;
之之之之之，&lt;br &#x2F;&gt;
乎乎乎乎乎，&lt;br &#x2F;&gt;
者者者者者，&lt;br &#x2F;&gt;
也也也也也，&lt;br &#x2F;&gt;
很久以前我们的祖先都曾经这么说，&lt;br &#x2F;&gt;
很久以前我们的祖先都曾经这么说，&lt;br &#x2F;&gt;
现在听听我们的青年他们在唱什么，&lt;br &#x2F;&gt;
但是要想想到底你要他们怎么做，&lt;br &#x2F;&gt;
眼睛睁一只 嘴巴呼一呼，&lt;br &#x2F;&gt;
耳朵遮一遮 皆大欢喜也，&lt;br &#x2F;&gt;
大家都知之 大家都在乎，&lt;br &#x2F;&gt;
袖手旁观者 你我 是也。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;我觉得现，现在的娱乐圈，音乐圈依旧是一些风花雪月居多。&lt;&#x2F;p&gt;
&lt;p&gt;那世界的青年呢，是袖手旁观的一代?&lt;&#x2F;p&gt;
&lt;p&gt;那一代一代的青年，是没有改变过吗?人类是有局限的。&lt;&#x2F;p&gt;
&lt;p&gt;我想，对于每代人来说，上一代的流行文化是腐朽的，下一代的流行文化是轻浮的，只有我们这代的流行文化才是永恒经典。&lt;&#x2F;p&gt;
&lt;p&gt;早年间看喜欢看龙应台，印象比较深的是，龙应台在烧起&lt;code&gt;野火&lt;&#x2F;code&gt;的那段时间，曾经有一名学生偷偷交给她罗大佑的歌，并相信她和罗大佑一样在做同一件很重要的事。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;鹿港小镇&lt;&#x2F;code&gt;是早就听过，是伍佰，五月天，张震岳的现场合唱版本，那个现场，伍佰老师大哥造型，十分带感。但是，再听原版的还是有不一样的感觉。&lt;&#x2F;p&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109525&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;blockquote&gt;
&lt;p&gt;假如你先生来自鹿港小镇，&lt;br &#x2F;&gt;
请问你是否看见我的爹娘，&lt;br &#x2F;&gt;
我家就住在妈祖庙的后面，&lt;br &#x2F;&gt;
卖着香火的那家小杂货店，&lt;br &#x2F;&gt;
假如你先生来自鹿港小镇，&lt;br &#x2F;&gt;
请问你是否看见我的爱人，&lt;br &#x2F;&gt;
想当年我离家时她一十八，&lt;br &#x2F;&gt;
有一颗善良的心和一卷长发，&lt;br &#x2F;&gt;
台北不是我的家，&lt;br &#x2F;&gt;
我的家乡没有霓虹灯，&lt;br &#x2F;&gt;
鹿港的街道 鹿港的渔村，&lt;br &#x2F;&gt;
妈祖庙里烧香的人们，&lt;br &#x2F;&gt;
台北不是我的家，&lt;br &#x2F;&gt;
我的家乡没有霓虹灯，&lt;br &#x2F;&gt;
鹿港的清晨 鹿港的黄昏，&lt;br &#x2F;&gt;
徘徊在文明里的人们，&lt;br &#x2F;&gt;
假如你先生回到鹿港小镇，&lt;br &#x2F;&gt;
请问你是否告诉我的爹娘，&lt;br &#x2F;&gt;
台北不是我想象的黄金天堂，&lt;br &#x2F;&gt;
都市里没有当初我的梦想，&lt;br &#x2F;&gt;
在梦里我再度回到鹿港小镇，&lt;br &#x2F;&gt;
庙里膜拜的人们依然虔诚，&lt;br &#x2F;&gt;
岁月掩不住爹娘淳朴的笑容，&lt;br &#x2F;&gt;
梦中的姑娘依然长发盈空，&lt;br &#x2F;&gt;
台北不是我的家，&lt;br &#x2F;&gt;
我的家乡没有霓虹灯，&lt;br &#x2F;&gt;
鹿港的街道 鹿港的渔村，&lt;br &#x2F;&gt;
妈祖庙里烧香的人们，&lt;br &#x2F;&gt;
台北不是我的家，&lt;br &#x2F;&gt;
我的家乡没有霓虹灯，&lt;br &#x2F;&gt;
鹿港的清晨 鹿港的黄昏，&lt;br &#x2F;&gt;
徘徊在文明里的人们，&lt;br &#x2F;&gt;
再度我唱起这首歌，&lt;br &#x2F;&gt;
我的歌中和有风雨声，&lt;br &#x2F;&gt;
归不到的家园 鹿港的小镇，&lt;br &#x2F;&gt;
当年离家的年轻人，&lt;br &#x2F;&gt;
台北不是我的家，&lt;br &#x2F;&gt;
我的家乡没有霓虹灯，&lt;br &#x2F;&gt;
繁荣的都市 过渡的小镇，&lt;br &#x2F;&gt;
徘徊在文明里的人们，&lt;br &#x2F;&gt;
听说他们挖走了家乡的红砖砌上了水泥墙，&lt;br &#x2F;&gt;
家乡的人们得到他们想要的却又失去他们拥有的，&lt;br &#x2F;&gt;
门上的一块斑驳的木板刻着这么几句话，&lt;br &#x2F;&gt;
子子孙孙永宝用 世世代代传香火，&lt;br &#x2F;&gt;
啊,鹿港的小镇。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;因为在城里面念书，平时很少回老家。&lt;&#x2F;p&gt;
&lt;p&gt;小时候的老家生活非常美好，但随着时间的推移，玩伴也不再联络，亲人离世，我在成长，已经失去了做孩子的灵性，特别是几个表兄弟姐妹，都到了需要为中考，高考而烦恼的年纪，彼此玩笑的日子也过去了。&lt;&#x2F;p&gt;
&lt;p&gt;每次等寒假回到老家时，总觉得老家会少了东西。&lt;&#x2F;p&gt;
&lt;p&gt;老家的房子是土胚房，在岁月与风雨的侵蚀下早已破落。&lt;&#x2F;p&gt;
&lt;p&gt;人们新盖了水泥厝，高大坚固，可以遮风挡雨。&lt;&#x2F;p&gt;
&lt;p&gt;听完罗大佑首专后，我真的激动地说不出话。（大概也许是喉咙还有点痛。）&lt;&#x2F;p&gt;
&lt;p&gt;我意识到我之前听歌错过了罗大佑，是非常可惜的。后面把他全部专辑都补上了。他的1983年的第二张专辑，&lt;code&gt;未来的主人翁&lt;&#x2F;code&gt;，里面的同名歌，也对我产生很大影响。&lt;&#x2F;p&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109502&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;blockquote&gt;
&lt;p&gt;你走过林立的高楼大厦，&lt;br &#x2F;&gt;
穿过那些拥挤的人，&lt;br &#x2F;&gt;
望着一个现代化的都市，&lt;br &#x2F;&gt;
泛起一片水银灯，&lt;br &#x2F;&gt;
突然想起了遥远的过去，&lt;br &#x2F;&gt;
未曾实现的梦，&lt;br &#x2F;&gt;
曾经一度人们告诉你说，&lt;br &#x2F;&gt;
你是未来的主人翁，&lt;br &#x2F;&gt;
在人潮汹涌的十字路口，&lt;br &#x2F;&gt;
每个人在痴痴地等，&lt;br &#x2F;&gt;
每个人的眼睛都望着那，&lt;br &#x2F;&gt;
象征命运的红绿灯，&lt;br &#x2F;&gt;
在红橙黄绿的世界里，&lt;br &#x2F;&gt;
你这未来的主人翁，&lt;br &#x2F;&gt;
在每一张陌生的面孔里，&lt;br &#x2F;&gt;
寻找儿时的光荣，&lt;br &#x2F;&gt;
每一个今天来到世界的婴孩，&lt;br &#x2F;&gt;
张大了眼睛摸索着一个，&lt;br &#x2F;&gt;
真心的关怀，&lt;br &#x2F;&gt;
每一个来到世界的生命在期待，&lt;br &#x2F;&gt;
因为我们改变的世界，&lt;br &#x2F;&gt;
将是他们的未来，&lt;br &#x2F;&gt;
别以为我们的孩子们太小，&lt;br &#x2F;&gt;
他们什么都不懂，&lt;br &#x2F;&gt;
我听到无言的抗议在他们，&lt;br &#x2F;&gt;
悄悄的睡梦中，&lt;br &#x2F;&gt;
我们不要一个被科学游戏，&lt;br &#x2F;&gt;
污染的天空，&lt;br &#x2F;&gt;
我们不要被你们发明变成，&lt;br &#x2F;&gt;
电脑儿童，&lt;br &#x2F;&gt;
每一个今天来到世界的婴孩，&lt;br &#x2F;&gt;
张大了眼睛摸索着一个，&lt;br &#x2F;&gt;
真心的关怀，&lt;br &#x2F;&gt;
每一个来到世界的生命在期待，&lt;br &#x2F;&gt;
因为我们改变的世界，&lt;br &#x2F;&gt;
将是他们的未来，&lt;br &#x2F;&gt;
有一天孩子们会告诉，&lt;br &#x2F;&gt;
他们后代你们要守规矩，&lt;br &#x2F;&gt;
格言像玩具风筝，&lt;br &#x2F;&gt;
在风里飘来飘去，&lt;br &#x2F;&gt;
当未来的世界充满了，&lt;br &#x2F;&gt;
一些陌生的旋律，&lt;br &#x2F;&gt;
你或许会想起，&lt;br &#x2F;&gt;
现在这首古老的歌曲，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
飘来飘去，&lt;br &#x2F;&gt;
就这么飘来飘去，&lt;br &#x2F;&gt;
我们不要一个被科学游戏，&lt;br &#x2F;&gt;
污染的天空，&lt;br &#x2F;&gt;
我们不要一个被现实生活，&lt;br &#x2F;&gt;
超越的时空，&lt;br &#x2F;&gt;
我们不要一个越来越远模糊，&lt;br &#x2F;&gt;
的水平线，&lt;br &#x2F;&gt;
我们不要一个越来越近沉默，&lt;br &#x2F;&gt;
的春天，&lt;br &#x2F;&gt;
我们不要被你们发明变成，&lt;br &#x2F;&gt;
电脑儿童，&lt;br &#x2F;&gt;
我们不要被你们忘怀变成，&lt;br &#x2F;&gt;
钥匙儿童，&lt;br &#x2F;&gt;
哦... 哦... 哦...&lt;br &#x2F;&gt;
我们需要阳光青草泥土开阔的蓝天，&lt;br &#x2F;&gt;
我们不要红色的污泥塑成红色的梦魇。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;我听着非常恍惚。&lt;&#x2F;p&gt;
&lt;p&gt;我觉得，孩童是人一生中最美好的阶段。&lt;&#x2F;p&gt;
&lt;p&gt;小时候的我想快快长大，现在的我不想长大。&lt;&#x2F;p&gt;
&lt;p&gt;从小我就被告诉我是未来的栋梁，未来的发展就靠我们了。后来才知道，就业压力紧张，社会内卷严重，能好好生活就是对社会的最大贡献了。&lt;&#x2F;p&gt;
&lt;p&gt;环境塑造人。&lt;&#x2F;p&gt;
&lt;p&gt;希望所有孩子们都可以拥有一个美好的童年。&lt;&#x2F;p&gt;
&lt;p&gt;还有一首非常有意思，&lt;code&gt;现象七十二变&lt;&#x2F;code&gt;。这里给出演唱会版本歌词。&lt;&#x2F;p&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109495&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type=2&amp;id=109429&amp;auto=0&amp;height=66&quot;&gt;&lt;&#x2F;iframe&gt;
&lt;blockquote&gt;
&lt;p&gt;清清楚楚写在你的脸上 你是个道道地地聪明人，&lt;br &#x2F;&gt;
慌慌张张迈开你的脚步 你是个匆匆忙忙的现代人，&lt;br &#x2F;&gt;
岁岁年年风水都在改变 改变了你的悲哀你的笑脸，&lt;br &#x2F;&gt;
在这个五千年的悠久历史里面 成功与失败多少都有一点，&lt;br &#x2F;&gt;
有人慢慢抛开一些回忆 有人在慢慢接近一点真理，&lt;br &#x2F;&gt;
有人在爱丽丝的仙境闲逛 有人学国王穿着新衣裳，&lt;br &#x2F;&gt;
有人默默耕耘默默从事 有人在过着他的太平日子，&lt;br &#x2F;&gt;
有人在大白天里彼此明争暗斗 有人在黑夜之中枪杀歌手，&lt;br &#x2F;&gt;
一年过了又是新的一年 每一年现代都在传统边缘，&lt;br &#x2F;&gt;
在每个新的一年三百六十五天 每天进步一点点，&lt;br &#x2F;&gt;
眼看着高楼盖得越来越高 我们的人情味却越来越薄，&lt;br &#x2F;&gt;
朋友之间越来越有礼貌 只因为大家见面越来越少，&lt;br &#x2F;&gt;
苹果价钱卖得没以前高 或许现在味道变得不好，&lt;br &#x2F;&gt;
就像彩色的电视变得更加花哨 能辨别黑白的人越来越少，&lt;br &#x2F;&gt;
道貌岸然挂在你的脸上 满脸是装腔作势一表仁慈，&lt;br &#x2F;&gt;
倚老卖老告诉大家你是 可敬的忠贞不二爱国份子，&lt;br &#x2F;&gt;
嘴里说的永远都是一套 做的事天地良心自己知道，&lt;br &#x2F;&gt;
假如你真的认为自己不可一世 为何不回家好好照照镜子，&lt;br &#x2F;&gt;
一年过了又是新的一年 每一年现代都在传统边缘，&lt;br &#x2F;&gt;
在每个新的一年三百六十五天 每天进步一点点，&lt;br &#x2F;&gt;
现实生活不能等待奇迹 这是个非常简单的道理，&lt;br &#x2F;&gt;
如果真要生存非常容易 只要你对人保持一点距离，&lt;br &#x2F;&gt;
但是生活不能像在演戏 你戴着面具如何面对自己，&lt;br &#x2F;&gt;
或许你将会真的发现一些奇迹 只要你抛开一些面子问题，&lt;br &#x2F;&gt;
或许你将会真的发现一些奇迹，&lt;br &#x2F;&gt;
只要你抛开一些面子问题。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;我觉得，这首在80年代讽刺台湾社会的歌，在今天的世界上仍不过时。&lt;&#x2F;p&gt;
&lt;p&gt;生活中充斥着人情事故，就像是有人的地方就会有人情事故。&lt;&#x2F;p&gt;
&lt;p&gt;在这张网中，我们像是渐渐被缠住，陷入人情社会。&lt;&#x2F;p&gt;
&lt;p&gt;在我听工业金属(也可以说是伪金属)最癫狂的那段时间，我会觉得罗大佑没有力量，写一写简简单单的词，谱一谱轻轻柔柔的曲。只知道童年，光阴的故事是经典老歌得尊重一下。这个华语音乐教父之名，远比不如什么玛丽莲曼森，演唱会手撕圣经来的猛。&lt;&#x2F;p&gt;
&lt;p&gt;现在步入中年，只觉得这简简单单的词，轻轻柔柔的曲，才是最有力量的。现代的摇滚，商业化起来了，独立乐队遍地开花，风格各式多样，多元化的发展让我眼花缭乱。这是好事，我也爱听。但有时听累了，比较茫然的时候，我很庆幸，可以有罗大佑作为我独特的音乐避风港。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;fu-2015nian-luo-da-you-jie-shou-cai-fang-de-bu-fen-wen-zi-ji-lu&quot;&gt;附2015年罗大佑接受采访的部分文字记录。&lt;&#x2F;h1&gt;
&lt;blockquote&gt;
&lt;p&gt;问:时代变迁，曾经的辉煌已逝，在这个科技快速发展的年代，经典再难觅。一个个偶像在被娱乐放大化的环境里失去神秘感，逐渐崩塌。面对改变，罗大佑审视着他所经历的每一个时代。也一针见血地提醒着，每一个年轻人，不做随波逐流的粉末。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;答:我想在我们创作的那个年代，比如说从80年代，70年代，80年代，大概会比较人文一点。所谓的人文就是嗯...那时候身体用手跟脑筋，跟别人，别的音乐人中间的互动会多很多，机器跟电脑会用的蛮少的。我们那时候蛮明显感觉到...就比如说写文章好了，那个时代的笔，不管是铅笔还是原子笔，甚至钢笔跟纸张，应该都会多蛮多的吧。现在大家都是用，应该是用手机或者是电脑来写文章比较多吧。差别应该就是这样子，比如现在玩乐器应该也是电脑，或是电子琴录音的这方面的机器多很多。那当然都是音乐，不过我总觉得机器或是电脑介入到音乐界多很多这样子。电脑当然可以帮你做音乐，但是电脑帮你做音乐多了以后，我们人会变得懒惰。我们刚才还在聊，这个东西多了以后，你就:啊，现在下载很多，现在我们这个市场被下载的音乐侵犯了，我们现在好像活不下去了。我就讲，不对呀，狗屁。以前没有推销的时候，人家还不是照样在作曲，做的比我们还好，怎么会这样子。对，以前的音乐写的很好听啊，否则那些摇篮曲是怎么写出来的，传唱到现在勃拉姆斯的两百多年了，现在人怎么都写不出来。懒嘛，就因为靠机器靠惯了，然后靠销售，靠黑胶唱片靠什么靠惯了。要靠脑筋我觉得。一下载你就不行了，那基本上这样的人，都没有资格进到音乐圈的我觉得。&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;问:即使无数业内人高呼着，音乐已死，而这个行业，每天都有新人赴汤蹈火的进入，每天也有人无法适应游戏规则没淘汰。在罗大佑看来，在60岁的年纪，能够继续做热爱的音乐，每一天都像活在起跑线上，随时准备出发。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;答:我觉得音乐是不会死的，有人在的地方就会有人唱歌，就会有人写歌，音乐是不会死的，是音乐网络市场已死，音乐的什么东西已死，我是觉得可能的。但是有人在的地方就会有音乐嘛。这个音乐是不是够活络，是不是被一些够健康的音乐人写出来。这个就要去观察。但音乐人的这种营养，他自己的这个创作力，是不是够坚强。他自己对做音乐这件事情，是不是够坚持，我觉得这个是最重要的。音乐人之间是不是能够更健康的互相支持，他自己是不是能够更坚定的守在自己的岗位上，彼此帮忙音乐人，这个我觉得是最重要的。倒也不是只有一个原因，我刚刚讲过，我们就不断地得给自己在不同的阶段一些不同的使命。二十多岁有二十多岁该写的歌，三十多岁有三十多岁该写的歌。我觉得你刚才讲说年轻人觉得音乐已死，那我现在六十多岁我告诉你，音乐还没死，是你们自己心已死，你自己根本就没志气。我罗大佑在这个年纪就告诉你们，音乐都还没死，我都还在写歌，现在还在起跑点，你都已经放弃的话，你们太没志气了。可以做的事情很多嘛。&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>搭建泰拉瑞亚Tshock服务器(强制开荒)</title>
        <published>2023-11-24T00:00:00+00:00</published>
        <updated>2023-11-24T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/build-terraria-tshock/"/>
        <id>https://blog.0pt.icu/posts/server/build-terraria-tshock/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/build-terraria-tshock/">&lt;h1 id=&quot;da-jian-tai-la-rui-ya-tshockfu-wu-qi-qiang-zhi-kai-huang&quot;&gt;搭建泰拉瑞亚Tshock服务器(强制开荒)&lt;&#x2F;h1&gt;
&lt;p&gt;2023-11-24&lt;&#x2F;p&gt;
&lt;h1 id=&quot;huan-jing&quot;&gt;环境&lt;&#x2F;h1&gt;
&lt;p&gt;Debian12&lt;&#x2F;p&gt;
&lt;h1 id=&quot;an-zhuang-docker&quot;&gt;安装docker&lt;&#x2F;h1&gt;
&lt;p&gt;官方安装教程 https:&#x2F;&#x2F;docs.docker.com&#x2F;engine&#x2F;install&#x2F;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Add Docker&amp;#39;s official GPG key:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt-get update
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt-get install ca-certificates curl
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; install&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -m&lt;&#x2F;span&gt;&lt;span&gt; 0755&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -d&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;apt&#x2F;keyrings
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; curl&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -fsSL&lt;&#x2F;span&gt;&lt;span&gt; https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian&#x2F;gpg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -o&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; chmod a+r &#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# Add the repository to Apt sources:
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;deb [arch=$&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;dpkg&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --print-architecture&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt; signed-by=&#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;debian &lt;&#x2F;span&gt;&lt;span style=&quot;color:#95e6cb;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;  $&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt; &#x2F;etc&#x2F;os-release &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;echo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;$&lt;&#x2F;span&gt;&lt;span&gt;VERSION_CODENAME&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt; stable&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ccc9c2cc;&quot;&gt;\
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;dev&#x2F;null
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span&gt; apt-get update
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;bu-shu-jing-xiang&quot;&gt;部署镜像&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;la-qu-jing-xiang&quot;&gt;拉取镜像&lt;&#x2F;h2&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; pull ryshe&#x2F;terraria
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;yun-xing-rong-qi&quot;&gt;运行容器&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;chuang-jian-yi-ge-shi-jie&quot;&gt;创建一个世界&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -it -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --rm -v &lt;&#x2F;span&gt;&lt;span&gt;$HOME&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里的 &lt;code&gt;$HOME&lt;&#x2F;code&gt; 指的是你当前所在目录。也可以指定一个想要存放游戏文件的目录。&lt;&#x2F;p&gt;
&lt;p&gt;比如我的目录是&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;terraria&#x2F;_data&lt;&#x2F;p&gt;
&lt;p&gt;所以我的命令是&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -it -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --rm -v&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;terraria&#x2F;_data&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;执行后会出现服务器的界面&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;game&#x2F;built-tr&#x2F;1-1.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;接下来根据提示，创建一个世界。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;game&#x2F;built-tr&#x2F;1-2.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;创建完了。&lt;&#x2F;p&gt;
&lt;p&gt;这个时候先可以退出ssh。&lt;&#x2F;p&gt;
&lt;h3 id=&quot;pei-zhi-tshockqiang-zhi-kai-huang&quot;&gt;配置Tshock强制开荒&lt;&#x2F;h3&gt;
&lt;p&gt;在刚才的&lt;code&gt;$HOME&#x2F;terraria&#x2F;world&lt;&#x2F;code&gt;目录下，找到配置文件&lt;code&gt;config.json&lt;&#x2F;code&gt;和&lt;code&gt;sscconfig.json&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;game&#x2F;built-tr&#x2F;1-3.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这是tshock的配置文件，可以参考下面我的配置文件进行更改。&lt;&#x2F;p&gt;
&lt;p&gt;对于&lt;code&gt;config.json&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;config.json&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-config.json &quot;&gt;&lt;code class=&quot;language-config.json&quot; data-lang=&quot;config.json&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;Settings&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerPassword&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; 服务器密码
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerPort&amp;quot;: 7777,  &#x2F;&#x2F; 服务器端口
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxSlots&amp;quot;: 8,  &#x2F;&#x2F; 最大玩家槽位
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ReservedSlots&amp;quot;: 20,  &#x2F;&#x2F; 预留槽位
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerName&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; 服务器名称
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;UseServerName&amp;quot;: false,  &#x2F;&#x2F; 使用服务器名称
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;LogPath&amp;quot;: &amp;quot;tshock&#x2F;logs&amp;quot;,  &#x2F;&#x2F; 日志路径
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DebugLogs&amp;quot;: false,  &#x2F;&#x2F; 调试日志
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableLoginBeforeJoin&amp;quot;: false,  &#x2F;&#x2F; 加入前禁止登录
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;IgnoreChestStacksOnLoad&amp;quot;: false,  &#x2F;&#x2F; 加载时忽略储物箱叠放
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;WorldTileProvider&amp;quot;: &amp;quot;default&amp;quot;, 
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AutoSave&amp;quot;: true,  &#x2F;&#x2F; 自动保存
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AnnounceSave&amp;quot;: true,  &#x2F;&#x2F; 保存时公告
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ShowBackupAutosaveMessages&amp;quot;: true,  &#x2F;&#x2F; 显示备份和自动保存信息
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BackupInterval&amp;quot;: 10,  &#x2F;&#x2F; 备份间隔
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BackupKeepFor&amp;quot;: 240,  &#x2F;&#x2F; 保留备份时间
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SaveWorldOnCrash&amp;quot;: true,  &#x2F;&#x2F; 崩溃时保存世界
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SaveWorldOnLastPlayerExit&amp;quot;: true,  &#x2F;&#x2F; 最后一个玩家退出时保存世界
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;InvasionMultiplier&amp;quot;: 1,  &#x2F;&#x2F; 入侵倍增器
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DefaultMaximumSpawns&amp;quot;: 5,  &#x2F;&#x2F; 默认最大生成数量
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DefaultSpawnRate&amp;quot;: 600,  &#x2F;&#x2F; 默认生成速率
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;InfiniteInvasion&amp;quot;: false,  &#x2F;&#x2F; 无限入侵
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;PvPMode&amp;quot;: &amp;quot;normal&amp;quot;,  &#x2F;&#x2F; PvP模式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SpawnProtection&amp;quot;: false,  &#x2F;&#x2F; 出生点保护
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SpawnProtectionRadius&amp;quot;: 10,  &#x2F;&#x2F; 出生点保护半径
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RangeChecks&amp;quot;: true,  &#x2F;&#x2F; 范围检查
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;HardcoreOnly&amp;quot;: false,  &#x2F;&#x2F; 仅极限模式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MediumcoreOnly&amp;quot;: false,  &#x2F;&#x2F; 仅中核模式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SoftcoreOnly&amp;quot;: false,  &#x2F;&#x2F; 仅软核模式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableBuild&amp;quot;: false,  &#x2F;&#x2F; 禁止建筑
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableHardmode&amp;quot;: false,  &#x2F;&#x2F; 禁止极限模式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableDungeonGuardian&amp;quot;: false,  &#x2F;&#x2F; 禁止地牢守卫者
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableClownBombs&amp;quot;: false,  &#x2F;&#x2F; 禁止小丑炸弹
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableSnowBalls&amp;quot;: false,  &#x2F;&#x2F; 禁止雪球
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableTombstones&amp;quot;: false,  &#x2F;&#x2F; 禁止墓碑
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisablePrimeBombs&amp;quot;: false,  &#x2F;&#x2F; 禁止机械首领炸弹
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ForceTime&amp;quot;: &amp;quot;normal&amp;quot;,  &#x2F;&#x2F; 强制时间
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableInvisPvP&amp;quot;: false,  &#x2F;&#x2F; 禁止隐形PvP
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxRangeForDisabled&amp;quot;: 10,  &#x2F;&#x2F; 禁用的最大范围
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RegionProtectChests&amp;quot;: false,  &#x2F;&#x2F; 区域保护储物箱
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RegionProtectGemLocks&amp;quot;: false,  &#x2F;&#x2F; 区域保护宝石锁
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;IgnoreProjUpdate&amp;quot;: false,  &#x2F;&#x2F; 忽略投射物更新
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;IgnoreProjKill&amp;quot;: false,  &#x2F;&#x2F; 忽略投射物击杀
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowCutTilesAndBreakables&amp;quot;: false,  
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowIce&amp;quot;: false,  &#x2F;&#x2F; 允许冰
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowCrimsonCreep&amp;quot;: true,  &#x2F;&#x2F; 允许猩红蔓延
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowCorruptionCreep&amp;quot;: true,  &#x2F;&#x2F; 允许腐化蔓延
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowHallowCreep&amp;quot;: true,  &#x2F;&#x2F; 允许神圣蔓延
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StatueSpawn200&amp;quot;: 3, 
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StatueSpawn600&amp;quot;: 6,  
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StatueSpawnWorld&amp;quot;: 10,  
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;PreventBannedItemSpawn&amp;quot;: true,  &#x2F;&#x2F; 防止被封禁物品生成
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;PreventDeadModification&amp;quot;: true,  &#x2F;&#x2F; 防止死亡修改
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;PreventInvalidPlaceStyle&amp;quot;: true,  &#x2F;&#x2F; 防止无效的放置样式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ForceXmas&amp;quot;: false,  &#x2F;&#x2F; 强制圣诞节
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ForceHalloween&amp;quot;: false,  &#x2F;&#x2F; 强制万圣节
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowAllowedGroupsToSpawnBannedItems&amp;quot;: false,  &#x2F;&#x2F; 允许有权限的组生成被封禁物品
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RespawnSeconds&amp;quot;: 15,  &#x2F;&#x2F; 重生时间（秒）
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RespawnBossSeconds&amp;quot;: 10,  &#x2F;&#x2F; Boss战重生时间（秒）
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AnonymousBossInvasions&amp;quot;: true,  &#x2F;&#x2F; 匿名Boss入侵
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxHP&amp;quot;: 500,  &#x2F;&#x2F; 最大生命值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxMP&amp;quot;: 200,  &#x2F;&#x2F; 最大魔力值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BombExplosionRadius&amp;quot;: 5,  &#x2F;&#x2F; 炸弹爆炸半径
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;GiveItemsDirectly&amp;quot;: false,  &#x2F;&#x2F; 直接给予物品
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DefaultRegistrationGroupName&amp;quot;: &amp;quot;default&amp;quot;,  &#x2F;&#x2F; 默认注册组名称
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DefaultGuestGroupName&amp;quot;: &amp;quot;guest&amp;quot;,  &#x2F;&#x2F; 默认访客组名称
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RememberLeavePos&amp;quot;: true,  &#x2F;&#x2F; 记住离开位置
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaximumLoginAttempts&amp;quot;: 10,  &#x2F;&#x2F; 最大登录尝试次数
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnMediumcoreDeath&amp;quot;: false,  &#x2F;&#x2F; 中核模式死亡踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MediumcoreKickReason&amp;quot;: &amp;quot;死亡导致踢出&amp;quot;,  &#x2F;&#x2F; 中核模式踢出原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BanOnMediumcoreDeath&amp;quot;: false,  &#x2F;&#x2F; 中核模式死亡封禁
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MediumcoreBanReason&amp;quot;: &amp;quot;死亡导致封禁&amp;quot;,  &#x2F;&#x2F; 中核模式封禁原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableDefaultIPBan&amp;quot;: false,  &#x2F;&#x2F; 禁用默认IP封禁
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;EnableWhitelist&amp;quot;: false,  &#x2F;&#x2F; 启用白名单
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;WhitelistKickReason&amp;quot;: &amp;quot;您不在白名单中。&amp;quot;,  &#x2F;&#x2F; 白名单踢出原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerFullReason&amp;quot;: &amp;quot;服务器已满&amp;quot;,  &#x2F;&#x2F; 服务器已满原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerFullNoReservedReason&amp;quot;: &amp;quot;服务器已满。没有预留槽位。&amp;quot;,  &#x2F;&#x2F; 服务器已满没有预留槽位原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnHardcoreDeath&amp;quot;: false,  &#x2F;&#x2F; 极限模式死亡踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;HardcoreKickReason&amp;quot;: &amp;quot;死亡导致踢出&amp;quot;,  &#x2F;&#x2F; 极限模式踢出原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BanOnHardcoreDeath&amp;quot;: false,  &#x2F;&#x2F; 极限模式死亡封禁
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;HardcoreBanReason&amp;quot;: &amp;quot;死亡导致封禁&amp;quot;,  &#x2F;&#x2F; 极限模式封禁原因
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickProxyUsers&amp;quot;: true,  &#x2F;&#x2F; 踢出代理用户
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RequireLogin&amp;quot;: true,  &#x2F;&#x2F; 需要登录
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowLoginAnyUsername&amp;quot;: true,  &#x2F;&#x2F; 允许任何用户名登录
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;AllowRegisterAnyUsername&amp;quot;: true,  &#x2F;&#x2F; 允许注册任何用户名
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MinimumPasswordLength&amp;quot;: 4,  &#x2F;&#x2F; 最小密码长度
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BCryptWorkFactor&amp;quot;: 7,  &#x2F;&#x2F; BCrypt工作因子
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableUUIDLogin&amp;quot;: false,  &#x2F;&#x2F; 禁用UUID登录
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickEmptyUUID&amp;quot;: false,  &#x2F;&#x2F; 踢出空UUID
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;TilePaintThreshold&amp;quot;: 15,  &#x2F;&#x2F; 瓷砖绘制阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnTilePaintThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 瓷砖绘制阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxDamage&amp;quot;: 51175,  &#x2F;&#x2F; 最大伤害
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MaxProjDamage&amp;quot;: 51175,  &#x2F;&#x2F; 最大投射物伤害
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnDamageThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 伤害阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;TileKillThreshold&amp;quot;: 1060,  &#x2F;&#x2F; 瓷砖击杀阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnTileKillThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 瓷砖击杀阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;TilePlaceThreshold&amp;quot;: 1032,  &#x2F;&#x2F; 瓷砖放置阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnTilePlaceThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 瓷砖放置阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;TileLiquidThreshold&amp;quot;: 1050,  &#x2F;&#x2F; 瓷砖液体阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnTileLiquidThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 瓷砖液体阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ProjIgnoreShrapnel&amp;quot;: true,  &#x2F;&#x2F; 投射物忽略破片
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ProjectileThreshold&amp;quot;: 1050,  &#x2F;&#x2F; 投射物阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnProjectileThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 投射物阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;HealOtherThreshold&amp;quot;: 1050,  &#x2F;&#x2F; 治愈他人阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;KickOnHealOtherThresholdBroken&amp;quot;: false,  &#x2F;&#x2F; 治愈他人阈值破坏踢出
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SuppressPermissionFailureNotices&amp;quot;: false,  &#x2F;&#x2F; 抑制权限失败通知
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableModifiedZenith&amp;quot;: false,  &#x2F;&#x2F; 禁用修改过的巅峰
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableCustomDeathMessages&amp;quot;: true,  &#x2F;&#x2F; 禁用自定义死亡消息
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;CommandSpecifier&amp;quot;: &amp;quot;&#x2F;&amp;quot;,  &#x2F;&#x2F; 命令指示符
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;CommandSilentSpecifier&amp;quot;: &amp;quot;.&amp;quot;,  &#x2F;&#x2F; 静默命令指示符
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableSpewLogs&amp;quot;: true,  &#x2F;&#x2F; 禁用喷射日志
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisableSecondUpdateLogs&amp;quot;: false,  &#x2F;&#x2F; 禁用第二次更新日志
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SuperAdminChatRGB&amp;quot;: [
&lt;&#x2F;span&gt;&lt;span&gt;      255,
&lt;&#x2F;span&gt;&lt;span&gt;      255,
&lt;&#x2F;span&gt;&lt;span&gt;      255
&lt;&#x2F;span&gt;&lt;span&gt;    ],
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SuperAdminChatPrefix&amp;quot;: &amp;quot;(超级管理员) &amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SuperAdminChatSuffix&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; 超级管理员聊天前缀和后缀
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;EnableGeoIP&amp;quot;: false,  &#x2F;&#x2F; 启用地理IP
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;DisplayIPToAdmins&amp;quot;: false,  &#x2F;&#x2F; 向管理员显示IP
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ChatFormat&amp;quot;: &amp;quot;{1}{2}{3}: {4}&amp;quot;,  &#x2F;&#x2F; 聊天格式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ChatAboveHeadsFormat&amp;quot;: &amp;quot;{2}&amp;quot;,  &#x2F;&#x2F; 头顶聊天格式
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;EnableChatAboveHeads&amp;quot;: false,  &#x2F;&#x2F; 启用头顶聊天
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;BroadcastRGB&amp;quot;: [
&lt;&#x2F;span&gt;&lt;span&gt;      127,
&lt;&#x2F;span&gt;&lt;span&gt;      255,
&lt;&#x2F;span&gt;&lt;span&gt;      212
&lt;&#x2F;span&gt;&lt;span&gt;    ],
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StorageType&amp;quot;: &amp;quot;sqlite&amp;quot;,  &#x2F;&#x2F; 存储类型
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;SqliteDBPath&amp;quot;: &amp;quot;tshock.sqlite&amp;quot;,  &#x2F;&#x2F; SQLite数据库路径
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MySqlHost&amp;quot;: &amp;quot;localhost:3306&amp;quot;,  &#x2F;&#x2F; MySQL主机
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MySqlDbName&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; MySQL数据库名称
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MySqlUsername&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; MySQL用户名
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;MySqlPassword&amp;quot;: &amp;quot;&amp;quot;,  &#x2F;&#x2F; MySQL密码
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;UseSqlLogs&amp;quot;: false,  &#x2F;&#x2F; 使用SQL日志
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RevertToTextLogsOnSqlFailures&amp;quot;: 10,  &#x2F;&#x2F; SQL失败后返回文本日志
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RestApiEnabled&amp;quot;: false,  &#x2F;&#x2F; 启用REST API
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RestApiPort&amp;quot;: 7878,  &#x2F;&#x2F; REST API端口
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;LogRest&amp;quot;: false,  &#x2F;&#x2F; 记录REST请求
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;EnableTokenEndpointAuthentication&amp;quot;: false,  &#x2F;&#x2F; 启用令牌端点身份验证
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RESTMaximumRequestsPerInterval&amp;quot;: 5,  &#x2F;&#x2F; 每个间隔的最大REST请求
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;RESTRequestBucketDecreaseIntervalMinutes&amp;quot;: 1,  &#x2F;&#x2F; REST请求桶减少间隔（分钟）
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ApplicationRestTokens&amp;quot;: {}  &#x2F;&#x2F; 应用REST令牌
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;对于&lt;code&gt;sscconfig.json&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sscconfig.json&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-sscconfig.json &quot;&gt;&lt;code class=&quot;language-sscconfig.json&quot; data-lang=&quot;sscconfig.json&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;Settings&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;Enabled&amp;quot;: true,  &#x2F;&#x2F; 强制开荒启用
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;ServerSideCharacterSave&amp;quot;: 15,  &#x2F;&#x2F; 服务器端角色保存
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;LogonDiscardThreshold&amp;quot;: 250,  &#x2F;&#x2F; 登录丢弃阈值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StartingHealth&amp;quot;: 100,  &#x2F;&#x2F; 初始生命值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StartingMana&amp;quot;: 20,  &#x2F;&#x2F; 初始法力值
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;StartingInventory&amp;quot;: [  &#x2F;&#x2F; 初始物品清单
&lt;&#x2F;span&gt;&lt;span&gt;      {
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;netID&amp;quot;: -15,  &#x2F;&#x2F; 物品ID
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;prefix&amp;quot;: 0,  &#x2F;&#x2F; 前缀
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;stack&amp;quot;: 1  &#x2F;&#x2F; 堆叠数量
&lt;&#x2F;span&gt;&lt;span&gt;      },
&lt;&#x2F;span&gt;&lt;span&gt;      {
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;netID&amp;quot;: -13,  &#x2F;&#x2F; 物品ID
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;prefix&amp;quot;: 0,  &#x2F;&#x2F; 前缀
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;stack&amp;quot;: 1  &#x2F;&#x2F; 堆叠数量
&lt;&#x2F;span&gt;&lt;span&gt;      },
&lt;&#x2F;span&gt;&lt;span&gt;      {
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;netID&amp;quot;: -16,  &#x2F;&#x2F; 物品ID
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;prefix&amp;quot;: 0,  &#x2F;&#x2F; 前缀
&lt;&#x2F;span&gt;&lt;span&gt;        &amp;quot;stack&amp;quot;: 1  &#x2F;&#x2F; 堆叠数量
&lt;&#x2F;span&gt;&lt;span&gt;      }
&lt;&#x2F;span&gt;&lt;span&gt;    ],
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;WarnPlayersAboutBypassPermission&amp;quot;: true  &#x2F;&#x2F; 警告玩家绕过权限
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;qi-dong-fu-wu-qi&quot;&gt;启动服务器&lt;&#x2F;h3&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -it --rm -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -v &lt;&#x2F;span&gt;&lt;span&gt;$HOME&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --name&lt;&#x2F;span&gt;&lt;span&gt; terraria ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;对于我来说是&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -it --rm -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -v&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;terraria&#x2F;_data&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --name&lt;&#x2F;span&gt;&lt;span&gt; terraria ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;选择你作为服务器的世界。根据提示，开启泰拉瑞亚服务器。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;game&#x2F;built-tr&#x2F;1-4.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;现在来到服务器后台了。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;guan-li-ci-bu-fen-jiao-wei-jian-lou&quot;&gt;管理（此部分较为简陋)&lt;&#x2F;h1&gt;
&lt;p&gt;在服务器后台，先给default组加权限。（default组是登录后玩家默认所在的组。）&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;&#x2F;group addperm default * !tshock.ignore.ssc
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;game&#x2F;built-tr&#x2F;1-5.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;然后可以在服务端开账号。&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#212733;color:#ccc9c2;&quot;&gt;&lt;code&gt;&lt;span&gt;&#x2F;user add name passwd default
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;name是你的名字，也是你的账号。passwd是你的密码。default是你所在组。&lt;&#x2F;p&gt;
&lt;p&gt;管理后关闭移除容器。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;hou-tai-yun-xing&quot;&gt;后台运行&lt;&#x2F;h1&gt;
&lt;p&gt;配置权限后， 将terraria后台运行&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -d -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -v &lt;&#x2F;span&gt;&lt;span&gt;$HOME&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --name&lt;&#x2F;span&gt;&lt;span&gt; terraria&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -e&lt;&#x2F;span&gt;&lt;span&gt; WORLD_FILENAME=your.wld ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;对于我来说，是&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span&gt; run&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -d -p&lt;&#x2F;span&gt;&lt;span&gt; 7777:7777&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -v&lt;&#x2F;span&gt;&lt;span&gt; &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;terraria&#x2F;_data&#x2F;terraria&#x2F;world:&#x2F;root&#x2F;.local&#x2F;share&#x2F;Terraria&#x2F;Worlds&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --name&lt;&#x2F;span&gt;&lt;span&gt; terraria&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -e&lt;&#x2F;span&gt;&lt;span&gt; WORLD_FILENAME=tuguige.wld ryshe&#x2F;terraria:latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h1 id=&quot;zhu-ce-deng-lu&quot;&gt;注册登录&lt;&#x2F;h1&gt;
&lt;p&gt;打开游戏，连接你的泰拉瑞亚服务器。如果是搭建在本地。ip是 &lt;code&gt;localhost&lt;&#x2F;code&gt; 端口 &lt;code&gt;7777&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;如果搭建在服务器，ip是你的服务器ip，端口7777，记得给服务器放行7777端口。&lt;&#x2F;p&gt;
&lt;p&gt;创建一个角色，角色名就是你的账号。&lt;&#x2F;p&gt;
&lt;p&gt;连接上服务器时，打开聊天栏，输&lt;code&gt;&#x2F;help&lt;&#x2F;code&gt;获得帮助。&lt;&#x2F;p&gt;
&lt;p&gt;如果没有账号，先注册一个 ，输&lt;code&gt;&#x2F;register passwd&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;passwd是你的密码。你的账号是用户名。&lt;&#x2F;p&gt;
&lt;p&gt;然后再&lt;code&gt;&#x2F;login passwd&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;完成。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;hou-ji&quot;&gt;后记&lt;&#x2F;h1&gt;
&lt;p&gt;对管理部分的参考。&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;www.taozi1.com&#x2F;16620.html&lt;&#x2F;p&gt;
&lt;p&gt;https:&#x2F;&#x2F;ikebukuro.tshock.co&#x2F;&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>基于Arch Linux搭建hugo博客</title>
        <published>2023-11-17T00:00:00+00:00</published>
        <updated>2023-11-17T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/server/build-hugo/"/>
        <id>https://blog.0pt.icu/posts/server/build-hugo/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/server/build-hugo/">&lt;h1 id=&quot;ji-yu-arch-linuxda-jian-hugobo-ke&quot;&gt;基于Arch Linux搭建hugo博客&lt;&#x2F;h1&gt;
&lt;p&gt;2023-11-17&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-ben-di-da-jian-hugo&quot;&gt;1.本地搭建hugo&lt;&#x2F;h1&gt;
&lt;p&gt;本篇基于的环境是arch linux。&lt;&#x2F;p&gt;
&lt;p&gt;没有安装git可以先用包管理器安装git。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;yay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;安装go语言：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;yay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; go
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;安装hugo：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;yay&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -S&lt;&#x2F;span&gt;&lt;span&gt; gohugo-extended-bin
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;创建博客文件：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo&lt;&#x2F;span&gt;&lt;span&gt; new site myblog
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;该操作会创建一个博客文件夹，并在里面生成博客文件&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;myblog&lt;&#x2F;code&gt; 可以替换成你想要的博客文件夹的名字。&lt;&#x2F;p&gt;
&lt;p&gt;进入&lt;strong&gt;博客文件夹的根目录&lt;&#x2F;strong&gt;里面。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#f28779;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span&gt; myblog
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;下载博客主题，这里选用的是&lt;code&gt;stack&lt;&#x2F;code&gt; 主题。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; clone https:&#x2F;&#x2F;github.com&#x2F;CaiJimmy&#x2F;hugo-theme-stack&#x2F; themes&#x2F;hugo-theme-stack
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将博客主题中的的&lt;code&gt;exampleSite&lt;&#x2F;code&gt; 复制到博客的根目录。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;cp&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -r&lt;&#x2F;span&gt;&lt;span&gt; themes&#x2F;hugo-theme-stack&#x2F;exampleSite&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f29e74;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; .&#x2F;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将博客原来的配置文件&lt;code&gt;hugo.toml&lt;&#x2F;code&gt;删除。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;rm&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -r&lt;&#x2F;span&gt;&lt;span&gt; hugo.toml
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;主题中的&lt;code&gt;exampleSite&lt;&#x2F;code&gt;已经给我们提供了一个配置文件&lt;code&gt;config.yaml&lt;&#x2F;code&gt;，接下来我们配置config.yaml文件。可以参考官方文档与其他人的教程来配置。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;渲染博客&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这个命令会将你更新的文章与配置文件，还有修改的前端文件，在public文件夹里面生成相应的网页文件。最后别人看到的博客其实就是public里面的文件。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;预览博客&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo&lt;&#x2F;span&gt;&lt;span&gt; server
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;1.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;现在，打开本地浏览器打开&lt;code&gt;http:&#x2F;&#x2F;localhost:1313&lt;&#x2F;code&gt; ，即可看见你的博客。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;2.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;至此本地搭建hugo完成。&lt;&#x2F;p&gt;
&lt;p&gt;在本地更新的文章与配置文件，还有修改的前端文件，之后查看效果。确认无误后，运行&lt;code&gt;hugo&lt;&#x2F;code&gt; 命令渲染生成网页文件后，我们可以开始把博客推送到托管平台上面。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;2-pei-zhi-git&quot;&gt;2.配置git&lt;&#x2F;h1&gt;
&lt;p&gt;先注册一个&lt;a href=&quot;https:&#x2F;&#x2F;github.com&quot;&gt;github&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;生成密钥，在本地运行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;ssh-keygen&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -t&lt;&#x2F;span&gt;&lt;span&gt; rsa
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;然后一路回车。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;5.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;然后根据他的默认路径（对于我来说是&lt;code&gt;&#x2F;home&#x2F;opeth&#x2F;.shh&lt;&#x2F;code&gt;）,找到&lt;code&gt;id_rsa.pub&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;文件。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;6.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;打开id_rsa.pub文件，将其中的内容全部复制。&lt;&#x2F;p&gt;
&lt;p&gt;来到&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;&quot;&gt;github&lt;&#x2F;a&gt;页面登录后。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;7.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击头像。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;8.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击设置。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;9.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击&lt;code&gt;SSH and GPG keys&lt;&#x2F;code&gt; 。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;10.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击新增SSH密钥。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;11.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;12.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;依次点击。创建一个新的仓库。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;13.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;14.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;创建成功。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;15.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击这里的SSH。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;16.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里的这一串链接既为你的&lt;code&gt;ssh连接命令&lt;&#x2F;code&gt; 。先记下来备用。&lt;&#x2F;p&gt;
&lt;p&gt;现在转战本地。&lt;&#x2F;p&gt;
&lt;p&gt;打开终端，运行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; config&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --global&lt;&#x2F;span&gt;&lt;span&gt; user.name yourName
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; config&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; --global&lt;&#x2F;span&gt;&lt;span&gt; user.email yourEmail
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;请将&lt;code&gt;yourName&lt;&#x2F;code&gt;和&lt;code&gt;yourEmail&lt;&#x2F;code&gt; 替换成你自己的github用户名和注册github的邮箱。&lt;&#x2F;p&gt;
&lt;p&gt;进入你本地的博客文件夹的根目录。&lt;&#x2F;p&gt;
&lt;p&gt;(不知道博客文件夹的根目录是什么的。请从上文中的 1.本地部署hugo的 创建博客文件 到 进入&lt;strong&gt;博客文件夹的根目录&lt;&#x2F;strong&gt; 部分里面自行理解推断。)&lt;&#x2F;p&gt;
&lt;p&gt;初始化博客文件夹为git仓库。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; init
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;3.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;将本地的&lt;code&gt;git&lt;&#x2F;code&gt;分支从&lt;code&gt;master&lt;&#x2F;code&gt;分支转变为&lt;code&gt;main&lt;&#x2F;code&gt;分支。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; branch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -m&lt;&#x2F;span&gt;&lt;span&gt; master main
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;4.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;将本地的git仓库与我们刚才在github上面创建的那个仓库连接起来。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; remote add myblog git@github.com:0pt12&#x2F;myblog.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;这里的&lt;code&gt;myblog&lt;&#x2F;code&gt; 是刚才我们在github上面创建的仓库的名字，请替换成你自己创建的仓库名字。&lt;&#x2F;p&gt;
&lt;p&gt;这里的&lt;code&gt;git@github.com:0pt12&#x2F;myblog.git&lt;&#x2F;code&gt; 是刚才我们在github上面创建的仓库的&lt;code&gt;ssh连接命令&lt;&#x2F;code&gt;，也请替换成你自己的仓库的&lt;code&gt;ssh连接命令&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;至此，配置git完成。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;3-jiang-ben-di-de-bo-ke-wen-jian-tui-song-dao-githubcang-ku&quot;&gt;3.将本地的博客文件推送到github仓库&lt;&#x2F;h1&gt;
&lt;p&gt;操作都在本地的博客文件夹的根目录下完成。&lt;&#x2F;p&gt;
&lt;p&gt;一般来说，先在本地对博客进行更改，之后先运行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将博客的更改内容渲染生成网页文件到public文件夹里面。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;17.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;然后执行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; add .
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;#注意后面有一个点
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; commit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;Your commit message&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;#这里引号里面的内容相当于注释，可以写这次更新的内容
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; myblog main
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5c6773;&quot;&gt;# myblog 是我的刚才创建的github上面仓库的名字，请自行替换
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;18.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;19.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;推送完成，我们去github上面的这个仓库看看。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;20.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;刚才空空如也的仓库里面出现了我们本地推送上去的东西。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;4-jiang-wo-men-bo-ke-de-githubcang-ku-yu-tuo-guan-ping-tai-lian-jie&quot;&gt;4.将我们博客的github仓库与托管平台连接&lt;&#x2F;h1&gt;
&lt;p&gt;这里，我们选用的托管平台是&lt;a href=&quot;https:&#x2F;&#x2F;www.4everland.org&#x2F;&quot;&gt;4everland&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点开这个连接&lt;a href=&quot;https:&#x2F;&#x2F;www.4everland.org&#x2F;&quot;&gt;4everland&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;21.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;22.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这是用你的github账号去注册。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;23.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;24.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里刚注册就叫你花钱升级，直接给他放弃。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;25.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;26.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;27.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;然后4everland就可以识别你的github里面的仓库了。选择我们刚才创建的博客的仓库，点击导入。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;28.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;29.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;30.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;31.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;32.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;等待部署完成。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;33.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里提示我们部署成功了。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;34.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击访问详情页。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;35.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h1 id=&quot;5-tian-jia-yu-ming-xu-yao-ni-you-yu-ming&quot;&gt;5.添加域名（需要你有域名）&lt;&#x2F;h1&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;36.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;37.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;38.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里提示我们域名未生效，需要添加一下CNAME记录，目标也给出了。&lt;&#x2F;p&gt;
&lt;p&gt;转到我们托管直接域名的平台，添加一个CNAME记录。我使用的是Cloudflare，其他平台也同理。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;39.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;40.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;添加完成，返回4everland。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;41.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;等待一会。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;42.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里域名也可以了，现在可以通过访问&lt;a href=&quot;https:&#x2F;&#x2F;myblog.0pt.icu%E6%9D%A5%E8%AE%BF%E9%97%AE%E5%8D%9A%E5%AE%A2%E4%BA%86%E3%80%82&quot;&gt;https:&#x2F;&#x2F;myblog.0pt.icu来访问博客了。&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.0pt.icu&#x2F;posts&#x2F;server&#x2F;build-hugo&#x2F;%5Bhttps:&#x2F;&#x2F;myblog.0pt.icu%5D(https:&#x2F;&#x2F;myblog.0pt.icu)&quot;&gt;myblog&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;build-hugo&#x2F;43.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;成功！&lt;&#x2F;p&gt;
&lt;h1 id=&quot;6-hou-xu&quot;&gt;6.后续&lt;&#x2F;h1&gt;
&lt;p&gt;之后你每次更新博客，现在本地更改，通过：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo&lt;&#x2F;span&gt;&lt;span&gt; server&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -D
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;访问 &lt;a href=&quot;http:&#x2F;&#x2F;localhost:1313&quot;&gt;http:&#x2F;&#x2F;localhost:1313&lt;&#x2F;a&gt; 查看效果。&lt;&#x2F;p&gt;
&lt;p&gt;然后运行：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;hugo
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;渲染成网页文件到public文件夹。&lt;&#x2F;p&gt;
&lt;p&gt;再通过：&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#212733;color:#ccc9c2;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; add .
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; commit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bae67e;&quot;&gt;&amp;quot;Your commit message&amp;quot;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffd580;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span&gt; push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffcc66;&quot;&gt; -f&lt;&#x2F;span&gt;&lt;span&gt; myblog main
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;将本地更新内容推送到github仓库上。&lt;&#x2F;p&gt;
&lt;p&gt;当github仓库发生变化时，托管平台会自动检测到变化，并自动重新部署，将更新内容同步到网络上，让其他人可以看到。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;7-ming-xie&quot;&gt;7.鸣谢&lt;&#x2F;h1&gt;
&lt;p&gt;感谢&lt;a href=&quot;https:&#x2F;&#x2F;yon.im&quot;&gt;Yon Zilch&lt;&#x2F;a&gt; 提供的方案。&lt;&#x2F;p&gt;
&lt;p&gt;感谢&lt;a href=&quot;https:&#x2F;&#x2F;purkit.lockey.icu&#x2F;&quot;&gt;Purkit&lt;&#x2F;a&gt; 提供的[教程](&lt;a href=&quot;https:&#x2F;&#x2F;purkit.lockey.icu&#x2F;2022&#x2F;11&#x2F;11&#x2F;hello-hugo&#x2F;&quot;&gt;Ubuntu平台下使用Vercel+Hugo搭建静态博客 | Purkit&#x27;s Blog&lt;&#x2F;a&gt;) 。&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>记我的听歌历程</title>
        <published>2023-09-25T00:00:00+00:00</published>
        <updated>2023-09-25T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/think/music-history/"/>
        <id>https://blog.0pt.icu/posts/think/music-history/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/think/music-history/">&lt;h1 id=&quot;ji-wo-de-ting-ge-li-cheng&quot;&gt;记我的听歌历程&lt;&#x2F;h1&gt;
&lt;p&gt;2023-09-25&lt;&#x2F;p&gt;
&lt;p&gt;我的听歌历程，大致回忆，想什么就写什么。很多地方表述不当，还请见谅。&lt;&#x2F;p&gt;
&lt;p&gt;我很小的时候，喜欢听凤凰传奇。刚上小学的时候，喜欢听周杰伦。每次追电视上放的好声音，都带有朴素的情感，总是希望周杰伦赢。（应该是好声音第四季，张磊的民谣直接封神）。到了大概6年级，我听到了Beyond的《光辉岁月》。虽然以前也听过，只觉得这首歌非常熟悉，但是那一次突发奇想，对Beyond来了兴趣。于是去搜，发现了《海阔天空》，《不再犹豫》，《真的爱你》，《冷雨夜》，《大地》这一系列金曲。全部出自这一个乐队。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-1.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-2.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左《乐与怒》专辑封面，右是Beyond四子时期的照片·&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;慢慢的，我已经不满足于听这些已经烂熟的歌，于是开始从Beyond第一张专辑《永远等待》开始听（虽然那个时候也不太听的明白Beyond早期作品）。后面了解Beyond的历史，黄家驹才华横溢却英年早逝。（印象很深的是一个MV，1993年，马来西亚不插电演唱会上，家驹食言了。泪目了当时。）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-3.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;  黄家驹在演唱会结束时&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;  寒假，我看完了Beyond1991生命接触演唱会（家驹金属狂人的裸衣奔跑）和Beyond2005告别演唱会（快结束的时候忍不住哭了，泪奔）。&lt;&#x2F;p&gt;
&lt;p&gt;    Beyond对我意义重大，不仅是歌曲中积极的元素传达给我，还对我的听歌方向产生重大影响。 （摇滚的启蒙，老歌的导师）&lt;&#x2F;p&gt;
&lt;p&gt;由于beyond是个香港乐队，出名的歌大部分是粤语金曲，所以自然而然去听一些香港金曲，后面扩展为港台金曲。&lt;&#x2F;p&gt;
&lt;p&gt;    这个时候，听的就不太深入了，大多是把一些熟悉的老歌听了遍，说几首对我而言比较深刻的歌。张国荣的春夏秋冬，Monica，梅艳芳的女人花，似是故人来（后面才知道这歌是罗大佑写的曲子），林子祥的男儿当自强，敢爱敢做，还有十分十二寸（当时最喜欢的现场1985年香港年度金曲颁奖典礼），四大天王的热歌。&lt;&#x2F;p&gt;
&lt;p&gt;    但是台湾那边听的少，华裔歌手也基本没听。像周杰伦，林俊杰，邓紫棋等。&lt;&#x2F;p&gt;
&lt;p&gt;    有一个印象很深的是台湾的王杰。这个就厉害了。先是听了他几首出名的歌。被他独特的嗓音和浪子情怀吸引了。而且，在之后听歌进入重金属时期，唯一能听的下去的港台明星就只有王杰了。（何曾想到，在高考完后的一段时间天天听这个。一场游戏一场梦，忘了你忘了我，有一个比较有冲劲的歌叫人在风雨中。）&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-4.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th style=&quot;text-align: center&quot;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-5.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;   王杰 及其年轻的王杰&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;可以看出，本人听的基本是80年代到90年代居多。而且了解是比较贫乏的。&lt;&#x2F;p&gt;
&lt;p&gt;    直到初一的时候，酷狗音乐当时不知道怎么给我推歌，给我整了一个Rammstein（德国战车）的eifersucht(吃醋)。刚开始听被吓到了。赶紧切到港台金曲。然后又突然很想听，又在听歌记录里翻出eifersucht。然后又被吓出来切歌。就这么往复几次，然后就被其中机械阴冷的风格，重复硬朗的节奏(有个戏称叫弹钢筋)深深吸引了。于是入坑工业金属。这是第一个我把全部专辑从头听到尾的乐队。&lt;&#x2F;p&gt;
&lt;p&gt;比较上头的是第一专辑《Herzeleid》，第二张专辑《Sehnsucht》，第三张专辑《Mutter》，第四张专辑《Reise，Reise》的所有歌，后面几张也是慢慢上头的，一句话，我非常喜欢Rammstein。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-6.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;《Herzeleid》部分封面&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    既然接触了Rammstein，那么不可避免的接触到戏称为伪金属迷最喜欢的Marilyn Manson（玛丽莲曼森）。这个也是重量级，this is new  shit的听感，颇有听eifersucht的感觉，果断入坑。Manson非常摇滚，非常金属，奇异的装扮，叛经离道的态度与行为。（基督教貌似在西方国家还是有很大影响力，反基督确实哈人，但我是无神论。）  我听了他比较前面几张专辑，第一张《Portrait Of An American Family》。还有经典翻唱sweet dreams（mv里非常抽象，我觉得太强了）。后面《Antichrist Superstar》，《Mechanical Animals》,《Holy Wood》,《The Golden Age Of Grotesque 》。都太强了，一度成为我对摇滚明星的定义（Bavid Bowie，Iggy Pop当时还不知道，都是重量级）。在初二寒假，那时我也比较抽象，每天早上6点爬起来写作业（超前做作业），必拿着当时一个破的杂牌手机在我的房间外放Marilyn Manson。放一整天。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-7.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;  marilyn manson &lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;当然，Slipknot（活结）也是一个伪金属迷的必要修养。但是这个听的就比较浅了。只听了几首出名的歌，可能是我更喜欢工业金属吧。&lt;&#x2F;p&gt;
&lt;p&gt;    题外话，在这段时间里，我也开始听洛天依。2018年中国好声音，初选，有个打包安琪的组合（重金属的嘶吼的黄安琪后面应该是往金属发展了，而偏甜美人声的刘安琪往歌手发展，但最后有了一个国风摇滚乐队，四喜丸子），翻唱了一首洛天依的权御天下。确实感觉很好，在经过我的所谓伪金属鄙视链(瞧不起其他音乐)，我最终还是放弃挣扎，开始听洛天依。还有言和，乐正绫等。也仅限于此。&lt;&#x2F;p&gt;
&lt;p&gt;    至此，我对中国摇滚的认知为零（汪峰算不算?当时被营销号带节奏，感觉汪峰不行，但是后面听鲍家街34号和汪峰，感觉他非常行）。&lt;&#x2F;p&gt;
&lt;p&gt;    2019年，乐队的夏天第一季横空出世。这个算是我的中国摇滚启蒙了。我从家里电视上的广告了解到这个综艺，引起了我的兴趣。我看了前面几期，后面决赛因为学业没空看，但是了解到新裤子乐队拿了冠军（后面主唱彭磊在乐夏第三季已经成为超级乐迷了）。初看的时候，总是觉得还是工业金属牛，这都是啥跟啥啊。但是后面渐渐觉得其实还是可以听下去的。我认识了许多优秀的乐队，像新裤子，刺猬，痛仰（第一张专辑太猛了）等，还有那一季没上乐夏的二手玫瑰，后海大鲨鱼，还有谢天笑，还去听了一些比较小众的乐队。&lt;&#x2F;p&gt;
&lt;p&gt;    我其实没有认真去听这些乐队的歌，只是去听一听他们的热门歌曲，顺便再去往前翻他们之前有没有让我感兴趣的专辑。但是最重要的是音乐观念上的转变，从之前的工业金属至上到对摇滚的开放态度（总的还是偏摇滚）。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-8.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-9.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-10.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-11.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;  左上：新裤子《龙虎人丹》    右上：刺猬《白日梦蓝》&lt;&#x2F;p&gt;
&lt;p&gt;左下：痛痒《这是个问题》    右下：谢天笑《冷血动物》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    然后，疫情来了。&lt;&#x2F;p&gt;
&lt;p&gt;    在家摸鱼，自然有非常多的时间去做喜欢的事 去发掘音乐。&lt;&#x2F;p&gt;
&lt;p&gt;    首先是魔岩三杰。经常看见网上懂哥诉说这三人的传说，中国摇滚乐的巅峰。&lt;&#x2F;p&gt;
&lt;p&gt;    窦唯，我听了前3个专辑，《黑梦》，《艳阳天》，《山河水》。《黑梦》里 噢，乖 非常有感触，其他没听出什么感触。《艳阳天》里的词拿去写作文了，但是也没听出什么感触。《山河水》应该是我当时最喜欢的窦唯的专辑（后面最喜欢的是《雨吁》）。非常喜欢这种用非中国传统乐曲来营造一种中国式浪漫空灵的氛围。（高考后回听感觉《黑梦》与《艳阳天》都非常顶。黑梦非常独特，有态度有力量，如梦中的，不是那种甜美，柔软，飘飘然的梦，是黑梦，实验性与音乐性并存。艳阳天的听感更加柔和自然，艳阳天里懒洋洋的意境。）（形容不出来了，以后想到了补上。）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-12.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-13.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-14.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-15.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-16.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左上：《黑梦》  右上：《艳阳天》  左下：《山河水》  右下：《雨吁》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    何勇的麒麟日记，俩版垃圾场都很猛。何勇的歌正如他在采访时说的，麒麟，没有一个固定的风格。声音里有力量。钟鼓楼，头上的包，还有幽灵，我比较喜欢。垃圾场振聋发聩。（有没有希望?）&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-17.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-18.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;下：《垃圾场》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    张楚是一个特殊的摇滚音乐人。他的词非常质朴动人。声音也像他的词。他更是一个诗人，气质与窦唯的高冷，何勇的猛，形成鲜明对比。2张专辑（其实前面还有一张，还没听惯），扎根于社会生活，默默展现批评与生命的力量。在台上唱歌也是喜欢安静站或坐着唱。我较为喜欢的是孤独的人是可耻的，姐姐，厕所和床，造飞机的工厂。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-19.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-20.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;《孤独的人是可耻的》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-21.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;《造飞机的工厂》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;然后是伍佰。开始是把他当做回忆台湾老歌来听，因为他有一些非常经典流行的作品。之后由于乐夏的影响，发现伍佰还有一个IP是伍佰&amp;amp;China&#x27;s blue。是个乐队。于是开始翻伍佰的专辑。抛去前3专（《爱上别人是快乐的事》当时不知道，这个也好，爱情的尽头与浪人情歌当时不是很喜欢）。我从《树枝孤鸟》开始听，初听其实听不惯，最终还是像之前听工业金属一样，又或者处在闽语区，对这种语言有着天生的熟悉。借着这个劲，我将伍佰的所以专辑都听了，他即写出了许多流行经典，又有许多自己的巧妙构思，做过许多不同风格，骨子里是浓浓的台语摇滚。最喜欢的一定是钉子花那张专辑（个人认为是伍佰最好的专辑，充满乡土人文情怀）。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-22.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-23.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-24.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左：《树枝孤鸟》    右：《钉子花》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    再者就是万能青年旅店，草东没有派对。他们很火，想不知道都难。我认为现在中国的新乐队都受到或多或少的这俩个乐队的影响。专辑都很好。&lt;&#x2F;p&gt;
&lt;p&gt;    此外是在其他金属方面的探索，激流金属，工业金属，激流金属，力量金属，新金属，死亡金属（重量级），黑金属等。&lt;&#x2F;p&gt;
&lt;p&gt;    比较认真听的一个是Opeth（月亮之城）。第一次听到一首歌10分钟左右。而且一张专辑里还几首这样的歌。歌词与歌曲意境很匹配（据说歌词是主唱乱写的），编曲很有美感。可听性很强。主唱是个锐评哥。反正给我是大受震撼。前几张专辑都很不错，最喜欢《Damnation》和《Blackwater Park》。我的网名出于此，直接用他们的名字。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-25.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-26.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-27.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左：《Damnation》    右：《Blackwater Park》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;   还有一个是Alcest，这个是之前刷百度了解到的乐队。不好定义风格，自赏黑，黑金属，盯鞋等，音乐听起来就像美好的小精灵穿梭于黯淡的森林之中，治愈，奇幻，优美，听不腻。每首歌我觉得都好听。我社交媒体的头像之前出于此，拿他们的照片。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-28.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-29.jpg&quot; alt=&quot;&quot; &#x2F;&gt;1 Souvenirs d&#x27;un autre monde&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-30.jpg&quot; alt=&quot;&quot; &#x2F;&gt;2  Écailles de lune&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-31.jpg&quot; alt=&quot;&quot; &#x2F;&gt;3 Les voyages de l&#x27;âme&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-32.jpg&quot; alt=&quot;&quot; &#x2F;&gt;4 Shelter&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-33.jpg&quot; alt=&quot;&quot; &#x2F;&gt;5 Kodama&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-34.jpg&quot; alt=&quot;&quot; &#x2F;&gt;6 Spiritual Instinct&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;  最后，逐渐了解一些知名国外乐队以及他们的名曲。&lt;&#x2F;p&gt;
&lt;p&gt;    疫情期间，我做作业的时候被伍佰的《梦的河流》这张专辑里的一首歌，暴雨洗脑了。休息的时候我会坐在我家的窗边，阳光照进来，身上暖洋洋的，喜欢放橘子海的歌，让自己去到心中的那片海。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-36.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;    那年乐队的夏天2如约而至。借着这阵风，我又接触了一波中国乐队，到高一为止，海朋森，蛙池，回春丹，刘森等，这段时间喜欢比较批评文艺网红的。&lt;&#x2F;p&gt;
&lt;p&gt;    高二的时候，主要是继承之前的听歌风格了。但是比较文艺复兴。&lt;&#x2F;p&gt;
&lt;p&gt;    重听beyond。再听beyond早期的专辑与三子时期的专辑。感觉许多东西都听明白了。最喜欢应该是《亚拉伯罕跳舞女郎》。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-35.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;    再听窦唯，主要发现了《雨吁》这张专辑，词的虚化，意境的构造，给人一种中国风的感觉。还有《殃金咒》，长达40几分钟的死亡金属。&lt;&#x2F;p&gt;
&lt;p&gt;    再听刘森，把刘森的几个小号（小号和分身是真的多）都拿出来听。刘森给人一种县城文艺青年的感觉，有理想，有烟火。&lt;&#x2F;p&gt;
&lt;p&gt;    高三上学期，学习上比较抑郁，整个人也比较抑郁。这时候开始听起后朋。&lt;&#x2F;p&gt;
&lt;p&gt;    最开始听的是来自白俄罗斯的后朋，Molchat Doma。Судно (Борис Рыжий)（夜壶（鲍里斯.里日））确实哈人，机械的鼓机，冰冷的吉他，不带一点感情的演唱，高级黑暗的歌词，来自最后一个苏联诗人Борис Рыжий（ 鲍里斯.里日）。在致郁方面只能说是太得劲了。在考差了的那个下午，回到家，面对稀稀拉拉的车流，小河也在慢慢流淌。要日落，于是天阴沉沉的。我靠在窗台上，透过由铁栏杆制成的防盗网里面看外面。插上耳机，循环播放这首歌。脑袋里面也止不住的胡思乱想。&lt;&#x2F;p&gt;
&lt;p&gt;（以上是错误的生活态度，别学。）&lt;&#x2F;p&gt;
&lt;p&gt;  回到Molchat Doma本身，这个乐队的专辑封面采样于在苏联控制或影响下的宏伟建筑。这些建筑体现了苏联独特的美学，野兽派风格。不禁令人遐想起曾经的那个红色巨人的强大壮观，而如今物是人非，一种悲伤之感油然而生。歌曲本身带有的致郁情绪，令人伤感。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-37.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-38.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-39.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-40.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;1  С крыш наших домов（从我们的屋顶）                                封面是朝鲜平壤的柳京饭店，出于竞赛目的吸引外资建设的摩天大楼，曾有“世界最高空置建筑”的吉尼斯纪录。&lt;&#x2F;th&gt;&lt;th&gt;2  Этажи（地板）    封面是粗野主义的代表，1970年代， 捷克斯洛伐克的酒店Panorama&lt;&#x2F;th&gt;&lt;th&gt;3  Монумент（纪念碑）              封面是平壤建党纪念塔，浮雕“朝鲜人民一切胜利的组织者和向导者朝鲜劳动党万岁！”字样，塔身由象征朝鲜劳动党组成部分的工人、农民和知识分子攥紧的锤子、镰刀和毛笔组成。&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;   其他的俄式后朋，处在后苏联地区下，听起来也是伤感。编曲简单，不断重复，听多了确实也腻了。但是我不是很喜欢其他语种的后朋，只有俄式后朋才能听的到某种特殊的感觉。&lt;&#x2F;p&gt;
&lt;p&gt;    然而，后朋不应该只是网抑云。它更是一种对自我的反思，与朋克不同的一种内敛的形式。&lt;&#x2F;p&gt;
&lt;p&gt;    之后在某些后朋歌单，我接触了苏联摇滚教父Виктор Цой（维克多.崔）。他的乐队叫做Кино（电影）。他的音乐很独特，成长于苏联的地下环境，赶上了戈尔巴乔夫的错误改革，地下摇滚之声走上台前。歌曲中自省，向上的元素，深深感染了我。初听也是不太习惯，俄语太拗口了，但是后面反复去听几次，也就习惯了，他的音乐把我从一味的悲伤拽出来，并深刻理解后朋克。遗憾的是，1990年8月15日，他因一场意外的车祸去世。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-41.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-42.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左： Кино乐队    右：维克多.崔&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    在高三寒假，我突然想听听老歌怀怀旧。听起罗大佑的经典歌曲，那是他的第一张专辑《之乎者也》（1982年，太厉害了）里的。于是饶有兴致开听，直接被 之乎者也 （这是专辑里的一首同名歌）深深折服了，之前初中在重金属听的最凶的时候也听过 之乎者也 。但是那时见识短浅，觉得这唱的是什么垃圾，没有重金属带劲。但这次听，却有一种沉闷的力量，所谓歌曲者，是否如此也。专辑内，一首乡愁四韵，一首错误，让我领悟到了不一样的东西。原来歌曲可以这样的丰富，诗意。鹿港小镇，听多少次还是一样的震撼。何为好，何为不好，何为故土，何为乡情，罗大佑的铜锣嗓，独特的嗓音十分契合了他的歌曲。我将他所以的专辑一一听过，每首歌都在贯彻他的理念，言之有物。我明白了，他为何被冠以教父之名，他的歌放在今天也不会过时。我喜欢的专辑是《之乎者也》，和《原乡》。《原乡》是罗大佑中国三部曲中最后一部曲（第一部《皇后大道东》，第二部《首都》），熟悉闽南话传递出多少代中国人不变的乡土之情。而且，罗大佑也深刻影响了我的听歌方向。摇滚不一定就是最好的，要多元广泛了解更多的音乐，作为一名中国人，要关注乡土人情，我们的根在那，而不在别的地方。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-43.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-46.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左：罗大佑    右：罗大佑年轻时&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-44.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-45.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左：《之乎者也》    右：《原乡》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    然后就是西北歌王，王洛宾。作为一名老干部，他在西北，收集民歌，改编创作，在抗战时期与解放战争时期就辗转西部地区，历经沧桑几十载。初识王洛宾，是因为刘森翻唱了一首永隔一江水。而后在听罗大佑时，发现他的第二张专辑里翻唱了一首青春舞曲。于是专门去找关于他的专辑，网易云上能听的只有一张，均是由骆宾王收集或者创作，别人翻唱。里面有许多脍炙人口的歌曲，《马车夫之歌》，《青春舞曲》《在那遥远的地方》《掀起你的盖头来》，民歌是民族之声，声声不息。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-47.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;    然后就开始听红歌。红歌荟萃，听了好多红歌。印象很深的是国际歌，东方红和大海航行靠舵手。我老家非常偏僻，但是那老一辈的人好多都会唱这几首（我所知道的）。我最喜欢的是映山红，邓玉华老师演唱的版本，从开始独唱到后面突然器乐声一下子响起来，气势磅礴，“血撒红旗哟旗更红”“革命鲜花哟代代红”这个歌词好，根据地的人民对于红军，中国共产党的期盼，敢于反抗国民党，地主的守旧势力，不怕流血，敢于牺牲的精神令人动容。在经典红歌里可以听出，人民是英雄的，感情是真挚的，所以感动。&lt;&#x2F;p&gt;
&lt;p&gt;对于西方摇滚，我开始认真听起The Beatles（披头士），The Rolling Stones（滚石），Bob Dylan（鲍勃.迪伦），Led Zeppelin（齐柏林飞艇），还有David Bowie（大卫.鲍伊），Iggy Pop（伊基波普）&lt;strong&gt;等等&lt;&#x2F;strong&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;然后，就开始沉迷德国的Kraftwerk（发电站乐队），目前最喜欢的乐队。由最开始的泡菜摇滚开始，成为电子乐的先驱。简单的音色，精彩的编排，令我神往。不像现在商业化电音与满是动次打次的土DJ，发电站的音乐比较纯粹。（可能是祖师爷的时代也没那么多乐器）。歌曲也非常前卫，处处透露着严谨德国人的态度。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-48.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-49.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《Autobahn》（高速公路），模仿汽车上高速的场景，还有彗星划过的声音。特别是他们用电子乐器来模仿鸟叫，营造出东方山水的清幽之感。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-50.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《Trans-Europe Express》，我习惯叫做欧洲特快。整张专辑行云流水，像是坐上高铁穿越欧洲。始发，运行，到站，十分巧妙。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-51.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《The Man Machine》，the model比较出名。使人置身于未来都市，其中metropolis（大都会）个人最为喜欢，为此还特意去看了德国的同名电影，电影也不错。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-52.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《Computer World》，走进电脑与计算的世界，1981年算是深刻预言了现在的社会发展。最爱computer love（旋律优美上头）。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-53.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《Techno Pop》，个人最喜欢的专辑，非常现代成熟。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-54.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;专辑《Tour De France》，为环法自行车赛做的专辑。听起来像是自己在环法，特别是自己骑自行车的时候。&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;顺带也了解了一下ymo（&lt;strong&gt;坂本龙一&lt;&#x2F;strong&gt;之前的乐队，比kraftwerk晚一点）。&lt;&#x2F;p&gt;
&lt;p&gt;    这个时候开始沉迷合成器了，之前的后朋，还有现在一些中国的乐队都较多运用合成器。比较喜欢的乐队是depeche mode（赶时髦）。很经典的合成器流行乐队。刚开始的合成器比较简易，也比较洗脑。&lt;&#x2F;p&gt;
&lt;p&gt;    之后开始回听工业金属。美国的内阁乐队，德国的kmfdm（记成昆明防盗门），都是工业金属先驱。之前听的工业基本都是德式工业，或多或少带点战车味道。&lt;&#x2F;p&gt;
&lt;p&gt;    高考结束后，又开始怀旧，找了许多老歌开始听，听齐豫，张雨生，齐秦，邓丽君，郑智化等（特别是王杰），也终于开始认真听周杰伦了。补齐之前听老歌的版图。&lt;&#x2F;p&gt;
&lt;p&gt;    在了解中国台湾乐坛的时候，再次发现了交工乐队。其实初三就知道了，当时没感觉。一个客家乐队。成立于1999年，台湾客家美浓镇土生土长的乐团，早期因为反美浓水库而受到重视，后来开始关注农民和农村议题，音乐形式也愈趋成熟。客家话虽然我听不懂，但是，土地和人民的语言是共通的。听《菊花夜行军》，非常感动。听菊花夜行军这个歌时，感觉土地之泪，农民之惨，人民之苦，有点不敢听，不忍心听，菊花大降价，菊农只能对着菊花偷偷梦想。听风神125的时候，也是泪目感动，哭出来了，不知道为什么。阿妈的声音深深刺在我心里。“成仔，要努力认真做，别人家如果开辆BMW（可能是某种拖拉机），我们就铁牛车勉强拖，凑合凑合一定会有高进的日子。”但是，初来城市打拼的我却狠狠的失败了，人生幻灭，只能回家乡。于是我骑着风神125（某种土摩托），“辞别这个哮喘的城市”，但是又愧对阿妈，不想让家乡的人知道我的失败。在这种矛盾下，加上主唱林生祥后面绝望近乎嘶吼的嗓音，更令我难绷。这首歌我听了会哭，因为歌里可能写的是自己吧。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-55.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-56.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-57.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;blockquote&gt;
&lt;p&gt;左：《我等就来唱山歌》   右：《菊花夜行军》&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;    暑假快结束的时候，乐队的夏天第三季也开播了。之前很喜欢的乐队也上去了（橘子海比较可惜，看好二手玫瑰），还有给我到来惊喜的小众乐队，不过很可惜没有重型乐队参加。&lt;&#x2F;p&gt;
&lt;p&gt;    最后 评选一下我心目中的十大专辑。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;第一，罗大佑的《之乎者也》&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-44.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;第二，窦唯《雨吁》        个人认为这个才是中国风&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-16.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第三，Kraftwerk《techno pop》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-53.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第四，Kraftwerk《autobahn》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-49.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第五，Alcest《Kodama》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-33.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第六，罗大佑《原乡》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-45.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第七，交工乐队《菊花夜行军》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-57.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第八，Кино《Чёрный Альбом》（黑色专辑） 维克多崔的遗作。&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-58.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第九，Opeth（月亮之城）的《Damnation》不一样的黑金属。&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-26.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;第十，伍佰的《钉子花》&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-24.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;还有几张专辑也是非常喜欢的。&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;鲍家街43号《鲍家街43号》                汪峰老师中国摇滚半壁江山&lt;&#x2F;th&gt;&lt;th&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-59.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;R.E.M.（快转眼球）《Murmur》      另类摇滚祖师爷，快转眼球的第一张专辑&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-60.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;林强的《向前走》                             林强不严谨的说法叫台湾窦唯，闽南语与摇滚结合的开创者，博客名字出自他的另一个专辑&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-61.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;Judas Priest（犹大圣徒）的《Painkiller》（感觉不是翻译成止痛药，我习惯叫超级杀手）                 重金属，非常猛&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-62.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;罗大佑的《青春舞曲-演唱会实况精华》                                                    最喜欢的现场专辑&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-63.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;Кино的《Последний герой》（最后的英雄）                                     Группа крови（血液型）据说俄罗斯人都会唱。很深刻&lt;&#x2F;td&gt;&lt;td&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;music-history1&#x2F;0-64.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>第一回，弃window渐入轻盈境，装Arch走入坑深底</title>
        <published>2023-09-24T00:00:00+00:00</published>
        <updated>2023-09-24T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/linux-trip/1/"/>
        <id>https://blog.0pt.icu/posts/linux-trip/1/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/linux-trip/1/">&lt;h1 id=&quot;di-yi-hui-qi-windowjian-ru-qing-ying-jing-zhuang-archzou-ru-keng-shen-di&quot;&gt;第一回，弃window渐入轻盈境，装Arch走入坑深底&lt;&#x2F;h1&gt;
&lt;p&gt;2023-09-24&lt;&#x2F;p&gt;
&lt;h1 id=&quot;1-wei-shen-me-fang-qi-window&quot;&gt;1.为什么放弃window&lt;&#x2F;h1&gt;
&lt;p&gt;其一，不太喜欢电脑上的window11，更喜欢window7.&lt;&#x2F;p&gt;
&lt;p&gt;其二，QQ删不净，春风吹又生。&lt;&#x2F;p&gt;
&lt;p&gt;其三，笔记本电脑上的window11不太行。&lt;&#x2F;p&gt;
&lt;p&gt;其四，朋友力推linux,没接触过linux，想试试。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;2-huan-jing-jie-shao&quot;&gt;2.环境介绍&lt;&#x2F;h1&gt;
&lt;h2 id=&quot;ying-jian-huan-jing-yu-zhu-yi-shi-xiang&quot;&gt;硬件环境与注意事项。&lt;&#x2F;h2&gt;
&lt;p&gt;本人使用天选4笔记本，预装&lt;code&gt;window11&lt;&#x2F;code&gt;，&lt;code&gt;intel&lt;&#x2F;code&gt;的&lt;code&gt;cpu&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;window11&lt;&#x2F;code&gt;有&lt;code&gt;bitlocker&lt;&#x2F;code&gt;，需要先解密&lt;code&gt;bitlocker&lt;&#x2F;code&gt;再安装，不然硬盘会炸。&lt;&#x2F;p&gt;
&lt;p&gt;intel采用了一种叫&lt;code&gt;intel VMD&lt;&#x2F;code&gt;技术的东西，需要在bios设置里关掉，不然会把分区表搞炸导致进不去系统。&lt;&#x2F;p&gt;
&lt;p&gt;在bios关掉&lt;code&gt;intel VMD&lt;&#x2F;code&gt;后，原有的&lt;code&gt;window11&lt;&#x2F;code&gt;系统会进不去，需要特别注意先备份重要文件。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;3-xuan-ze-linux&quot;&gt;3.选择linux&lt;&#x2F;h1&gt;
&lt;p&gt;经朋友推荐，使用&lt;code&gt;Arch Linux&lt;&#x2F;code&gt;。为了安装方便，选用&lt;code&gt;EndeavourOS&lt;&#x2F;code&gt;这个&lt;code&gt;Arch Linux&lt;&#x2F;code&gt;的发行版。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;4-zhi-zuo-jing-xiang-qi-dong-pan&quot;&gt;4.制作镜像启动盘&lt;&#x2F;h1&gt;
&lt;p&gt;采用&lt;code&gt;ventoy&lt;&#x2F;code&gt;制作启动盘。&lt;&#x2F;p&gt;
&lt;p&gt;先访问&lt;code&gt;ventoy&lt;&#x2F;code&gt;官网的下载页，&lt;a href=&quot;https:&#x2F;&#x2F;www.ventoy.net&#x2F;cn&#x2F;download.html&quot;&gt;点击跳转&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;1.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;根据自己所在的系统选择版本，我还是&lt;code&gt;window&lt;&#x2F;code&gt;所以下载window版本的。&lt;&#x2F;p&gt;
&lt;p&gt;这里下载连接会转跳到github，如果下载不了请用下面那些链接。&lt;&#x2F;p&gt;
&lt;p&gt;下载完成后解压出来。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;2.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;点击进入程序。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;3.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;可以先更改一下语言为中文。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;4.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;接下来更改分区类型为GPT。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;5.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;进入分区设置，把文件系统改为&lt;code&gt;NTFS&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;6.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;7.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;然后插上&lt;code&gt;u盘&lt;&#x2F;code&gt;，打开&lt;code&gt;ventoy&lt;&#x2F;code&gt;，点击安装。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;9.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;等待进度条跑完。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;10.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;11.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;在我们电脑上可以看到我们的u盘名字已经变成&lt;code&gt;ventoy&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;12.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;13.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;ventoy&lt;&#x2F;code&gt;启动盘制作完成。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;5-xia-zai-jing-xiang&quot;&gt;5.下载镜像&lt;&#x2F;h1&gt;
&lt;p&gt;进入&lt;code&gt;EndeavourOS&lt;&#x2F;code&gt;官网，&lt;a href=&quot;https:&#x2F;&#x2F;endeavouros.com&#x2F;#Download&quot;&gt;点击转跳&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;往下滑就可以看到镜像下载链接，可以选择中国地区的。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;14.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;下载完成后把镜像复制到&lt;code&gt;ventoy启动盘&lt;&#x2F;code&gt;里。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;15.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;我们后面可以从&lt;code&gt;ventoy启动盘&lt;&#x2F;code&gt;里启动&lt;code&gt;EndeavourOS安装镜像&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;h1 id=&quot;6-qi-dong-an-zhuang-jing-xiang&quot;&gt;6.启动安装镜像&lt;&#x2F;h1&gt;
&lt;p&gt;电脑关机后，插上刚才制作的&lt;code&gt;ventoy启动盘&lt;&#x2F;code&gt;，开机，进BIOS。华硕主板是按&lt;code&gt;F2&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;进来后点击启动菜单。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;16.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;会出现选择设备启动。这里演示的时候我的设备上有多个系统，所以选项比较多，选择&lt;code&gt;ventoy启动盘&lt;&#x2F;code&gt;即可。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;17.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;进入&lt;code&gt;ventoy启动盘&lt;&#x2F;code&gt;后，我们可以看到刚才拷进来的&lt;code&gt;EndeavourOS镜像&lt;&#x2F;code&gt;，直接回车。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;ventoy的强大之处在于，你可以拷进来多个镜像，都可以启动，如果安装其他系统，使用ventoy来启动镜像也是不错的。&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;18.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;一般来说直接第一个&lt;code&gt;normal mode&lt;&#x2F;code&gt;即可。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;19.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;之后就进入到&lt;code&gt;EndeavourOS&lt;&#x2F;code&gt;的安装镜像里了。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;20.jpg&quot; alt=&quot;&quot; &#x2F;&gt;如果是Nvidia用户可以按方向键，选择第二个，它会在安装系统的时候一起把Nvidia显卡驱动(闭源)，一起装了。选好后回车进入。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;21.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;进来后，先点&lt;code&gt;Wi-Fi&lt;&#x2F;code&gt;连网。因为在线安装可以预装&lt;code&gt;KDE桌面环境&lt;&#x2F;code&gt;。我选择用&lt;code&gt;KDE&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;22.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;完成后，跟着箭头点。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;23.jpg&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;24.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;25.png&quot; alt=&quot;&quot; &#x2F;&gt;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;这里选择在线安装。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;26.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选择简体中文。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;27.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;28.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;注意键盘选英语。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;29.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;选KDE。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;30.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;根据情况勾选，不知道直接默认就行。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;31.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;电脑上是多系统的话选Grub，直接选Grub也行。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;32.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;这里我在笔记本上加装了一个固态硬盘专门给Linux。需要提前给固态分区，格式化固态。选择这个固态，并抹除磁盘，注意文件系统选&lt;code&gt;btrfs&lt;&#x2F;code&gt;。&lt;&#x2F;p&gt;
&lt;p&gt;有需求加密系统可以加密一下。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;33.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;自己设置。&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;34.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;img.0pt.icu&#x2F;learn&#x2F;linux-trip&#x2F;1&#x2F;35.png&quot; alt=&quot;&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;之后就是等待安装了。安装完成后关机。&lt;&#x2F;p&gt;
&lt;p&gt;拔掉ventoy启动盘，开机，按上面的方法进入bios找启动菜单，启动EndeavourOS。&lt;&#x2F;p&gt;
&lt;p&gt;现在一个带有KDE桌面环境的Arch Linux就安装完成。&lt;&#x2F;p&gt;
&lt;p&gt;KDE是十分好用的桌面环境，从window装换到linux不会特别不适应。可以自定义很多功能，使其更加强大。&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="en">
        <title>My first post</title>
        <published>2023-09-24T00:00:00+00:00</published>
        <updated>2023-09-24T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.0pt.icu/posts/think/my-first-post/"/>
        <id>https://blog.0pt.icu/posts/think/my-first-post/</id>
        
        <content type="html" xml:base="https://blog.0pt.icu/posts/think/my-first-post/">&lt;h1 id=&quot;my-first-post&quot;&gt;My first post&lt;&#x2F;h1&gt;
&lt;p&gt;2023-09-24&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zheng-wen&quot;&gt;正文&lt;&#x2F;h2&gt;
&lt;p&gt;他拉着一口棺材，穿越在广袤的冰原上，冰雪覆盖的大地上白雪皑皑，寒风呼啸而过，将他包裹在一片银白的孤独之中。&lt;&#x2F;p&gt;
&lt;p&gt;他回想起来先前的不幸遭遇。在一个寒冷的夏日，美国东京的华尔街被一股异常寒冷的西伯利亚寒潮所笼罩。他，一个年轻普通的男人，命运似乎已经注定要与渥太华大公的命运交织在一起。他因为无意中触碰了渥太华大公的驴车，被迫接受了一项不可思议的处罚，要拉着一口棺材，从美国纽约的自由女神像走到苏联基辅的英雄母亲雕塑前。&lt;&#x2F;p&gt;
&lt;p&gt;冷风呼啸而过，寒意透骨，缺总是不乏勇士猛人。阿兹特克战士们突如其来地出现，这些阿兹特克战士身着华丽的鹅毛服装，脸上覆盖着神秘的面具，手持古老的长戟。他们突然从白茫茫的雪地中冒出，围绕他形成了一个圆圈。&lt;&#x2F;p&gt;
&lt;p&gt;阿兹特克战士发出战吼，面具掩盖着他们浴血战斗的欲望，若干年后，当世界上的纳粹们疯狂进攻时，人们才能体会到另一种程度的对血的渴望，以至于十字架与大蒜成为对抗他们的强大武器。&lt;&#x2F;p&gt;
&lt;p&gt;他打心底的害怕他们，但是，头脑里的想法很快清除了，取而代之的是，让之后数千年的各国学者都摸不着头脑的一句话——保护好棺材！当阿兹特克战士的长戟刺向棺材时，他冲了上去。血并没有流下来？他十分疑惑的看着刺穿身体的长戟。&lt;&#x2F;p&gt;
&lt;p&gt;阿兹特克战士开始颤抖，扔下武器，逃走了。远处，一队大汗的侦察兵现身。他们被称为穆罕默德之鞭。矮小的战士，骑着牛，挥舞着笛子。这些勇敢的骑兵征服了大半个非洲，现在，要来制服这片冰原。他们拼尽全力，冲向了他。&lt;&#x2F;p&gt;
&lt;p&gt;他拔出长戟，奋力一挥，割下了一对牛角。他举起一头牛，狠狠地向骑兵砸去。然而，绕后的骑兵将棺材顶翻了。他继续用胸膛将牛角顶住，任凭骑兵吹出何种吊诡的终曲，敌不过他的不死之躯。于是骑兵仓皇撤离。&lt;&#x2F;p&gt;
&lt;p&gt;骑兵回报大汗曰：“有一人，引一棺，五音不入，牛角不伤，亦人亦鬼，似是天神下凡。””天意如此，岂能逆天而为？“大汗从此停止了对冰原的制服。再过数百年，曼彻斯特，马赛与亚历山大港的人民会举起夜壶欢庆，庆祝那个打败了大汗的英雄。而大汗王庭所在地华盛顿会永远铭记那个让他们耻辱的日子。&lt;&#x2F;p&gt;
&lt;p&gt;他现在有机会好好看看这口棺材了。用越南紫檀木作的棺木，印第安的黄金，南非的宝石镶嵌其中。其正中，是拿破仑请自用毛笔题写的梵语：चितायां शयानस्य व्यक्तिस्य महत्त्वं नास्ति。&lt;&#x2F;p&gt;
&lt;p&gt;冰原上，城市拔地而起。穿过拥挤的人群，望向闪烁着霓虹灯的街道。玛雅人的城市——君士坦丁。过去，这里人们用红砖盖房子，现在，他们挖走了红砖，换上了水泥与钢筋。未来，可能就用上了新型高分子材料。&lt;&#x2F;p&gt;
&lt;p&gt;他几乎是刚来到城市，就火了起来。艺术家认为他是前卫先锋，行为艺术天王。人们认为他是猎奇素材，饭后谈资。明星认为他是两年半出道，五体投地。网红认为他是流量担当。纷纷效仿。政客认为他是行走的选票，资本家认为他是麻痹人民的工具。高深的知识分子对此非常不屑，认为他只不过是一个哗众取宠的小丑。于是人们为他树立了一个纪念碑，把他刻在了十字架上，想永远纪念他，没过几个月，就被推倒了。&lt;&#x2F;p&gt;
&lt;p&gt;第二天，他就离开了带上了冰工厂里人们生产出来的可乐，米老鼠与炸弹。这些东西，随着他的行走，散落在街上，后来，都成为了游乐的工具。&lt;&#x2F;p&gt;
&lt;p&gt;终于，他远远看见了英雄母亲雕像，被甜雨腐蚀的面目全非。风中飘来一段语音播报。我们摧毁，我们制服。&lt;&#x2F;p&gt;
&lt;p&gt;还有100米，他倒下了。负担很轻，但身体麻木。他在某一次睁开眼时，发现自己从未离开过棺材里。&lt;&#x2F;p&gt;
&lt;p&gt;人们最后发现了他，他是dag冰原的英雄。无数后来人对他进行歌颂。有人说他离开了宫廷生活，选择成为苦行僧，寻求解决人类痛苦的方法。然后，他在悟道菩提树下进行了长时间的冥想，最终实现了真正的觉醒，称之为涅槃；还有人说，他是上帝的儿子和救世主，强调了爱、宽恕、仁慈和关怀弱者，但是他被捕、审判和钉在十字架上受刑处死，最终在第三天从死亡中复活，为世人的罪提供了救赎。有人说，他决心要追逐太阳。每天，他追赶太阳，试图抓住它，但太阳始终在他手边遥不可及。他追逐的过程中，不断奔跑，导致地球干涸，江河湖泊枯竭，植被死亡；还有人说，他是太上老君，如来佛祖。但是更多的人将感恩他，如同感恩自己的一日三餐那样。&lt;&#x2F;p&gt;
</content>
        
    </entry>
</feed>
